var nW=Object.defineProperty;var aW=(t,e,r)=>e in t?nW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var sW=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var he=(t,e,r)=>aW(t,typeof e!="symbol"?e+"":e,r);var n7e=sW((pn,gn)=>{function oW(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var i5={exports:{}},Dx={},l5={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=Symbol.for("react.element"),iW=Symbol.for("react.portal"),lW=Symbol.for("react.fragment"),cW=Symbol.for("react.strict_mode"),uW=Symbol.for("react.profiler"),dW=Symbol.for("react.provider"),fW=Symbol.for("react.context"),mW=Symbol.for("react.forward_ref"),hW=Symbol.for("react.suspense"),pW=Symbol.for("react.memo"),gW=Symbol.for("react.lazy"),XO=Symbol.iterator;function yW(t){return t===null||typeof t!="object"?null:(t=XO&&t[XO]||t["@@iterator"],typeof t=="function"?t:null)}var c5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u5=Object.assign,d5={};function Jc(t,e,r){this.props=t,this.context=e,this.refs=d5,this.updater=r||c5}Jc.prototype.isReactComponent={};Jc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f5(){}f5.prototype=Jc.prototype;function Ck(t,e,r){this.props=t,this.context=e,this.refs=d5,this.updater=r||c5}var Nk=Ck.prototype=new f5;Nk.constructor=Ck;u5(Nk,Jc.prototype);Nk.isPureReactComponent=!0;var JO=Array.isArray,m5=Object.prototype.hasOwnProperty,Sk={current:null},h5={key:!0,ref:!0,__self:!0,__source:!0};function p5(t,e,r){var n,a={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)m5.call(e,n)&&!h5.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:vm,type:t,key:s,ref:i,props:a,_owner:Sk.current}}function bW(t,e){return{$$typeof:vm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ak(t){return typeof t=="object"&&t!==null&&t.$$typeof===vm}function xW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var QO=/\/+/g;function Lw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xW(""+t.key):e.toString(36)}function fp(t,e,r,n,a){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case vm:case iW:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+Lw(i,0):n,JO(a)?(r="",t!=null&&(r=t.replace(QO,"$&/")+"/"),fp(a,e,r,"",function(u){return u})):a!=null&&(Ak(a)&&(a=bW(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(QO,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",JO(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+Lw(s,l);i+=fp(s,e,r,c,a)}else if(c=yW(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+Lw(s,l++),i+=fp(s,e,r,c,a);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function nh(t,e,r){if(t==null)return t;var n=[],a=0;return fp(t,n,"","",function(s){return e.call(r,s,a++)}),n}function vW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Br={current:null},mp={transition:null},jW={ReactCurrentDispatcher:Br,ReactCurrentBatchConfig:mp,ReactCurrentOwner:Sk};function g5(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:nh,forEach:function(t,e,r){nh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return nh(t,function(){e++}),e},toArray:function(t){return nh(t,function(e){return e})||[]},only:function(t){if(!Ak(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};We.Component=Jc;We.Fragment=lW;We.Profiler=uW;We.PureComponent=Ck;We.StrictMode=cW;We.Suspense=hW;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jW;We.act=g5;We.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=u5({},t.props),a=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=Sk.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)m5.call(e,c)&&!h5.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:vm,type:t.type,key:a,ref:s,props:n,_owner:i}};We.createContext=function(t){return t={$$typeof:fW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dW,_context:t},t.Consumer=t};We.createElement=p5;We.createFactory=function(t){var e=p5.bind(null,t);return e.type=t,e};We.createRef=function(){return{current:null}};We.forwardRef=function(t){return{$$typeof:mW,render:t}};We.isValidElement=Ak;We.lazy=function(t){return{$$typeof:gW,_payload:{_status:-1,_result:t},_init:vW}};We.memo=function(t,e){return{$$typeof:pW,type:t,compare:e===void 0?null:e}};We.startTransition=function(t){var e=mp.transition;mp.transition={};try{t()}finally{mp.transition=e}};We.unstable_act=g5;We.useCallback=function(t,e){return Br.current.useCallback(t,e)};We.useContext=function(t){return Br.current.useContext(t)};We.useDebugValue=function(){};We.useDeferredValue=function(t){return Br.current.useDeferredValue(t)};We.useEffect=function(t,e){return Br.current.useEffect(t,e)};We.useId=function(){return Br.current.useId()};We.useImperativeHandle=function(t,e,r){return Br.current.useImperativeHandle(t,e,r)};We.useInsertionEffect=function(t,e){return Br.current.useInsertionEffect(t,e)};We.useLayoutEffect=function(t,e){return Br.current.useLayoutEffect(t,e)};We.useMemo=function(t,e){return Br.current.useMemo(t,e)};We.useReducer=function(t,e,r){return Br.current.useReducer(t,e,r)};We.useRef=function(t){return Br.current.useRef(t)};We.useState=function(t){return Br.current.useState(t)};We.useSyncExternalStore=function(t,e,r){return Br.current.useSyncExternalStore(t,e,r)};We.useTransition=function(){return Br.current.useTransition()};We.version="18.3.1";l5.exports=We;var v=l5.exports;const q=Ze(v),So=oW({__proto__:null,default:q},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wW=v,CW=Symbol.for("react.element"),NW=Symbol.for("react.fragment"),SW=Object.prototype.hasOwnProperty,AW=wW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TW={key:!0,ref:!0,__self:!0,__source:!0};function y5(t,e,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)SW.call(e,n)&&!TW.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:CW,type:t,key:s,ref:i,props:a,_owner:AW.current}}Dx.Fragment=NW;Dx.jsx=y5;Dx.jsxs=y5;i5.exports=Dx;var o=i5.exports,xN={},b5={exports:{}},Sn={},x5={exports:{}},v5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,R){var F=_.length;_.push(R);e:for(;0<F;){var G=F-1>>>1,W=_[G];if(0<a(W,R))_[G]=R,_[F]=W,F=G;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var R=_[0],F=_.pop();if(F!==R){_[0]=F;e:for(var G=0,W=_.length,Z=W>>>1;G<Z;){var fe=2*(G+1)-1,Te=_[fe],ne=fe+1,K=_[ne];if(0>a(Te,F))ne<W&&0>a(K,Te)?(_[G]=K,_[ne]=F,G=ne):(_[G]=Te,_[fe]=F,G=fe);else if(ne<W&&0>a(K,F))_[G]=K,_[ne]=F,G=ne;else break e}}return R}function a(_,R){var F=_.sortIndex-R.sortIndex;return F!==0?F:_.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=_)n(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=r(u)}}function S(_){if(g=!1,w(_),!p)if(r(c)!==null)p=!0,B(C);else{var R=r(u);R!==null&&U(S,R.startTime-_)}}function C(_,R){p=!1,g&&(g=!1,x(T),T=-1),h=!0;var F=m;try{for(w(R),f=r(c);f!==null&&(!(f.expirationTime>R)||_&&!O());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var W=G(f.expirationTime<=R);R=t.unstable_now(),typeof W=="function"?f.callback=W:f===r(c)&&n(c),w(R)}else n(c);f=r(c)}if(f!==null)var Z=!0;else{var fe=r(u);fe!==null&&U(S,fe.startTime-R),Z=!1}return Z}finally{f=null,m=F,h=!1}}var j=!1,N=null,T=-1,k=5,E=-1;function O(){return!(t.unstable_now()-E<k)}function P(){if(N!==null){var _=t.unstable_now();E=_;var R=!0;try{R=N(!0,_)}finally{R?L():(j=!1,N=null)}}else j=!1}var L;if(typeof b=="function")L=function(){b(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,D=$.port2;$.port1.onmessage=P,L=function(){D.postMessage(null)}}else L=function(){y(P,0)};function B(_){N=_,j||(j=!0,L())}function U(_,R){T=y(function(){_(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,B(C))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(_){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var F=m;m=R;try{return _()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,R){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var F=m;m=_;try{return R()}finally{m=F}},t.unstable_scheduleCallback=function(_,R,F){var G=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,_){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,_={id:d++,callback:R,priorityLevel:_,startTime:F,expirationTime:W,sortIndex:-1},F>G?(_.sortIndex=F,e(u,_),r(c)===null&&_===r(u)&&(g?(x(T),T=-1):g=!0,U(S,F-G))):(_.sortIndex=W,e(c,_),p||h||(p=!0,B(C))),_},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(_){var R=m;return function(){var F=m;m=R;try{return _.apply(this,arguments)}finally{m=F}}}})(v5);x5.exports=v5;var kW=x5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IW=v,xn=kW;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j5=new Set,Zd={};function tl(t,e){gc(t,e),gc(t+"Capture",e)}function gc(t,e){for(Zd[t]=e,t=0;t<e.length;t++)j5.add(e[t])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vN=Object.prototype.hasOwnProperty,OW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZO={},eE={};function EW(t){return vN.call(eE,t)?!0:vN.call(ZO,t)?!1:OW.test(t)?eE[t]=!0:(ZO[t]=!0,!1)}function PW(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DW(t,e,r,n){if(e===null||typeof e>"u"||PW(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qr(t,e,r,n,a,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var Sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Sr[t]=new qr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Sr[e]=new qr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Sr[t]=new qr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Sr[t]=new qr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Sr[t]=new qr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Sr[t]=new qr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Sr[t]=new qr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Sr[t]=new qr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Sr[t]=new qr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tk=/[\-:]([a-z])/g;function kk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tk,kk);Sr[e]=new qr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tk,kk);Sr[e]=new qr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tk,kk);Sr[e]=new qr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Sr[t]=new qr(t,1,!1,t.toLowerCase(),null,!1,!1)});Sr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Sr[t]=new qr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ik(t,e,r,n){var a=Sr.hasOwnProperty(e)?Sr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DW(e,r,a,n)&&(r=null),n||a===null?EW(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ds=IW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ah=Symbol.for("react.element"),Il=Symbol.for("react.portal"),Ol=Symbol.for("react.fragment"),Ok=Symbol.for("react.strict_mode"),jN=Symbol.for("react.profiler"),w5=Symbol.for("react.provider"),C5=Symbol.for("react.context"),Ek=Symbol.for("react.forward_ref"),wN=Symbol.for("react.suspense"),CN=Symbol.for("react.suspense_list"),Pk=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),N5=Symbol.for("react.offscreen"),tE=Symbol.iterator;function xu(t){return t===null||typeof t!="object"?null:(t=tE&&t[tE]||t["@@iterator"],typeof t=="function"?t:null)}var Rt=Object.assign,Fw;function Qu(t){if(Fw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Fw=e&&e[1]||""}return`
`+Fw+t}var Bw=!1;function qw(t,e){if(!t||Bw)return"";Bw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Bw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Qu(t):""}function _W(t){switch(t.tag){case 5:return Qu(t.type);case 16:return Qu("Lazy");case 13:return Qu("Suspense");case 19:return Qu("SuspenseList");case 0:case 2:case 15:return t=qw(t.type,!1),t;case 11:return t=qw(t.type.render,!1),t;case 1:return t=qw(t.type,!0),t;default:return""}}function NN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ol:return"Fragment";case Il:return"Portal";case jN:return"Profiler";case Ok:return"StrictMode";case wN:return"Suspense";case CN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C5:return(t.displayName||"Context")+".Consumer";case w5:return(t._context.displayName||"Context")+".Provider";case Ek:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pk:return e=t.displayName||null,e!==null?e:NN(t.type)||"Memo";case Ys:e=t._payload,t=t._init;try{return NN(t(e))}catch{}}return null}function $W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return NN(e);case 8:return e===Ok?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ao(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RW(t){var e=S5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sh(t){t._valueTracker||(t._valueTracker=RW(t))}function A5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=S5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Mb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function SN(t,e){var r=e.checked;return Rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function rE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ao(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function T5(t,e){e=e.checked,e!=null&&Ik(t,"checked",e,!1)}function AN(t,e){T5(t,e);var r=Ao(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?TN(t,e.type,r):e.hasOwnProperty("defaultValue")&&TN(t,e.type,Ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function TN(t,e,r){(e!=="number"||Mb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Zu=Array.isArray;function Hl(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ao(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function kN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ce(92));if(Zu(r)){if(1<r.length)throw Error(ce(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ao(r)}}function k5(t,e){var r=Ao(e.value),n=Ao(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function sE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function I5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function IN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?I5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oh,O5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oh=oh||document.createElement("div"),oh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ef(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MW=["Webkit","ms","Moz","O"];Object.keys(hd).forEach(function(t){MW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hd[e]=hd[t]})});function E5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||hd.hasOwnProperty(t)&&hd[t]?(""+e).trim():e+"px"}function P5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=E5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var LW=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ON(t,e){if(e){if(LW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function EN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PN=null;function Dk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var DN=null,Gl=null,Yl=null;function oE(t){if(t=Cm(t)){if(typeof DN!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Lx(e),DN(t.stateNode,t.type,e))}}function D5(t){Gl?Yl?Yl.push(t):Yl=[t]:Gl=t}function _5(){if(Gl){var t=Gl,e=Yl;if(Yl=Gl=null,oE(t),e)for(t=0;t<e.length;t++)oE(e[t])}}function $5(t,e){return t(e)}function R5(){}var Vw=!1;function M5(t,e,r){if(Vw)return t(e,r);Vw=!0;try{return $5(t,e,r)}finally{Vw=!1,(Gl!==null||Yl!==null)&&(R5(),_5())}}function tf(t,e){var r=t.stateNode;if(r===null)return null;var n=Lx(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ce(231,e,typeof r));return r}var _N=!1;if(ws)try{var vu={};Object.defineProperty(vu,"passive",{get:function(){_N=!0}}),window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{_N=!1}function FW(t,e,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var pd=!1,Lb=null,Fb=!1,$N=null,BW={onError:function(t){pd=!0,Lb=t}};function qW(t,e,r,n,a,s,i,l,c){pd=!1,Lb=null,FW.apply(BW,arguments)}function VW(t,e,r,n,a,s,i,l,c){if(qW.apply(this,arguments),pd){if(pd){var u=Lb;pd=!1,Lb=null}else throw Error(ce(198));Fb||(Fb=!0,$N=u)}}function rl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function L5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iE(t){if(rl(t)!==t)throw Error(ce(188))}function UW(t){var e=t.alternate;if(!e){if(e=rl(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return iE(a),t;if(s===n)return iE(a),e;s=s.sibling}throw Error(ce(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?t:e}function F5(t){return t=UW(t),t!==null?B5(t):null}function B5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=B5(t);if(e!==null)return e;t=t.sibling}return null}var q5=xn.unstable_scheduleCallback,lE=xn.unstable_cancelCallback,zW=xn.unstable_shouldYield,WW=xn.unstable_requestPaint,Ht=xn.unstable_now,HW=xn.unstable_getCurrentPriorityLevel,_k=xn.unstable_ImmediatePriority,V5=xn.unstable_UserBlockingPriority,Bb=xn.unstable_NormalPriority,GW=xn.unstable_LowPriority,U5=xn.unstable_IdlePriority,_x=null,Ia=null;function YW(t){if(Ia&&typeof Ia.onCommitFiberRoot=="function")try{Ia.onCommitFiberRoot(_x,t,void 0,(t.current.flags&128)===128)}catch{}}var la=Math.clz32?Math.clz32:JW,KW=Math.log,XW=Math.LN2;function JW(t){return t>>>=0,t===0?32:31-(KW(t)/XW|0)|0}var ih=64,lh=4194304;function ed(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=ed(l):(s&=i,s!==0&&(n=ed(s)))}else i=r&~a,i!==0?n=ed(i):s!==0&&(n=ed(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-la(e),a=1<<r,n|=t[r],e&=~a;return n}function QW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZW(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-la(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=QW(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function RN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z5(){var t=ih;return ih<<=1,!(ih&4194240)&&(ih=64),t}function Uw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function jm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-la(e),t[e]=r}function e9(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-la(r),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~s}}function $k(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-la(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var lt=0;function W5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H5,Rk,G5,Y5,K5,MN=!1,ch=[],uo=null,fo=null,mo=null,rf=new Map,nf=new Map,Zs=[],t9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cE(t,e){switch(t){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":rf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(e.pointerId)}}function ju(t,e,r,n,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=Cm(e),e!==null&&Rk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function r9(t,e,r,n,a){switch(e){case"focusin":return uo=ju(uo,t,e,r,n,a),!0;case"dragenter":return fo=ju(fo,t,e,r,n,a),!0;case"mouseover":return mo=ju(mo,t,e,r,n,a),!0;case"pointerover":var s=a.pointerId;return rf.set(s,ju(rf.get(s)||null,t,e,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,nf.set(s,ju(nf.get(s)||null,t,e,r,n,a)),!0}return!1}function X5(t){var e=pi(t.target);if(e!==null){var r=rl(e);if(r!==null){if(e=r.tag,e===13){if(e=L5(r),e!==null){t.blockedOn=e,K5(t.priority,function(){G5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=LN(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);PN=n,r.target.dispatchEvent(n),PN=null}else return e=Cm(r),e!==null&&Rk(e),t.blockedOn=r,!1;e.shift()}return!0}function uE(t,e,r){hp(t)&&r.delete(e)}function n9(){MN=!1,uo!==null&&hp(uo)&&(uo=null),fo!==null&&hp(fo)&&(fo=null),mo!==null&&hp(mo)&&(mo=null),rf.forEach(uE),nf.forEach(uE)}function wu(t,e){t.blockedOn===e&&(t.blockedOn=null,MN||(MN=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,n9)))}function af(t){function e(a){return wu(a,t)}if(0<ch.length){wu(ch[0],t);for(var r=1;r<ch.length;r++){var n=ch[r];n.blockedOn===t&&(n.blockedOn=null)}}for(uo!==null&&wu(uo,t),fo!==null&&wu(fo,t),mo!==null&&wu(mo,t),rf.forEach(e),nf.forEach(e),r=0;r<Zs.length;r++)n=Zs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Zs.length&&(r=Zs[0],r.blockedOn===null);)X5(r),r.blockedOn===null&&Zs.shift()}var Kl=Ds.ReactCurrentBatchConfig,Vb=!0;function a9(t,e,r,n){var a=lt,s=Kl.transition;Kl.transition=null;try{lt=1,Mk(t,e,r,n)}finally{lt=a,Kl.transition=s}}function s9(t,e,r,n){var a=lt,s=Kl.transition;Kl.transition=null;try{lt=4,Mk(t,e,r,n)}finally{lt=a,Kl.transition=s}}function Mk(t,e,r,n){if(Vb){var a=LN(t,e,r,n);if(a===null)Zw(t,e,n,Ub,r),cE(t,n);else if(r9(a,t,e,r,n))n.stopPropagation();else if(cE(t,n),e&4&&-1<t9.indexOf(t)){for(;a!==null;){var s=Cm(a);if(s!==null&&H5(s),s=LN(t,e,r,n),s===null&&Zw(t,e,n,Ub,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Zw(t,e,n,null,r)}}var Ub=null;function LN(t,e,r,n){if(Ub=null,t=Dk(n),t=pi(t),t!==null)if(e=rl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=L5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ub=t,null}function J5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HW()){case _k:return 1;case V5:return 4;case Bb:case GW:return 16;case U5:return 536870912;default:return 16}default:return 16}}var ro=null,Lk=null,pp=null;function Q5(){if(pp)return pp;var t,e=Lk,r=e.length,n,a="value"in ro?ro.value:ro.textContent,s=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[s-n];n++);return pp=a.slice(t,1<n?1-n:void 0)}function gp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uh(){return!0}function dE(){return!1}function An(t){function e(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uh:dE,this.isPropagationStopped=dE,this}return Rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uh)},persist:function(){},isPersistent:uh}),e}var Qc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fk=An(Qc),wm=Rt({},Qc,{view:0,detail:0}),o9=An(wm),zw,Ww,Cu,$x=Rt({},wm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cu&&(Cu&&t.type==="mousemove"?(zw=t.screenX-Cu.screenX,Ww=t.screenY-Cu.screenY):Ww=zw=0,Cu=t),zw)},movementY:function(t){return"movementY"in t?t.movementY:Ww}}),fE=An($x),i9=Rt({},$x,{dataTransfer:0}),l9=An(i9),c9=Rt({},wm,{relatedTarget:0}),Hw=An(c9),u9=Rt({},Qc,{animationName:0,elapsedTime:0,pseudoElement:0}),d9=An(u9),f9=Rt({},Qc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),m9=An(f9),h9=Rt({},Qc,{data:0}),mE=An(h9),p9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y9[t])?!!e[t]:!1}function Bk(){return b9}var x9=Rt({},wm,{key:function(t){if(t.key){var e=p9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?g9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bk,charCode:function(t){return t.type==="keypress"?gp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v9=An(x9),j9=Rt({},$x,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hE=An(j9),w9=Rt({},wm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bk}),C9=An(w9),N9=Rt({},Qc,{propertyName:0,elapsedTime:0,pseudoElement:0}),S9=An(N9),A9=Rt({},$x,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T9=An(A9),k9=[9,13,27,32],qk=ws&&"CompositionEvent"in window,gd=null;ws&&"documentMode"in document&&(gd=document.documentMode);var I9=ws&&"TextEvent"in window&&!gd,Z5=ws&&(!qk||gd&&8<gd&&11>=gd),pE=" ",gE=!1;function e4(t,e){switch(t){case"keyup":return k9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var El=!1;function O9(t,e){switch(t){case"compositionend":return t4(e);case"keypress":return e.which!==32?null:(gE=!0,pE);case"textInput":return t=e.data,t===pE&&gE?null:t;default:return null}}function E9(t,e){if(El)return t==="compositionend"||!qk&&e4(t,e)?(t=Q5(),pp=Lk=ro=null,El=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z5&&e.locale!=="ko"?null:e.data;default:return null}}var P9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P9[t.type]:e==="textarea"}function r4(t,e,r,n){D5(n),e=zb(e,"onChange"),0<e.length&&(r=new Fk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var yd=null,sf=null;function D9(t){m4(t,0)}function Rx(t){var e=_l(t);if(A5(e))return t}function _9(t,e){if(t==="change")return e}var n4=!1;if(ws){var Gw;if(ws){var Yw="oninput"in document;if(!Yw){var bE=document.createElement("div");bE.setAttribute("oninput","return;"),Yw=typeof bE.oninput=="function"}Gw=Yw}else Gw=!1;n4=Gw&&(!document.documentMode||9<document.documentMode)}function xE(){yd&&(yd.detachEvent("onpropertychange",a4),sf=yd=null)}function a4(t){if(t.propertyName==="value"&&Rx(sf)){var e=[];r4(e,sf,t,Dk(t)),M5(D9,e)}}function $9(t,e,r){t==="focusin"?(xE(),yd=e,sf=r,yd.attachEvent("onpropertychange",a4)):t==="focusout"&&xE()}function R9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rx(sf)}function M9(t,e){if(t==="click")return Rx(e)}function L9(t,e){if(t==="input"||t==="change")return Rx(e)}function F9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ha=typeof Object.is=="function"?Object.is:F9;function of(t,e){if(ha(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!vN.call(e,a)||!ha(t[a],e[a]))return!1}return!0}function vE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jE(t,e){var r=vE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vE(r)}}function s4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o4(){for(var t=window,e=Mb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Mb(t.document)}return e}function Vk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B9(t){var e=o4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&s4(r.ownerDocument.documentElement,r)){if(n!==null&&Vk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=jE(r,s);var i=jE(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var q9=ws&&"documentMode"in document&&11>=document.documentMode,Pl=null,FN=null,bd=null,BN=!1;function wE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;BN||Pl==null||Pl!==Mb(n)||(n=Pl,"selectionStart"in n&&Vk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bd&&of(bd,n)||(bd=n,n=zb(FN,"onSelect"),0<n.length&&(e=new Fk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Pl)))}function dh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Dl={animationend:dh("Animation","AnimationEnd"),animationiteration:dh("Animation","AnimationIteration"),animationstart:dh("Animation","AnimationStart"),transitionend:dh("Transition","TransitionEnd")},Kw={},i4={};ws&&(i4=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function Mx(t){if(Kw[t])return Kw[t];if(!Dl[t])return t;var e=Dl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in i4)return Kw[t]=e[r];return t}var l4=Mx("animationend"),c4=Mx("animationiteration"),u4=Mx("animationstart"),d4=Mx("transitionend"),f4=new Map,CE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(t,e){f4.set(t,e),tl(e,[t])}for(var Xw=0;Xw<CE.length;Xw++){var Jw=CE[Xw],V9=Jw.toLowerCase(),U9=Jw[0].toUpperCase()+Jw.slice(1);_o(V9,"on"+U9)}_o(l4,"onAnimationEnd");_o(c4,"onAnimationIteration");_o(u4,"onAnimationStart");_o("dblclick","onDoubleClick");_o("focusin","onFocus");_o("focusout","onBlur");_o(d4,"onTransitionEnd");gc("onMouseEnter",["mouseout","mouseover"]);gc("onMouseLeave",["mouseout","mouseover"]);gc("onPointerEnter",["pointerout","pointerover"]);gc("onPointerLeave",["pointerout","pointerover"]);tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z9=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function NE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,VW(n,e,void 0,t),t.currentTarget=null}function m4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;NE(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;NE(a,l,u),s=c}}}if(Fb)throw t=$N,Fb=!1,$N=null,t}function jt(t,e){var r=e[WN];r===void 0&&(r=e[WN]=new Set);var n=t+"__bubble";r.has(n)||(h4(e,t,2,!1),r.add(n))}function Qw(t,e,r){var n=0;e&&(n|=4),h4(r,t,n,e)}var fh="_reactListening"+Math.random().toString(36).slice(2);function lf(t){if(!t[fh]){t[fh]=!0,j5.forEach(function(r){r!=="selectionchange"&&(z9.has(r)||Qw(r,!1,t),Qw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fh]||(e[fh]=!0,Qw("selectionchange",!1,e))}}function h4(t,e,r,n){switch(J5(e)){case 1:var a=a9;break;case 4:a=s9;break;default:a=Mk}r=a.bind(null,e,r,t),a=void 0,!_N||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Zw(t,e,r,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=pi(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}M5(function(){var u=s,d=Dk(r),f=[];e:{var m=f4.get(t);if(m!==void 0){var h=Fk,p=t;switch(t){case"keypress":if(gp(r)===0)break e;case"keydown":case"keyup":h=v9;break;case"focusin":p="focus",h=Hw;break;case"focusout":p="blur",h=Hw;break;case"beforeblur":case"afterblur":h=Hw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=fE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=l9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=C9;break;case l4:case c4:case u4:h=d9;break;case d4:h=S9;break;case"scroll":h=o9;break;case"wheel":h=T9;break;case"copy":case"cut":case"paste":h=m9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=hE}var g=(e&4)!==0,y=!g&&t==="scroll",x=g?m!==null?m+"Capture":null:m;g=[];for(var b=u,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=tf(b,x),S!=null&&g.push(cf(b,S,w)))),y)break;b=b.return}0<g.length&&(m=new h(m,p,null,r,d),f.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&r!==PN&&(p=r.relatedTarget||r.fromElement)&&(pi(p)||p[Cs]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?pi(p):null,p!==null&&(y=rl(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=fE,S="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=hE,S="onPointerLeave",x="onPointerEnter",b="pointer"),y=h==null?m:_l(h),w=p==null?m:_l(p),m=new g(S,b+"leave",h,r,d),m.target=y,m.relatedTarget=w,S=null,pi(d)===u&&(g=new g(x,b+"enter",p,r,d),g.target=w,g.relatedTarget=y,S=g),y=S,h&&p)t:{for(g=h,x=p,b=0,w=g;w;w=yl(w))b++;for(w=0,S=x;S;S=yl(S))w++;for(;0<b-w;)g=yl(g),b--;for(;0<w-b;)x=yl(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=yl(g),x=yl(x)}g=null}else g=null;h!==null&&SE(f,m,h,g,!1),p!==null&&y!==null&&SE(f,y,p,g,!0)}}e:{if(m=u?_l(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var C=_9;else if(yE(m))if(n4)C=L9;else{C=R9;var j=$9}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=M9);if(C&&(C=C(t,u))){r4(f,C,r,d);break e}j&&j(t,m,u),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&TN(m,"number",m.value)}switch(j=u?_l(u):window,t){case"focusin":(yE(j)||j.contentEditable==="true")&&(Pl=j,FN=u,bd=null);break;case"focusout":bd=FN=Pl=null;break;case"mousedown":BN=!0;break;case"contextmenu":case"mouseup":case"dragend":BN=!1,wE(f,r,d);break;case"selectionchange":if(q9)break;case"keydown":case"keyup":wE(f,r,d)}var N;if(qk)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else El?e4(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Z5&&r.locale!=="ko"&&(El||T!=="onCompositionStart"?T==="onCompositionEnd"&&El&&(N=Q5()):(ro=d,Lk="value"in ro?ro.value:ro.textContent,El=!0)),j=zb(u,T),0<j.length&&(T=new mE(T,t,null,r,d),f.push({event:T,listeners:j}),N?T.data=N:(N=t4(r),N!==null&&(T.data=N)))),(N=I9?O9(t,r):E9(t,r))&&(u=zb(u,"onBeforeInput"),0<u.length&&(d=new mE("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}m4(f,e)})}function cf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function zb(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=tf(t,r),s!=null&&n.unshift(cf(t,s,a)),s=tf(t,e),s!=null&&n.push(cf(t,s,a))),t=t.return}return n}function yl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function SE(t,e,r,n,a){for(var s=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=tf(r,s),c!=null&&i.unshift(cf(r,c,l))):a||(c=tf(r,s),c!=null&&i.push(cf(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var W9=/\r\n?/g,H9=/\u0000|\uFFFD/g;function AE(t){return(typeof t=="string"?t:""+t).replace(W9,`
`).replace(H9,"")}function mh(t,e,r){if(e=AE(e),AE(t)!==e&&r)throw Error(ce(425))}function Wb(){}var qN=null,VN=null;function UN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zN=typeof setTimeout=="function"?setTimeout:void 0,G9=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,Y9=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(t){return TE.resolve(null).then(t).catch(K9)}:zN;function K9(t){setTimeout(function(){throw t})}function e1(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),af(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);af(e)}function ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Zc=Math.random().toString(36).slice(2),Aa="__reactFiber$"+Zc,uf="__reactProps$"+Zc,Cs="__reactContainer$"+Zc,WN="__reactEvents$"+Zc,X9="__reactListeners$"+Zc,J9="__reactHandles$"+Zc;function pi(t){var e=t[Aa];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Cs]||r[Aa]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=kE(t);t!==null;){if(r=t[Aa])return r;t=kE(t)}return e}t=r,r=t.parentNode}return null}function Cm(t){return t=t[Aa]||t[Cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _l(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Lx(t){return t[uf]||null}var HN=[],$l=-1;function $o(t){return{current:t}}function At(t){0>$l||(t.current=HN[$l],HN[$l]=null,$l--)}function xt(t,e){$l++,HN[$l]=t.current,t.current=e}var To={},Dr=$o(To),Qr=$o(!1),Bi=To;function yc(t,e){var r=t.type.contextTypes;if(!r)return To;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Zr(t){return t=t.childContextTypes,t!=null}function Hb(){At(Qr),At(Dr)}function IE(t,e,r){if(Dr.current!==To)throw Error(ce(168));xt(Dr,e),xt(Qr,r)}function p4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(ce(108,$W(t)||"Unknown",a));return Rt({},r,n)}function Gb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||To,Bi=Dr.current,xt(Dr,t),xt(Qr,Qr.current),!0}function OE(t,e,r){var n=t.stateNode;if(!n)throw Error(ce(169));r?(t=p4(t,e,Bi),n.__reactInternalMemoizedMergedChildContext=t,At(Qr),At(Dr),xt(Dr,t)):At(Qr),xt(Qr,r)}var es=null,Fx=!1,t1=!1;function g4(t){es===null?es=[t]:es.push(t)}function Q9(t){Fx=!0,g4(t)}function Ro(){if(!t1&&es!==null){t1=!0;var t=0,e=lt;try{var r=es;for(lt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}es=null,Fx=!1}catch(a){throw es!==null&&(es=es.slice(t+1)),q5(_k,Ro),a}finally{lt=e,t1=!1}}return null}var Rl=[],Ml=0,Yb=null,Kb=0,Rn=[],Mn=0,qi=null,as=1,ss="";function si(t,e){Rl[Ml++]=Kb,Rl[Ml++]=Yb,Yb=t,Kb=e}function y4(t,e,r){Rn[Mn++]=as,Rn[Mn++]=ss,Rn[Mn++]=qi,qi=t;var n=as;t=ss;var a=32-la(n)-1;n&=~(1<<a),r+=1;var s=32-la(e)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,as=1<<32-la(e)+a|r<<a|n,ss=s+t}else as=1<<s|r<<a|n,ss=t}function Uk(t){t.return!==null&&(si(t,1),y4(t,1,0))}function zk(t){for(;t===Yb;)Yb=Rl[--Ml],Rl[Ml]=null,Kb=Rl[--Ml],Rl[Ml]=null;for(;t===qi;)qi=Rn[--Mn],Rn[Mn]=null,ss=Rn[--Mn],Rn[Mn]=null,as=Rn[--Mn],Rn[Mn]=null}var yn=null,hn=null,It=!1,na=null;function b4(t,e){var r=Fn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function EE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,hn=ho(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=qi!==null?{id:as,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,yn=t,hn=null,!0):!1;default:return!1}}function GN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function YN(t){if(It){var e=hn;if(e){var r=e;if(!EE(t,e)){if(GN(t))throw Error(ce(418));e=ho(r.nextSibling);var n=yn;e&&EE(t,e)?b4(n,r):(t.flags=t.flags&-4097|2,It=!1,yn=t)}}else{if(GN(t))throw Error(ce(418));t.flags=t.flags&-4097|2,It=!1,yn=t}}}function PE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function hh(t){if(t!==yn)return!1;if(!It)return PE(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!UN(t.type,t.memoizedProps)),e&&(e=hn)){if(GN(t))throw x4(),Error(ce(418));for(;e;)b4(t,e),e=ho(e.nextSibling)}if(PE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){hn=ho(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=yn?ho(t.stateNode.nextSibling):null;return!0}function x4(){for(var t=hn;t;)t=ho(t.nextSibling)}function bc(){hn=yn=null,It=!1}function Wk(t){na===null?na=[t]:na.push(t)}var Z9=Ds.ReactCurrentBatchConfig;function Nu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,t));var a=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,t))}return t}function ph(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DE(t){var e=t._init;return e(t._payload)}function v4(t){function e(x,b){if(t){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=bo(x,b),x.index=0,x.sibling=null,x}function s(x,b,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,S){return b===null||b.tag!==6?(b=l1(w,x.mode,S),b.return=x,b):(b=a(b,w),b.return=x,b)}function c(x,b,w,S){var C=w.type;return C===Ol?d(x,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ys&&DE(C)===b.type)?(S=a(b,w.props),S.ref=Nu(x,b,w),S.return=x,S):(S=Cp(w.type,w.key,w.props,null,x.mode,S),S.ref=Nu(x,b,w),S.return=x,S)}function u(x,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=c1(w,x.mode,S),b.return=x,b):(b=a(b,w.children||[]),b.return=x,b)}function d(x,b,w,S,C){return b===null||b.tag!==7?(b=Ti(w,x.mode,S,C),b.return=x,b):(b=a(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=l1(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ah:return w=Cp(b.type,b.key,b.props,null,x.mode,w),w.ref=Nu(x,null,b),w.return=x,w;case Il:return b=c1(b,x.mode,w),b.return=x,b;case Ys:var S=b._init;return f(x,S(b._payload),w)}if(Zu(b)||xu(b))return b=Ti(b,x.mode,w,null),b.return=x,b;ph(x,b)}return null}function m(x,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:l(x,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ah:return w.key===C?c(x,b,w,S):null;case Il:return w.key===C?u(x,b,w,S):null;case Ys:return C=w._init,m(x,b,C(w._payload),S)}if(Zu(w)||xu(w))return C!==null?null:d(x,b,w,S,null);ph(x,w)}return null}function h(x,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,l(b,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ah:return x=x.get(S.key===null?w:S.key)||null,c(b,x,S,C);case Il:return x=x.get(S.key===null?w:S.key)||null,u(b,x,S,C);case Ys:var j=S._init;return h(x,b,w,j(S._payload),C)}if(Zu(S)||xu(S))return x=x.get(w)||null,d(b,x,S,C,null);ph(b,S)}return null}function p(x,b,w,S){for(var C=null,j=null,N=b,T=b=0,k=null;N!==null&&T<w.length;T++){N.index>T?(k=N,N=null):k=N.sibling;var E=m(x,N,w[T],S);if(E===null){N===null&&(N=k);break}t&&N&&E.alternate===null&&e(x,N),b=s(E,b,T),j===null?C=E:j.sibling=E,j=E,N=k}if(T===w.length)return r(x,N),It&&si(x,T),C;if(N===null){for(;T<w.length;T++)N=f(x,w[T],S),N!==null&&(b=s(N,b,T),j===null?C=N:j.sibling=N,j=N);return It&&si(x,T),C}for(N=n(x,N);T<w.length;T++)k=h(N,x,T,w[T],S),k!==null&&(t&&k.alternate!==null&&N.delete(k.key===null?T:k.key),b=s(k,b,T),j===null?C=k:j.sibling=k,j=k);return t&&N.forEach(function(O){return e(x,O)}),It&&si(x,T),C}function g(x,b,w,S){var C=xu(w);if(typeof C!="function")throw Error(ce(150));if(w=C.call(w),w==null)throw Error(ce(151));for(var j=C=null,N=b,T=b=0,k=null,E=w.next();N!==null&&!E.done;T++,E=w.next()){N.index>T?(k=N,N=null):k=N.sibling;var O=m(x,N,E.value,S);if(O===null){N===null&&(N=k);break}t&&N&&O.alternate===null&&e(x,N),b=s(O,b,T),j===null?C=O:j.sibling=O,j=O,N=k}if(E.done)return r(x,N),It&&si(x,T),C;if(N===null){for(;!E.done;T++,E=w.next())E=f(x,E.value,S),E!==null&&(b=s(E,b,T),j===null?C=E:j.sibling=E,j=E);return It&&si(x,T),C}for(N=n(x,N);!E.done;T++,E=w.next())E=h(N,x,T,E.value,S),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?T:E.key),b=s(E,b,T),j===null?C=E:j.sibling=E,j=E);return t&&N.forEach(function(P){return e(x,P)}),It&&si(x,T),C}function y(x,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Ol&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ah:e:{for(var C=w.key,j=b;j!==null;){if(j.key===C){if(C=w.type,C===Ol){if(j.tag===7){r(x,j.sibling),b=a(j,w.props.children),b.return=x,x=b;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ys&&DE(C)===j.type){r(x,j.sibling),b=a(j,w.props),b.ref=Nu(x,j,w),b.return=x,x=b;break e}r(x,j);break}else e(x,j);j=j.sibling}w.type===Ol?(b=Ti(w.props.children,x.mode,S,w.key),b.return=x,x=b):(S=Cp(w.type,w.key,w.props,null,x.mode,S),S.ref=Nu(x,b,w),S.return=x,x=S)}return i(x);case Il:e:{for(j=w.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=a(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else e(x,b);b=b.sibling}b=c1(w,x.mode,S),b.return=x,x=b}return i(x);case Ys:return j=w._init,y(x,b,j(w._payload),S)}if(Zu(w))return p(x,b,w,S);if(xu(w))return g(x,b,w,S);ph(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,w),b.return=x,x=b):(r(x,b),b=l1(w,x.mode,S),b.return=x,x=b),i(x)):r(x,b)}return y}var xc=v4(!0),j4=v4(!1),Xb=$o(null),Jb=null,Ll=null,Hk=null;function Gk(){Hk=Ll=Jb=null}function Yk(t){var e=Xb.current;At(Xb),t._currentValue=e}function KN(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xl(t,e){Jb=t,Hk=Ll=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yr=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(Hk!==t)if(t={context:t,memoizedValue:e,next:null},Ll===null){if(Jb===null)throw Error(ce(308));Ll=t,Jb.dependencies={lanes:0,firstContext:t}}else Ll=Ll.next=t;return e}var gi=null;function Kk(t){gi===null?gi=[t]:gi.push(t)}function w4(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,Kk(e)):(r.next=a.next,a.next=r),e.interleaved=r,Ns(t,n)}function Ns(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ks=!1;function Xk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function po(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ye&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Ns(t,r)}return a=n.interleaved,a===null?(e.next=e,Kk(n)):(e.next=a.next,a.next=e),n.interleaved=e,Ns(t,r)}function yp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$k(t,r)}}function _E(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=e:s=s.next=e}else a=s=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Qb(t,e,r,n){var a=t.updateQueue;Ks=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,g=l;switch(m=e,h=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,m=typeof p=="function"?p.call(h,f,m):p,m==null)break e;f=Rt({},f,m);break e;case 2:Ks=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);Ui|=i,t.lanes=i,t.memoizedState=f}}function $E(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ce(191,a));a.call(n)}}}var Nm={},Oa=$o(Nm),df=$o(Nm),ff=$o(Nm);function yi(t){if(t===Nm)throw Error(ce(174));return t}function Jk(t,e){switch(xt(ff,e),xt(df,t),xt(Oa,Nm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:IN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=IN(e,t)}At(Oa),xt(Oa,e)}function vc(){At(Oa),At(df),At(ff)}function N4(t){yi(ff.current);var e=yi(Oa.current),r=IN(e,t.type);e!==r&&(xt(df,t),xt(Oa,r))}function Qk(t){df.current===t&&(At(Oa),At(df))}var _t=$o(0);function Zb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var r1=[];function Zk(){for(var t=0;t<r1.length;t++)r1[t]._workInProgressVersionPrimary=null;r1.length=0}var bp=Ds.ReactCurrentDispatcher,n1=Ds.ReactCurrentBatchConfig,Vi=0,$t=null,tr=null,ur=null,e0=!1,xd=!1,mf=0,eH=0;function Ar(){throw Error(ce(321))}function e2(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ha(t[r],e[r]))return!1;return!0}function t2(t,e,r,n,a,s){if(Vi=s,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bp.current=t===null||t.memoizedState===null?aH:sH,t=r(n,a),xd){s=0;do{if(xd=!1,mf=0,25<=s)throw Error(ce(301));s+=1,ur=tr=null,e.updateQueue=null,bp.current=oH,t=r(n,a)}while(xd)}if(bp.current=t0,e=tr!==null&&tr.next!==null,Vi=0,ur=tr=$t=null,e0=!1,e)throw Error(ce(300));return t}function r2(){var t=mf!==0;return mf=0,t}function ja(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?$t.memoizedState=ur=t:ur=ur.next=t,ur}function Hn(){if(tr===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=tr.next;var e=ur===null?$t.memoizedState:ur.next;if(e!==null)ur=e,tr=t;else{if(t===null)throw Error(ce(310));tr=t,t={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},ur===null?$t.memoizedState=ur=t:ur=ur.next=t}return ur}function hf(t,e){return typeof e=="function"?e(t):e}function a1(t){var e=Hn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=tr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((Vi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,$t.lanes|=d,Ui|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,ha(n,e.memoizedState)||(Yr=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do s=a.lane,$t.lanes|=s,Ui|=s,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function s1(t){var e=Hn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,s=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=t(s,i.action),i=i.next;while(i!==a);ha(s,e.memoizedState)||(Yr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function S4(){}function A4(t,e){var r=$t,n=Hn(),a=e(),s=!ha(n.memoizedState,a);if(s&&(n.memoizedState=a,Yr=!0),n=n.queue,n2(I4.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||ur!==null&&ur.memoizedState.tag&1){if(r.flags|=2048,pf(9,k4.bind(null,r,n,a,e),void 0,null),fr===null)throw Error(ce(349));Vi&30||T4(r,e,a)}return a}function T4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function k4(t,e,r,n){e.value=r,e.getSnapshot=n,O4(e)&&E4(t)}function I4(t,e,r){return r(function(){O4(e)&&E4(t)})}function O4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ha(t,r)}catch{return!0}}function E4(t){var e=Ns(t,1);e!==null&&ca(e,t,1,-1)}function RE(t){var e=ja();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:t},e.queue=t,t=t.dispatch=nH.bind(null,$t,t),[e.memoizedState,t]}function pf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function P4(){return Hn().memoizedState}function xp(t,e,r,n){var a=ja();$t.flags|=t,a.memoizedState=pf(1|e,r,void 0,n===void 0?null:n)}function Bx(t,e,r,n){var a=Hn();n=n===void 0?null:n;var s=void 0;if(tr!==null){var i=tr.memoizedState;if(s=i.destroy,n!==null&&e2(n,i.deps)){a.memoizedState=pf(e,r,s,n);return}}$t.flags|=t,a.memoizedState=pf(1|e,r,s,n)}function ME(t,e){return xp(8390656,8,t,e)}function n2(t,e){return Bx(2048,8,t,e)}function D4(t,e){return Bx(4,2,t,e)}function _4(t,e){return Bx(4,4,t,e)}function $4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function R4(t,e,r){return r=r!=null?r.concat([t]):null,Bx(4,4,$4.bind(null,e,t),r)}function a2(){}function M4(t,e){var r=Hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&e2(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function L4(t,e){var r=Hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&e2(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function F4(t,e,r){return Vi&21?(ha(r,e)||(r=z5(),$t.lanes|=r,Ui|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yr=!0),t.memoizedState=r)}function tH(t,e){var r=lt;lt=r!==0&&4>r?r:4,t(!0);var n=n1.transition;n1.transition={};try{t(!1),e()}finally{lt=r,n1.transition=n}}function B4(){return Hn().memoizedState}function rH(t,e,r){var n=yo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},q4(t))V4(e,r);else if(r=w4(t,e,r,n),r!==null){var a=Fr();ca(r,t,n,a),U4(r,e,n)}}function nH(t,e,r){var n=yo(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(q4(t))V4(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,ha(l,i)){var c=e.interleaved;c===null?(a.next=a,Kk(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=w4(t,e,a,n),r!==null&&(a=Fr(),ca(r,t,n,a),U4(r,e,n))}}function q4(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function V4(t,e){xd=e0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function U4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$k(t,r)}}var t0={readContext:Wn,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},aH={readContext:Wn,useCallback:function(t,e){return ja().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:ME,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xp(4194308,4,$4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xp(4194308,4,t,e)},useInsertionEffect:function(t,e){return xp(4,2,t,e)},useMemo:function(t,e){var r=ja();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ja();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=rH.bind(null,$t,t),[n.memoizedState,t]},useRef:function(t){var e=ja();return t={current:t},e.memoizedState=t},useState:RE,useDebugValue:a2,useDeferredValue:function(t){return ja().memoizedState=t},useTransition:function(){var t=RE(!1),e=t[0];return t=tH.bind(null,t[1]),ja().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=$t,a=ja();if(It){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=e(),fr===null)throw Error(ce(349));Vi&30||T4(n,e,r)}a.memoizedState=r;var s={value:r,getSnapshot:e};return a.queue=s,ME(I4.bind(null,n,s,t),[t]),n.flags|=2048,pf(9,k4.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ja(),e=fr.identifierPrefix;if(It){var r=ss,n=as;r=(n&~(1<<32-la(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=mf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=eH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sH={readContext:Wn,useCallback:M4,useContext:Wn,useEffect:n2,useImperativeHandle:R4,useInsertionEffect:D4,useLayoutEffect:_4,useMemo:L4,useReducer:a1,useRef:P4,useState:function(){return a1(hf)},useDebugValue:a2,useDeferredValue:function(t){var e=Hn();return F4(e,tr.memoizedState,t)},useTransition:function(){var t=a1(hf)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:S4,useSyncExternalStore:A4,useId:B4,unstable_isNewReconciler:!1},oH={readContext:Wn,useCallback:M4,useContext:Wn,useEffect:n2,useImperativeHandle:R4,useInsertionEffect:D4,useLayoutEffect:_4,useMemo:L4,useReducer:s1,useRef:P4,useState:function(){return s1(hf)},useDebugValue:a2,useDeferredValue:function(t){var e=Hn();return tr===null?e.memoizedState=t:F4(e,tr.memoizedState,t)},useTransition:function(){var t=s1(hf)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:S4,useSyncExternalStore:A4,useId:B4,unstable_isNewReconciler:!1};function ta(t,e){if(t&&t.defaultProps){e=Rt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function XN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Rt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qx={isMounted:function(t){return(t=t._reactInternals)?rl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fr(),a=yo(t),s=ds(n,a);s.payload=e,r!=null&&(s.callback=r),e=po(t,s,a),e!==null&&(ca(e,t,a,n),yp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fr(),a=yo(t),s=ds(n,a);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=po(t,s,a),e!==null&&(ca(e,t,a,n),yp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fr(),n=yo(t),a=ds(r,n);a.tag=2,e!=null&&(a.callback=e),e=po(t,a,n),e!==null&&(ca(e,t,n,r),yp(e,t,n))}};function LE(t,e,r,n,a,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!of(r,n)||!of(a,s):!0}function z4(t,e,r){var n=!1,a=To,s=e.contextType;return typeof s=="object"&&s!==null?s=Wn(s):(a=Zr(e)?Bi:Dr.current,n=e.contextTypes,s=(n=n!=null)?yc(t,a):To),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function FE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&qx.enqueueReplaceState(e,e.state,null)}function JN(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Xk(t);var s=e.contextType;typeof s=="object"&&s!==null?a.context=Wn(s):(s=Zr(e)?Bi:Dr.current,a.context=yc(t,s)),a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(XN(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&qx.enqueueReplaceState(a,a.state,null),Qb(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function jc(t,e){try{var r="",n=e;do r+=_W(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:a,digest:null}}function o1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function QN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var iH=typeof WeakMap=="function"?WeakMap:Map;function W4(t,e,r){r=ds(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){n0||(n0=!0,lS=n),QN(t,e)},r}function H4(t,e,r){r=ds(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){QN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){QN(t,e),typeof n!="function"&&(go===null?go=new Set([this]):go.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function BE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new iH;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=jH.bind(null,t,e,r),e.then(t,t))}function qE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VE(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ds(-1,1),e.tag=2,po(r,e,1))),r.lanes|=1),t)}var lH=Ds.ReactCurrentOwner,Yr=!1;function $r(t,e,r,n){e.child=t===null?j4(e,null,r,n):xc(e,t.child,r,n)}function UE(t,e,r,n,a){r=r.render;var s=e.ref;return Xl(e,a),n=t2(t,e,r,n,s,a),r=r2(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ss(t,e,a)):(It&&r&&Uk(e),e.flags|=1,$r(t,e,n,a),e.child)}function zE(t,e,r,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!f2(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,G4(t,e,s,n,a)):(t=Cp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:of,r(i,n)&&t.ref===e.ref)return Ss(t,e,a)}return e.flags|=1,t=bo(s,n),t.ref=e.ref,t.return=e,e.child=t}function G4(t,e,r,n,a){if(t!==null){var s=t.memoizedProps;if(of(s,n)&&t.ref===e.ref)if(Yr=!1,e.pendingProps=n=s,(t.lanes&a)!==0)t.flags&131072&&(Yr=!0);else return e.lanes=t.lanes,Ss(t,e,a)}return ZN(t,e,r,n,a)}function Y4(t,e,r){var n=e.pendingProps,a=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Bl,un),un|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(Bl,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,xt(Bl,un),un|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,xt(Bl,un),un|=n;return $r(t,e,a,r),e.child}function K4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ZN(t,e,r,n,a){var s=Zr(r)?Bi:Dr.current;return s=yc(e,s),Xl(e,a),r=t2(t,e,r,n,s,a),n=r2(),t!==null&&!Yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ss(t,e,a)):(It&&n&&Uk(e),e.flags|=1,$r(t,e,r,a),e.child)}function WE(t,e,r,n,a){if(Zr(r)){var s=!0;Gb(e)}else s=!1;if(Xl(e,a),e.stateNode===null)vp(t,e),z4(e,r,n),JN(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Wn(u):(u=Zr(r)?Bi:Dr.current,u=yc(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&FE(e,i,n,u),Ks=!1;var m=e.memoizedState;i.state=m,Qb(e,n,i,a),c=e.memoizedState,l!==n||m!==c||Qr.current||Ks?(typeof d=="function"&&(XN(e,r,d,n),c=e.memoizedState),(l=Ks||LE(e,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,C4(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ta(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Wn(c):(c=Zr(r)?Bi:Dr.current,c=yc(e,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&FE(e,i,n,c),Ks=!1,m=e.memoizedState,i.state=m,Qb(e,n,i,a);var p=e.memoizedState;l!==f||m!==p||Qr.current||Ks?(typeof h=="function"&&(XN(e,r,h,n),p=e.memoizedState),(u=Ks||LE(e,r,u,n,m,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return eS(t,e,r,n,s,a)}function eS(t,e,r,n,a,s){K4(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&OE(e,r,!1),Ss(t,e,s);n=e.stateNode,lH.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=xc(e,t.child,null,s),e.child=xc(e,null,l,s)):$r(t,e,l,s),e.memoizedState=n.state,a&&OE(e,r,!0),e.child}function X4(t){var e=t.stateNode;e.pendingContext?IE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IE(t,e.context,!1),Jk(t,e.containerInfo)}function HE(t,e,r,n,a){return bc(),Wk(a),e.flags|=256,$r(t,e,r,n),e.child}var tS={dehydrated:null,treeContext:null,retryLane:0};function rS(t){return{baseLanes:t,cachePool:null,transitions:null}}function J4(t,e,r){var n=e.pendingProps,a=_t.current,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),xt(_t,a&1),t===null)return YN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=zx(i,n,0,null),t=Ti(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rS(r),e.memoizedState=tS,t):s2(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return cH(t,e,i,n,l,a,r);if(s){s=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=bo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=bo(l,s):(s=Ti(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?rS(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=tS,n}return s=t.child,t=s.sibling,n=bo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function s2(t,e){return e=zx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gh(t,e,r,n){return n!==null&&Wk(n),xc(e,t.child,null,r),t=s2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cH(t,e,r,n,a,s,i){if(r)return e.flags&256?(e.flags&=-257,n=o1(Error(ce(422))),gh(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=zx({mode:"visible",children:n.children},a,0,null),s=Ti(s,a,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&xc(e,t.child,null,i),e.child.memoizedState=rS(i),e.memoizedState=tS,s);if(!(e.mode&1))return gh(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ce(419)),n=o1(s,n,void 0),gh(t,e,i,n)}if(l=(i&t.childLanes)!==0,Yr||l){if(n=fr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ns(t,a),ca(n,t,a,-1))}return d2(),n=o1(Error(ce(421))),gh(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=wH.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,hn=ho(a.nextSibling),yn=e,It=!0,na=null,t!==null&&(Rn[Mn++]=as,Rn[Mn++]=ss,Rn[Mn++]=qi,as=t.id,ss=t.overflow,qi=e),e=s2(e,n.children),e.flags|=4096,e)}function GE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),KN(t.return,e,r)}function i1(t,e,r,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Q4(t,e,r){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if($r(t,e,n.children,r),n=_t.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&GE(t,r,e);else if(t.tag===19)GE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(xt(_t,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Zb(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),i1(e,!1,a,r,s);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Zb(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}i1(e,!0,r,null,s);break;case"together":i1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ss(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ui|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,r=bo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=bo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function uH(t,e,r){switch(e.tag){case 3:X4(e),bc();break;case 5:N4(e);break;case 1:Zr(e.type)&&Gb(e);break;case 4:Jk(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;xt(Xb,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(xt(_t,_t.current&1),e.flags|=128,null):r&e.child.childLanes?J4(t,e,r):(xt(_t,_t.current&1),t=Ss(t,e,r),t!==null?t.sibling:null);xt(_t,_t.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Q4(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xt(_t,_t.current),n)break;return null;case 22:case 23:return e.lanes=0,Y4(t,e,r)}return Ss(t,e,r)}var Z4,nS,eB,tB;Z4=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nS=function(){};eB=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,yi(Oa.current);var s=null;switch(r){case"input":a=SN(t,a),n=SN(t,n),s=[];break;case"select":a=Rt({},a,{value:void 0}),n=Rt({},n,{value:void 0}),s=[];break;case"textarea":a=kN(t,a),n=kN(t,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Wb)}ON(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&jt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tB=function(t,e,r,n){r!==n&&(e.flags|=4)};function Su(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Tr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function dH(t,e,r){var n=e.pendingProps;switch(zk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return Zr(e.type)&&Hb(),Tr(e),null;case 3:return n=e.stateNode,vc(),At(Qr),At(Dr),Zk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,na!==null&&(dS(na),na=null))),nS(t,e),Tr(e),null;case 5:Qk(e);var a=yi(ff.current);if(r=e.type,t!==null&&e.stateNode!=null)eB(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return Tr(e),null}if(t=yi(Oa.current),hh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Aa]=e,n[uf]=s,t=(e.mode&1)!==0,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(a=0;a<td.length;a++)jt(td[a],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":rE(n,s),jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},jt("invalid",n);break;case"textarea":aE(n,s),jt("invalid",n)}ON(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&mh(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&mh(n.textContent,l,t),a=["children",""+l]):Zd.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&jt("scroll",n)}switch(r){case"input":sh(n),nE(n,s,!0);break;case"textarea":sh(n),sE(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Wb)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=I5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Aa]=e,t[uf]=n,Z4(t,e,!1,!1),e.stateNode=t;e:{switch(i=EN(r,n),r){case"dialog":jt("cancel",t),jt("close",t),a=n;break;case"iframe":case"object":case"embed":jt("load",t),a=n;break;case"video":case"audio":for(a=0;a<td.length;a++)jt(td[a],t);a=n;break;case"source":jt("error",t),a=n;break;case"img":case"image":case"link":jt("error",t),jt("load",t),a=n;break;case"details":jt("toggle",t),a=n;break;case"input":rE(t,n),a=SN(t,n),jt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Rt({},n,{value:void 0}),jt("invalid",t);break;case"textarea":aE(t,n),a=kN(t,n),jt("invalid",t);break;default:a=n}ON(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?P5(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&O5(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ef(t,c):typeof c=="number"&&ef(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zd.hasOwnProperty(s)?c!=null&&s==="onScroll"&&jt("scroll",t):c!=null&&Ik(t,s,c,i))}switch(r){case"input":sh(t),nE(t,n,!1);break;case"textarea":sh(t),sE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ao(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Hl(t,!!n.multiple,s,!1):n.defaultValue!=null&&Hl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Wb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(t&&e.stateNode!=null)tB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ce(166));if(r=yi(ff.current),yi(Oa.current),hh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Aa]=e,(s=n.nodeValue!==r)&&(t=yn,t!==null))switch(t.tag){case 3:mh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Aa]=e,e.stateNode=n}return Tr(e),null;case 13:if(At(_t),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&hn!==null&&e.mode&1&&!(e.flags&128))x4(),bc(),e.flags|=98560,s=!1;else if(s=hh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ce(317));s[Aa]=e}else bc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),s=!1}else na!==null&&(dS(na),na=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?rr===0&&(rr=3):d2())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return vc(),nS(t,e),t===null&&lf(e.stateNode.containerInfo),Tr(e),null;case 10:return Yk(e.type._context),Tr(e),null;case 17:return Zr(e.type)&&Hb(),Tr(e),null;case 19:if(At(_t),s=e.memoizedState,s===null)return Tr(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)Su(s,!1);else{if(rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Zb(t),i!==null){for(e.flags|=128,Su(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return xt(_t,_t.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ht()>wc&&(e.flags|=128,n=!0,Su(s,!1),e.lanes=4194304)}else{if(!n)if(t=Zb(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Su(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!It)return Tr(e),null}else 2*Ht()-s.renderingStartTime>wc&&r!==1073741824&&(e.flags|=128,n=!0,Su(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ht(),e.sibling=null,r=_t.current,xt(_t,n?r&1|2:r&1),e):(Tr(e),null);case 22:case 23:return u2(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?un&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function fH(t,e){switch(zk(e),e.tag){case 1:return Zr(e.type)&&Hb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vc(),At(Qr),At(Dr),Zk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qk(e),null;case 13:if(At(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));bc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At(_t),null;case 4:return vc(),null;case 10:return Yk(e.type._context),null;case 22:case 23:return u2(),null;case 24:return null;default:return null}}var yh=!1,Or=!1,mH=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Fl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Bt(t,e,n)}else r.current=null}function aS(t,e,r){try{r()}catch(n){Bt(t,e,n)}}var YE=!1;function hH(t,e){if(qN=Vb,t=o4(),Vk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(VN={focusedElem:t,selectionRange:r},Vb=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:ta(e.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(S){Bt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return p=YE,YE=!1,p}function vd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,s!==void 0&&aS(e,r,s)}a=a.next}while(a!==n)}}function Vx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function sS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rB(t){var e=t.alternate;e!==null&&(t.alternate=null,rB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Aa],delete e[uf],delete e[WN],delete e[X9],delete e[J9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nB(t){return t.tag===5||t.tag===3||t.tag===4}function KE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Wb));else if(n!==4&&(t=t.child,t!==null))for(oS(t,e,r),t=t.sibling;t!==null;)oS(t,e,r),t=t.sibling}function iS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(iS(t,e,r),t=t.sibling;t!==null;)iS(t,e,r),t=t.sibling}var br=null,ra=!1;function zs(t,e,r){for(r=r.child;r!==null;)aB(t,e,r),r=r.sibling}function aB(t,e,r){if(Ia&&typeof Ia.onCommitFiberUnmount=="function")try{Ia.onCommitFiberUnmount(_x,r)}catch{}switch(r.tag){case 5:Or||Fl(r,e);case 6:var n=br,a=ra;br=null,zs(t,e,r),br=n,ra=a,br!==null&&(ra?(t=br,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):br.removeChild(r.stateNode));break;case 18:br!==null&&(ra?(t=br,r=r.stateNode,t.nodeType===8?e1(t.parentNode,r):t.nodeType===1&&e1(t,r),af(t)):e1(br,r.stateNode));break;case 4:n=br,a=ra,br=r.stateNode.containerInfo,ra=!0,zs(t,e,r),br=n,ra=a;break;case 0:case 11:case 14:case 15:if(!Or&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&aS(r,e,i),a=a.next}while(a!==n)}zs(t,e,r);break;case 1:if(!Or&&(Fl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Bt(r,e,l)}zs(t,e,r);break;case 21:zs(t,e,r);break;case 22:r.mode&1?(Or=(n=Or)||r.memoizedState!==null,zs(t,e,r),Or=n):zs(t,e,r);break;default:zs(t,e,r)}}function XE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new mH),e.forEach(function(n){var a=CH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Qn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:br=l.stateNode,ra=!1;break e;case 3:br=l.stateNode.containerInfo,ra=!0;break e;case 4:br=l.stateNode.containerInfo,ra=!0;break e}l=l.return}if(br===null)throw Error(ce(160));aB(s,i,a),br=null,ra=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Bt(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sB(e,t),e=e.sibling}function sB(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),ba(t),n&4){try{vd(3,t,t.return),Vx(3,t)}catch(g){Bt(t,t.return,g)}try{vd(5,t,t.return)}catch(g){Bt(t,t.return,g)}}break;case 1:Qn(e,t),ba(t),n&512&&r!==null&&Fl(r,r.return);break;case 5:if(Qn(e,t),ba(t),n&512&&r!==null&&Fl(r,r.return),t.flags&32){var a=t.stateNode;try{ef(a,"")}catch(g){Bt(t,t.return,g)}}if(n&4&&(a=t.stateNode,a!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&T5(a,s),EN(l,i);var u=EN(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?P5(a,f):d==="dangerouslySetInnerHTML"?O5(a,f):d==="children"?ef(a,f):Ik(a,d,f,u)}switch(l){case"input":AN(a,s);break;case"textarea":k5(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Hl(a,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?Hl(a,!!s.multiple,s.defaultValue,!0):Hl(a,!!s.multiple,s.multiple?[]:"",!1))}a[uf]=s}catch(g){Bt(t,t.return,g)}}break;case 6:if(Qn(e,t),ba(t),n&4){if(t.stateNode===null)throw Error(ce(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(g){Bt(t,t.return,g)}}break;case 3:if(Qn(e,t),ba(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{af(e.containerInfo)}catch(g){Bt(t,t.return,g)}break;case 4:Qn(e,t),ba(t);break;case 13:Qn(e,t),ba(t),a=t.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(l2=Ht())),n&4&&XE(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Or=(u=Or)||d,Qn(e,t),Or=u):Qn(e,t),ba(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(xe=t,d=t.child;d!==null;){for(f=xe=d;xe!==null;){switch(m=xe,h=m.child,m.tag){case 0:case 11:case 14:case 15:vd(4,m,m.return);break;case 1:Fl(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Bt(n,r,g)}}break;case 5:Fl(m,m.return);break;case 22:if(m.memoizedState!==null){QE(f);continue}}h!==null?(h.return=m,xe=h):QE(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=E5("display",i))}catch(g){Bt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Bt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qn(e,t),ba(t),n&4&&XE(t);break;case 21:break;default:Qn(e,t),ba(t)}}function ba(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(nB(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ef(a,""),n.flags&=-33);var s=KE(t);iS(t,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=KE(t);oS(t,l,i);break;default:throw Error(ce(161))}}catch(c){Bt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pH(t,e,r){xe=t,oB(t)}function oB(t,e,r){for(var n=(t.mode&1)!==0;xe!==null;){var a=xe,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||yh;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Or;l=yh;var u=Or;if(yh=i,(Or=c)&&!u)for(xe=a;xe!==null;)i=xe,c=i.child,i.tag===22&&i.memoizedState!==null?ZE(a):c!==null?(c.return=i,xe=c):ZE(a);for(;s!==null;)xe=s,oB(s),s=s.sibling;xe=a,yh=l,Or=u}JE(t)}else a.subtreeFlags&8772&&s!==null?(s.return=a,xe=s):JE(t)}}function JE(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Or||Vx(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Or)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:ta(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$E(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}$E(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&af(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Or||e.flags&512&&sS(e)}catch(m){Bt(e,e.return,m)}}if(e===t){xe=null;break}if(r=e.sibling,r!==null){r.return=e.return,xe=r;break}xe=e.return}}function QE(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,xe=r;break}xe=e.return}}function ZE(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Vx(4,e)}catch(c){Bt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Bt(e,a,c)}}var s=e.return;try{sS(e)}catch(c){Bt(e,s,c)}break;case 5:var i=e.return;try{sS(e)}catch(c){Bt(e,i,c)}}}catch(c){Bt(e,e.return,c)}if(e===t){xe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,xe=l;break}xe=e.return}}var gH=Math.ceil,r0=Ds.ReactCurrentDispatcher,o2=Ds.ReactCurrentOwner,Vn=Ds.ReactCurrentBatchConfig,Ye=0,fr=null,Jt=null,wr=0,un=0,Bl=$o(0),rr=0,gf=null,Ui=0,Ux=0,i2=0,jd=null,Wr=null,l2=0,wc=1/0,Ja=null,n0=!1,lS=null,go=null,bh=!1,no=null,a0=0,wd=0,cS=null,jp=-1,wp=0;function Fr(){return Ye&6?Ht():jp!==-1?jp:jp=Ht()}function yo(t){return t.mode&1?Ye&2&&wr!==0?wr&-wr:Z9.transition!==null?(wp===0&&(wp=z5()),wp):(t=lt,t!==0||(t=window.event,t=t===void 0?16:J5(t.type)),t):1}function ca(t,e,r,n){if(50<wd)throw wd=0,cS=null,Error(ce(185));jm(t,r,n),(!(Ye&2)||t!==fr)&&(t===fr&&(!(Ye&2)&&(Ux|=r),rr===4&&eo(t,wr)),en(t,n),r===1&&Ye===0&&!(e.mode&1)&&(wc=Ht()+500,Fx&&Ro()))}function en(t,e){var r=t.callbackNode;ZW(t,e);var n=qb(t,t===fr?wr:0);if(n===0)r!==null&&lE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&lE(r),e===1)t.tag===0?Q9(eP.bind(null,t)):g4(eP.bind(null,t)),Y9(function(){!(Ye&6)&&Ro()}),r=null;else{switch(W5(n)){case 1:r=_k;break;case 4:r=V5;break;case 16:r=Bb;break;case 536870912:r=U5;break;default:r=Bb}r=hB(r,iB.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function iB(t,e){if(jp=-1,wp=0,Ye&6)throw Error(ce(327));var r=t.callbackNode;if(Jl()&&t.callbackNode!==r)return null;var n=qb(t,t===fr?wr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=s0(t,n);else{e=n;var a=Ye;Ye|=2;var s=cB();(fr!==t||wr!==e)&&(Ja=null,wc=Ht()+500,Ai(t,e));do try{xH();break}catch(l){lB(t,l)}while(!0);Gk(),r0.current=s,Ye=a,Jt!==null?e=0:(fr=null,wr=0,e=rr)}if(e!==0){if(e===2&&(a=RN(t),a!==0&&(n=a,e=uS(t,a))),e===1)throw r=gf,Ai(t,0),eo(t,n),en(t,Ht()),r;if(e===6)eo(t,n);else{if(a=t.current.alternate,!(n&30)&&!yH(a)&&(e=s0(t,n),e===2&&(s=RN(t),s!==0&&(n=s,e=uS(t,s))),e===1))throw r=gf,Ai(t,0),eo(t,n),en(t,Ht()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(ce(345));case 2:oi(t,Wr,Ja);break;case 3:if(eo(t,n),(n&130023424)===n&&(e=l2+500-Ht(),10<e)){if(qb(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Fr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=zN(oi.bind(null,t,Wr,Ja),e);break}oi(t,Wr,Ja);break;case 4:if(eo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-la(n);s=1<<i,i=e[i],i>a&&(a=i),n&=~s}if(n=a,n=Ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gH(n/1960))-n,10<n){t.timeoutHandle=zN(oi.bind(null,t,Wr,Ja),n);break}oi(t,Wr,Ja);break;case 5:oi(t,Wr,Ja);break;default:throw Error(ce(329))}}}return en(t,Ht()),t.callbackNode===r?iB.bind(null,t):null}function uS(t,e){var r=jd;return t.current.memoizedState.isDehydrated&&(Ai(t,e).flags|=256),t=s0(t,e),t!==2&&(e=Wr,Wr=r,e!==null&&dS(e)),t}function dS(t){Wr===null?Wr=t:Wr.push.apply(Wr,t)}function yH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ha(s(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function eo(t,e){for(e&=~i2,e&=~Ux,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-la(e),n=1<<r;t[r]=-1,e&=~n}}function eP(t){if(Ye&6)throw Error(ce(327));Jl();var e=qb(t,0);if(!(e&1))return en(t,Ht()),null;var r=s0(t,e);if(t.tag!==0&&r===2){var n=RN(t);n!==0&&(e=n,r=uS(t,n))}if(r===1)throw r=gf,Ai(t,0),eo(t,e),en(t,Ht()),r;if(r===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oi(t,Wr,Ja),en(t,Ht()),null}function c2(t,e){var r=Ye;Ye|=1;try{return t(e)}finally{Ye=r,Ye===0&&(wc=Ht()+500,Fx&&Ro())}}function zi(t){no!==null&&no.tag===0&&!(Ye&6)&&Jl();var e=Ye;Ye|=1;var r=Vn.transition,n=lt;try{if(Vn.transition=null,lt=1,t)return t()}finally{lt=n,Vn.transition=r,Ye=e,!(Ye&6)&&Ro()}}function u2(){un=Bl.current,At(Bl)}function Ai(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,G9(r)),Jt!==null)for(r=Jt.return;r!==null;){var n=r;switch(zk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hb();break;case 3:vc(),At(Qr),At(Dr),Zk();break;case 5:Qk(n);break;case 4:vc();break;case 13:At(_t);break;case 19:At(_t);break;case 10:Yk(n.type._context);break;case 22:case 23:u2()}r=r.return}if(fr=t,Jt=t=bo(t.current,null),wr=un=e,rr=0,gf=null,i2=Ux=Ui=0,Wr=jd=null,gi!==null){for(e=0;e<gi.length;e++)if(r=gi[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}gi=null}return t}function lB(t,e){do{var r=Jt;try{if(Gk(),bp.current=t0,e0){for(var n=$t.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}e0=!1}if(Vi=0,ur=tr=$t=null,xd=!1,mf=0,o2.current=null,r===null||r.return===null){rr=1,gf=e,Jt=null;break}e:{var s=t,i=r.return,l=r,c=e;if(e=wr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=qE(i);if(h!==null){h.flags&=-257,VE(h,i,l,s,e),h.mode&1&&BE(s,u,e),e=h,c=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){BE(s,u,e),d2();break e}c=Error(ce(426))}}else if(It&&l.mode&1){var y=qE(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),VE(y,i,l,s,e),Wk(jc(c,l));break e}}s=c=jc(c,l),rr!==4&&(rr=2),jd===null?jd=[s]:jd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=W4(s,c,e);_E(s,x);break e;case 1:l=c;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(go===null||!go.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=H4(s,l,e);_E(s,S);break e}}s=s.return}while(s!==null)}dB(r)}catch(C){e=C,Jt===r&&r!==null&&(Jt=r=r.return);continue}break}while(!0)}function cB(){var t=r0.current;return r0.current=t0,t===null?t0:t}function d2(){(rr===0||rr===3||rr===2)&&(rr=4),fr===null||!(Ui&268435455)&&!(Ux&268435455)||eo(fr,wr)}function s0(t,e){var r=Ye;Ye|=2;var n=cB();(fr!==t||wr!==e)&&(Ja=null,Ai(t,e));do try{bH();break}catch(a){lB(t,a)}while(!0);if(Gk(),Ye=r,r0.current=n,Jt!==null)throw Error(ce(261));return fr=null,wr=0,rr}function bH(){for(;Jt!==null;)uB(Jt)}function xH(){for(;Jt!==null&&!zW();)uB(Jt)}function uB(t){var e=mB(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?dB(t):Jt=e,o2.current=null}function dB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=fH(r,e),r!==null){r.flags&=32767,Jt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rr=6,Jt=null;return}}else if(r=dH(r,e,un),r!==null){Jt=r;return}if(e=e.sibling,e!==null){Jt=e;return}Jt=e=t}while(e!==null);rr===0&&(rr=5)}function oi(t,e,r){var n=lt,a=Vn.transition;try{Vn.transition=null,lt=1,vH(t,e,r,n)}finally{Vn.transition=a,lt=n}return null}function vH(t,e,r,n){do Jl();while(no!==null);if(Ye&6)throw Error(ce(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(e9(t,s),t===fr&&(Jt=fr=null,wr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bh||(bh=!0,hB(Bb,function(){return Jl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Vn.transition,Vn.transition=null;var i=lt;lt=1;var l=Ye;Ye|=4,o2.current=null,hH(t,r),sB(r,t),B9(VN),Vb=!!qN,VN=qN=null,t.current=r,pH(r),WW(),Ye=l,lt=i,Vn.transition=s}else t.current=r;if(bh&&(bh=!1,no=t,a0=a),s=t.pendingLanes,s===0&&(go=null),YW(r.stateNode),en(t,Ht()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(n0)throw n0=!1,t=lS,lS=null,t;return a0&1&&t.tag!==0&&Jl(),s=t.pendingLanes,s&1?t===cS?wd++:(wd=0,cS=t):wd=0,Ro(),null}function Jl(){if(no!==null){var t=W5(a0),e=Vn.transition,r=lt;try{if(Vn.transition=null,lt=16>t?16:t,no===null)var n=!1;else{if(t=no,no=null,a0=0,Ye&6)throw Error(ce(331));var a=Ye;for(Ye|=4,xe=t.current;xe!==null;){var s=xe,i=s.child;if(xe.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(xe=u;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:vd(8,d,s)}var f=d.child;if(f!==null)f.return=d,xe=f;else for(;xe!==null;){d=xe;var m=d.sibling,h=d.return;if(rB(d),d===u){xe=null;break}if(m!==null){m.return=h,xe=m;break}xe=h}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}xe=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,xe=i;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vd(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,xe=x;break e}xe=s.return}}var b=t.current;for(xe=b;xe!==null;){i=xe;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,xe=w;else e:for(i=b;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vx(9,l)}}catch(C){Bt(l,l.return,C)}if(l===i){xe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,xe=S;break e}xe=l.return}}if(Ye=a,Ro(),Ia&&typeof Ia.onPostCommitFiberRoot=="function")try{Ia.onPostCommitFiberRoot(_x,t)}catch{}n=!0}return n}finally{lt=r,Vn.transition=e}}return!1}function tP(t,e,r){e=jc(r,e),e=W4(t,e,1),t=po(t,e,1),e=Fr(),t!==null&&(jm(t,1,e),en(t,e))}function Bt(t,e,r){if(t.tag===3)tP(t,t,r);else for(;e!==null;){if(e.tag===3){tP(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(go===null||!go.has(n))){t=jc(r,t),t=H4(e,t,1),e=po(e,t,1),t=Fr(),e!==null&&(jm(e,1,t),en(e,t));break}}e=e.return}}function jH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fr(),t.pingedLanes|=t.suspendedLanes&r,fr===t&&(wr&r)===r&&(rr===4||rr===3&&(wr&130023424)===wr&&500>Ht()-l2?Ai(t,0):i2|=r),en(t,e)}function fB(t,e){e===0&&(t.mode&1?(e=lh,lh<<=1,!(lh&130023424)&&(lh=4194304)):e=1);var r=Fr();t=Ns(t,e),t!==null&&(jm(t,e,r),en(t,r))}function wH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fB(t,r)}function CH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(e),fB(t,r)}var mB;mB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qr.current)Yr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Yr=!1,uH(t,e,r);Yr=!!(t.flags&131072)}else Yr=!1,It&&e.flags&1048576&&y4(e,Kb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;vp(t,e),t=e.pendingProps;var a=yc(e,Dr.current);Xl(e,r),a=t2(null,e,n,t,a,r);var s=r2();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zr(n)?(s=!0,Gb(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Xk(e),a.updater=qx,e.stateNode=a,a._reactInternals=e,JN(e,n,t,r),e=eS(null,e,n,!0,s,r)):(e.tag=0,It&&s&&Uk(e),$r(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(vp(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=SH(n),t=ta(n,t),a){case 0:e=ZN(null,e,n,t,r);break e;case 1:e=WE(null,e,n,t,r);break e;case 11:e=UE(null,e,n,t,r);break e;case 14:e=zE(null,e,n,ta(n.type,t),r);break e}throw Error(ce(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ta(n,a),ZN(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ta(n,a),WE(t,e,n,a,r);case 3:e:{if(X4(e),t===null)throw Error(ce(387));n=e.pendingProps,s=e.memoizedState,a=s.element,C4(t,e),Qb(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=jc(Error(ce(423)),e),e=HE(t,e,n,r,a);break e}else if(n!==a){a=jc(Error(ce(424)),e),e=HE(t,e,n,r,a);break e}else for(hn=ho(e.stateNode.containerInfo.firstChild),yn=e,It=!0,na=null,r=j4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bc(),n===a){e=Ss(t,e,r);break e}$r(t,e,n,r)}e=e.child}return e;case 5:return N4(e),t===null&&YN(e),n=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,UN(n,a)?i=null:s!==null&&UN(n,s)&&(e.flags|=32),K4(t,e),$r(t,e,i,r),e.child;case 6:return t===null&&YN(e),null;case 13:return J4(t,e,r);case 4:return Jk(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=xc(e,null,n,r):$r(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ta(n,a),UE(t,e,n,a,r);case 7:return $r(t,e,e.pendingProps,r),e.child;case 8:return $r(t,e,e.pendingProps.children,r),e.child;case 12:return $r(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value,xt(Xb,n._currentValue),n._currentValue=i,s!==null)if(ha(s.value,i)){if(s.children===a.children&&!Qr.current){e=Ss(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ds(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),KN(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(ce(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),KN(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}$r(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Xl(e,r),a=Wn(a),n=n(a),e.flags|=1,$r(t,e,n,r),e.child;case 14:return n=e.type,a=ta(n,e.pendingProps),a=ta(n.type,a),zE(t,e,n,a,r);case 15:return G4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ta(n,a),vp(t,e),e.tag=1,Zr(n)?(t=!0,Gb(e)):t=!1,Xl(e,r),z4(e,n,a),JN(e,n,a,r),eS(null,e,n,!0,t,r);case 19:return Q4(t,e,r);case 22:return Y4(t,e,r)}throw Error(ce(156,e.tag))};function hB(t,e){return q5(t,e)}function NH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,r,n){return new NH(t,e,r,n)}function f2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SH(t){if(typeof t=="function")return f2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ek)return 11;if(t===Pk)return 14}return 2}function bo(t,e){var r=t.alternate;return r===null?(r=Fn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Cp(t,e,r,n,a,s){var i=2;if(n=t,typeof t=="function")f2(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Ol:return Ti(r.children,a,s,e);case Ok:i=8,a|=8;break;case jN:return t=Fn(12,r,e,a|2),t.elementType=jN,t.lanes=s,t;case wN:return t=Fn(13,r,e,a),t.elementType=wN,t.lanes=s,t;case CN:return t=Fn(19,r,e,a),t.elementType=CN,t.lanes=s,t;case N5:return zx(r,a,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w5:i=10;break e;case C5:i=9;break e;case Ek:i=11;break e;case Pk:i=14;break e;case Ys:i=16,n=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Fn(i,r,e,a),e.elementType=t,e.type=n,e.lanes=s,e}function Ti(t,e,r,n){return t=Fn(7,t,n,e),t.lanes=r,t}function zx(t,e,r,n){return t=Fn(22,t,n,e),t.elementType=N5,t.lanes=r,t.stateNode={isHidden:!1},t}function l1(t,e,r){return t=Fn(6,t,null,e),t.lanes=r,t}function c1(t,e,r){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uw(0),this.expirationTimes=Uw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function m2(t,e,r,n,a,s,i,l,c){return t=new AH(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xk(s),t}function TH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function pB(t){if(!t)return To;t=t._reactInternals;e:{if(rl(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var r=t.type;if(Zr(r))return p4(t,r,e)}return e}function gB(t,e,r,n,a,s,i,l,c){return t=m2(r,n,!0,t,a,s,i,l,c),t.context=pB(null),r=t.current,n=Fr(),a=yo(r),s=ds(n,a),s.callback=e??null,po(r,s,a),t.current.lanes=a,jm(t,a,n),en(t,n),t}function Wx(t,e,r,n){var a=e.current,s=Fr(),i=yo(a);return r=pB(r),e.context===null?e.context=r:e.pendingContext=r,e=ds(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=po(a,e,i),t!==null&&(ca(t,a,i,s),yp(t,a,i)),i}function o0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function h2(t,e){rP(t,e),(t=t.alternate)&&rP(t,e)}function kH(){return null}var yB=typeof reportError=="function"?reportError:function(t){console.error(t)};function p2(t){this._internalRoot=t}Hx.prototype.render=p2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Wx(t,e,null,null)};Hx.prototype.unmount=p2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zi(function(){Wx(null,t,null,null)}),e[Cs]=null}};function Hx(t){this._internalRoot=t}Hx.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Zs.length&&e!==0&&e<Zs[r].priority;r++);Zs.splice(r,0,t),r===0&&X5(t)}};function g2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nP(){}function IH(t,e,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=o0(i);s.call(u)}}var i=gB(e,n,t,0,null,!1,!1,"",nP);return t._reactRootContainer=i,t[Cs]=i.current,lf(t.nodeType===8?t.parentNode:t),zi(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=o0(c);l.call(u)}}var c=m2(t,0,!1,null,null,!1,!1,"",nP);return t._reactRootContainer=c,t[Cs]=c.current,lf(t.nodeType===8?t.parentNode:t),zi(function(){Wx(e,c,r,n)}),c}function Yx(t,e,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=o0(i);l.call(c)}}Wx(e,i,t,a)}else i=IH(r,e,t,a,n);return o0(i)}H5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ed(e.pendingLanes);r!==0&&($k(e,r|1),en(e,Ht()),!(Ye&6)&&(wc=Ht()+500,Ro()))}break;case 13:zi(function(){var n=Ns(t,1);if(n!==null){var a=Fr();ca(n,t,1,a)}}),h2(t,1)}};Rk=function(t){if(t.tag===13){var e=Ns(t,134217728);if(e!==null){var r=Fr();ca(e,t,134217728,r)}h2(t,134217728)}};G5=function(t){if(t.tag===13){var e=yo(t),r=Ns(t,e);if(r!==null){var n=Fr();ca(r,t,e,n)}h2(t,e)}};Y5=function(){return lt};K5=function(t,e){var r=lt;try{return lt=t,e()}finally{lt=r}};DN=function(t,e,r){switch(e){case"input":if(AN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Lx(n);if(!a)throw Error(ce(90));A5(n),AN(n,a)}}}break;case"textarea":k5(t,r);break;case"select":e=r.value,e!=null&&Hl(t,!!r.multiple,e,!1)}};$5=c2;R5=zi;var OH={usingClientEntryPoint:!1,Events:[Cm,_l,Lx,D5,_5,c2]},Au={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EH={bundleType:Au.bundleType,version:Au.version,rendererPackageName:Au.rendererPackageName,rendererConfig:Au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=F5(t),t===null?null:t.stateNode},findFiberByHostInstance:Au.findFiberByHostInstance||kH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{_x=xh.inject(EH),Ia=xh}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OH;Sn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g2(e))throw Error(ce(200));return TH(t,e,null,r)};Sn.createRoot=function(t,e){if(!g2(t))throw Error(ce(299));var r=!1,n="",a=yB;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=m2(t,1,!1,null,null,r,!1,n,a),t[Cs]=e.current,lf(t.nodeType===8?t.parentNode:t),new p2(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=F5(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return zi(t)};Sn.hydrate=function(t,e,r){if(!Gx(e))throw Error(ce(200));return Yx(null,t,e,!0,r)};Sn.hydrateRoot=function(t,e,r){if(!g2(t))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=yB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=gB(e,null,t,1,r??null,a,!1,s,i),t[Cs]=e.current,lf(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Hx(e)};Sn.render=function(t,e,r){if(!Gx(e))throw Error(ce(200));return Yx(null,t,e,!1,r)};Sn.unmountComponentAtNode=function(t){if(!Gx(t))throw Error(ce(40));return t._reactRootContainer?(zi(function(){Yx(null,null,t,!1,function(){t._reactRootContainer=null,t[Cs]=null})}),!0):!1};Sn.unstable_batchedUpdates=c2;Sn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Gx(r))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Yx(t,e,r,!1,n)};Sn.version="18.3.1-next-f1338f8080-20240426";function bB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bB)}catch(t){console.error(t)}}bB(),b5.exports=Sn;var Kx=b5.exports,aP=Kx;xN.createRoot=aP.createRoot,xN.hydrateRoot=aP.hydrateRoot;var xB={exports:{}},vB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm=v;function PH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var DH=typeof Object.is=="function"?Object.is:PH,_H=Sm.useSyncExternalStore,$H=Sm.useRef,RH=Sm.useEffect,MH=Sm.useMemo,LH=Sm.useDebugValue;vB.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var s=$H(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=MH(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&i.hasValue){var p=i.value;if(a(p,h))return f=p}return f=h}if(p=f,DH(d,h))return p;var g=n(h);return a!==void 0&&a(p,g)?(d=h,p):(d=h,f=g)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,a]);var l=_H(t,s[0],s[1]);return RH(function(){i.hasValue=!0,i.value=l},[l]),LH(l),l};xB.exports=vB;var FH=xB.exports;function BH(t){t()}function qH(){let t=null,e=null;return{clear(){t=null,e=null},notify(){BH(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var sP={notify(){},get:()=>[]};function VH(t,e){let r,n=sP,a=0,s=!1;function i(g){d();const y=n.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){a++,r||(r=t.subscribe(c),n=qH())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=sP)}function m(){s||(s=!0,d())}function h(){s&&(s=!1,f())}const p={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return p}var UH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zH=UH(),WH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HH=WH(),GH=()=>zH||HH?v.useLayoutEffect:v.useEffect,YH=GH(),u1=Symbol.for("react-redux-context"),d1=typeof globalThis<"u"?globalThis:{};function KH(){if(!v.createContext)return{};const t=d1[u1]??(d1[u1]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var ko=KH();function XH(t){const{children:e,context:r,serverState:n,store:a}=t,s=v.useMemo(()=>{const c=VH(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=v.useMemo(()=>a.getState(),[a]);YH(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||ko;return v.createElement(l.Provider,{value:s},e)}var JH=XH;function y2(t=ko){return function(){return v.useContext(t)}}var jB=y2();function wB(t=ko){const e=t===ko?jB:y2(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var QH=wB();function ZH(t=ko){const e=t===ko?QH:wB(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var ie=ZH(),eG=(t,e)=>t===e;function tG(t=ko){const e=t===ko?jB:y2(t),r=(n,a={})=>{const{equalityFn:s=eG}=typeof a=="function"?{equalityFn:a}:a,i=e(),{store:l,subscription:c,getServerState:u}=i;v.useRef(!0);const d=v.useCallback({[n.name](m){return n(m)}}[n.name],[n]),f=FH.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,s);return v.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var V=tG();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yf.apply(this,arguments)}var ao;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ao||(ao={}));const oP="popstate";function rG(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return fS("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:i0(a)}return aG(e,r,null,t)}function Kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nG(){return Math.random().toString(36).substr(2,8)}function iP(t,e){return{usr:t.state,key:t.key,idx:e}}function fS(t,e,r,n){return r===void 0&&(r=null),yf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?eu(e):e,{state:r,key:e&&e.key||n||nG()})}function i0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function eu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function aG(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=ao.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(yf({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=ao.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:x})}function m(y,x){l=ao.Push;let b=fS(g.location,y,x);u=d()+1;let w=iP(b,u),S=g.createHref(b);try{i.pushState(w,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(S)}s&&c&&c({action:l,location:g.location,delta:1})}function h(y,x){l=ao.Replace;let b=fS(g.location,y,x);u=d();let w=iP(b,u),S=g.createHref(b);i.replaceState(w,"",S),s&&c&&c({action:l,location:g.location,delta:0})}function p(y){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof y=="string"?y:i0(y);return b=b.replace(/ $/,"%20"),Kt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return l},get location(){return t(a,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(oP,f),c=y,()=>{a.removeEventListener(oP,f),c=null}},createHref(y){return e(a,y)},createURL:p,encodeLocation(y){let x=p(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:h,go(y){return i.go(y)}};return g}var lP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lP||(lP={}));function sG(t,e,r){return r===void 0&&(r="/"),oG(t,e,r)}function oG(t,e,r,n){let a=typeof e=="string"?eu(e):e,s=b2(a.pathname||"/",r);if(s==null)return null;let i=NB(t);iG(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=xG(s);l=gG(i[c],u)}return l}function NB(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Kt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=xo([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Kt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),NB(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:hG(u,s.index),routesMeta:d})};return t.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of SB(s.path))a(s,i,c)}),e}function SB(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=SB(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function iG(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:pG(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lG=/^:[\w-]+$/,cG=3,uG=2,dG=1,fG=10,mG=-2,cP=t=>t==="*";function hG(t,e){let r=t.split("/"),n=r.length;return r.some(cP)&&(n+=mG),e&&(n+=uG),r.filter(a=>!cP(a)).reduce((a,s)=>a+(lG.test(s)?cG:s===""?dG:fG),n)}function pG(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function gG(t,e,r){let{routesMeta:n}=t,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=yG({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:xo([s,f.pathname]),pathnameBase:CG(xo([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=xo([s,f.pathnameBase]))}return i}function yG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=bG(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let g=l[f]||"";i=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[f];return h&&!p?u[m]=void 0:u[m]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function bG(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),CB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function xG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return CB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function b2(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function vG(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?eu(t):t;return{pathname:r?r.startsWith("/")?r:jG(r,e):e,search:NG(n),hash:SG(a)}}function jG(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function f1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function x2(t,e){let r=wG(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function v2(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=eu(t):(a=yf({},t),Kt(!a.pathname||!a.pathname.includes("?"),f1("?","pathname","search",a)),Kt(!a.pathname||!a.pathname.includes("#"),f1("#","pathname","hash",a)),Kt(!a.search||!a.search.includes("#"),f1("#","search","hash",a)));let s=t===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=vG(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const xo=t=>t.join("/").replace(/\/\/+/g,"/"),CG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AB=["post","put","patch","delete"];new Set(AB);const TG=["get",...AB];new Set(TG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(this,arguments)}const j2=v.createContext(null),kG=v.createContext(null),Mo=v.createContext(null),Xx=v.createContext(null),_s=v.createContext({outlet:null,matches:[],isDataRoute:!1}),TB=v.createContext(null);function IG(t,e){let{relative:r}=e===void 0?{}:e;tu()||Kt(!1);let{basename:n,navigator:a}=v.useContext(Mo),{hash:s,pathname:i,search:l}=IB(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:xo([n,i])),a.createHref({pathname:c,search:l,hash:s})}function tu(){return v.useContext(Xx)!=null}function Lo(){return tu()||Kt(!1),v.useContext(Xx).location}function kB(t){v.useContext(Mo).static||v.useLayoutEffect(t)}function Am(){let{isDataRoute:t}=v.useContext(_s);return t?zG():OG()}function OG(){tu()||Kt(!1);let t=v.useContext(j2),{basename:e,future:r,navigator:n}=v.useContext(Mo),{matches:a}=v.useContext(_s),{pathname:s}=Lo(),i=JSON.stringify(x2(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return kB(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=v2(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:xo([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}const EG=v.createContext(null);function PG(t){let e=v.useContext(_s).outlet;return e&&v.createElement(EG.Provider,{value:t},e)}function IB(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(Mo),{matches:a}=v.useContext(_s),{pathname:s}=Lo(),i=JSON.stringify(x2(a,n.v7_relativeSplatPath));return v.useMemo(()=>v2(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function DG(t,e){return _G(t,e)}function _G(t,e,r,n){tu()||Kt(!1);let{navigator:a}=v.useContext(Mo),{matches:s}=v.useContext(_s),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Lo(),d;if(e){var f;let y=typeof e=="string"?eu(e):e;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Kt(!1),d=y}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=sG(t,{pathname:h}),g=FG(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:xo([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:xo([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return e&&g?v.createElement(Xx.Provider,{value:{location:bf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ao.Pop}},g):g}function $G(){let t=UG(),e=AG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:a},r):null,null)}const RG=v.createElement($G,null);class MG extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(_s.Provider,{value:this.props.routeContext},v.createElement(TB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LG(t){let{routeContext:e,match:r,children:n}=t,a=v.useContext(j2);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(_s.Provider,{value:e},n)}function FG(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Kt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,p=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let h,p=!1,g=null,y=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||RG,c&&(u<0&&m===0?(WG("route-fallback"),p=!0,y=null):u===m&&(p=!0,y=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,m+1)),b=()=>{let w;return h?w=g:p?w=y:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,v.createElement(LG,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(MG,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var OB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OB||{}),EB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(EB||{});function BG(t){let e=v.useContext(j2);return e||Kt(!1),e}function qG(t){let e=v.useContext(kG);return e||Kt(!1),e}function VG(t){let e=v.useContext(_s);return e||Kt(!1),e}function PB(t){let e=VG(),r=e.matches[e.matches.length-1];return r.route.id||Kt(!1),r.route.id}function UG(){var t;let e=v.useContext(TB),r=qG(),n=PB();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function zG(){let{router:t}=BG(OB.UseNavigateStable),e=PB(EB.UseNavigateStable),r=v.useRef(!1);return kB(()=>{r.current=!0}),v.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,bf({fromRouteId:e},s)))},[t,e])}const uP={};function WG(t,e,r){uP[t]||(uP[t]=!0)}function HG(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Tu(t){let{to:e,replace:r,state:n,relative:a}=t;tu()||Kt(!1);let{future:s,static:i}=v.useContext(Mo),{matches:l}=v.useContext(_s),{pathname:c}=Lo(),u=Am(),d=v2(e,x2(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function DB(t){return PG(t.context)}function se(t){Kt(!1)}function GG(t){let{basename:e="/",children:r=null,location:n,navigationType:a=ao.Pop,navigator:s,static:i=!1,future:l}=t;tu()&&Kt(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:i,future:bf({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=eu(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:p="default"}=n,g=v.useMemo(()=>{let y=b2(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:h,key:p},navigationType:a}},[c,d,f,m,h,p,a]);return g==null?null:v.createElement(Mo.Provider,{value:u},v.createElement(Xx.Provider,{children:r,value:g}))}function YG(t){let{children:e,location:r}=t;return DG(mS(e),r)}new Promise(()=>{});function mS(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,a)=>{if(!v.isValidElement(n))return;let s=[...e,a];if(n.type===v.Fragment){r.push.apply(r,mS(n.props.children,s));return}n.type!==se&&Kt(!1),!n.props.index||!n.props.children||Kt(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=mS(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hS.apply(this,arguments)}function KG(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function XG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JG(t,e){return t.button===0&&(!e||e==="_self")&&!XG(t)}const QG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZG="6";try{window.__reactRouterVersion=ZG}catch{}const eY="startTransition",dP=So[eY];function tY(t){let{basename:e,children:r,future:n,window:a}=t,s=v.useRef();s.current==null&&(s.current=rG({window:a,v5Compat:!0}));let i=s.current,[l,c]=v.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=v.useCallback(f=>{u&&dP?dP(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>i.listen(d),[i,d]),v.useEffect(()=>HG(n),[n]),v.createElement(GG,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const rY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ql=v.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=KG(e,QG),{basename:h}=v.useContext(Mo),p,g=!1;if(typeof u=="string"&&nY.test(u)&&(p=u,rY))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),C=b2(S.pathname,h);S.origin===w.origin&&C!=null?u=C+S.search+S.hash:g=!0}catch{}let y=IG(u,{relative:a}),x=aY(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||x(w)}return v.createElement("a",hS({},m,{href:p||y,onClick:g||s?n:b,ref:r,target:c}))});var fP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fP||(fP={}));var mP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mP||(mP={}));function aY(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=e===void 0?{}:e,c=Am(),u=Lo(),d=IB(t,{relative:i});return v.useCallback(f=>{if(JG(f,r)){f.preventDefault();let m=n!==void 0?n:i0(u)===i0(d);c(t,{replace:m,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,t,s,i,l])}function gr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var sY=typeof Symbol=="function"&&Symbol.observable||"@@observable",hP=sY,m1=()=>Math.random().toString(36).substring(7).split("").join("."),oY={INIT:`@@redux/INIT${m1()}`,REPLACE:`@@redux/REPLACE${m1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${m1()}`},l0=oY;function w2(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function _B(t,e,r){if(typeof t!="function")throw new Error(gr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gr(1));return r(_B)(t,e)}let n=t,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((y,x)=>{i.set(x,y)}))}function d(){if(c)throw new Error(gr(3));return a}function f(y){if(typeof y!="function")throw new Error(gr(4));if(c)throw new Error(gr(5));let x=!0;u();const b=l++;return i.set(b,y),function(){if(x){if(c)throw new Error(gr(6));x=!1,u(),i.delete(b),s=null}}}function m(y){if(!w2(y))throw new Error(gr(7));if(typeof y.type>"u")throw new Error(gr(8));if(typeof y.type!="string")throw new Error(gr(17));if(c)throw new Error(gr(9));try{c=!0,a=n(a,y)}finally{c=!1}return(s=i).forEach(b=>{b()}),y}function h(y){if(typeof y!="function")throw new Error(gr(10));n=y,m({type:l0.REPLACE})}function p(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(gr(11));function b(){const S=x;S.next&&S.next(d())}return b(),{unsubscribe:y(b)}},[hP](){return this}}}return m({type:l0.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[hP]:p}}function iY(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:l0.INIT})>"u")throw new Error(gr(12));if(typeof r(void 0,{type:l0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gr(13))})}function lY(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const i=e[s];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let a;try{iY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=i[f],p=m(h,l);if(typeof p>"u")throw l&&l.type,new Error(gr(14));u[f]=p,c=c||p!==h}return c=c||n.length!==Object.keys(i).length,c?u:i}}function c0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function cY(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(gr(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(i));return s=c0(...l)(a.dispatch),{...a,dispatch:s}}}function uY(t){return w2(t)&&"type"in t&&typeof t.type=="string"}var $B=Symbol.for("immer-nothing"),pP=Symbol.for("immer-draftable"),vn=Symbol.for("immer-state");function aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Cc=Object.getPrototypeOf;function Wi(t){return!!t&&!!t[vn]}function As(t){var e;return t?RB(t)||Array.isArray(t)||!!t[pP]||!!((e=t.constructor)!=null&&e[pP])||Qx(t)||Zx(t):!1}var dY=Object.prototype.constructor.toString();function RB(t){if(!t||typeof t!="object")return!1;const e=Cc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===dY}function u0(t,e){Jx(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Jx(t){const e=t[vn];return e?e.type_:Array.isArray(t)?1:Qx(t)?2:Zx(t)?3:0}function pS(t,e){return Jx(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function MB(t,e,r){const n=Jx(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function fY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Qx(t){return t instanceof Map}function Zx(t){return t instanceof Set}function ii(t){return t.copy_||t.base_}function gS(t,e){if(Qx(t))return new Map(t);if(Zx(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=RB(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[vn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(Cc(t),n)}else{const n=Cc(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function C2(t,e=!1){return ev(t)||Wi(t)||!As(t)||(Jx(t)>1&&(t.set=t.add=t.clear=t.delete=mY),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>C2(n,!0))),t}function mY(){aa(2)}function ev(t){return Object.isFrozen(t)}var hY={};function Hi(t){const e=hY[t];return e||aa(0,t),e}var xf;function LB(){return xf}function pY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gP(t,e){e&&(Hi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function yS(t){bS(t),t.drafts_.forEach(gY),t.drafts_=null}function bS(t){t===xf&&(xf=t.parent_)}function yP(t){return xf=pY(xf,t)}function gY(t){const e=t[vn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function bP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[vn].modified_&&(yS(e),aa(4)),As(t)&&(t=d0(e,t),e.parent_||f0(e,t)),e.patches_&&Hi("Patches").generateReplacementPatches_(r[vn].base_,t,e.patches_,e.inversePatches_)):t=d0(e,r,[]),yS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==$B?t:void 0}function d0(t,e,r){if(ev(e))return e;const n=e[vn];if(!n)return u0(e,(a,s)=>xP(t,n,e,a,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return f0(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),u0(s,(l,c)=>xP(t,n,a,l,c,r,i)),f0(t,a,!1),r&&t.patches_&&Hi("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function xP(t,e,r,n,a,s,i){if(Wi(a)){const l=s&&e&&e.type_!==3&&!pS(e.assigned_,n)?s.concat(n):void 0,c=d0(t,a,l);if(MB(r,n,c),Wi(c))t.canAutoFreeze_=!1;else return}else i&&r.add(a);if(As(a)&&!ev(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;d0(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&f0(t,a)}}function f0(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&C2(e,r)}function yY(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:LB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=N2;r&&(a=[n],s=vf);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var N2={get(t,e){if(e===vn)return t;const r=ii(t);if(!pS(r,e))return bY(t,r,e);const n=r[e];return t.finalized_||!As(n)?n:n===h1(t.base_,e)?(p1(t),t.copy_[e]=vS(n,t)):n},has(t,e){return e in ii(t)},ownKeys(t){return Reflect.ownKeys(ii(t))},set(t,e,r){const n=FB(ii(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=h1(ii(t),e),s=a==null?void 0:a[vn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(fY(r,a)&&(r!==void 0||pS(t.base_,e)))return!0;p1(t),xS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return h1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,p1(t),xS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=ii(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){aa(11)},getPrototypeOf(t){return Cc(t.base_)},setPrototypeOf(){aa(12)}},vf={};u0(N2,(t,e)=>{vf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});vf.deleteProperty=function(t,e){return vf.set.call(this,t,e,void 0)};vf.set=function(t,e,r){return N2.set.call(this,t[0],e,r,t[0])};function h1(t,e){const r=t[vn];return(r?ii(r):t)[e]}function bY(t,e,r){var a;const n=FB(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function FB(t,e){if(!(e in t))return;let r=Cc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Cc(r)}}function xS(t){t.modified_||(t.modified_=!0,t.parent_&&xS(t.parent_))}function p1(t){t.copy_||(t.copy_=gS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var xY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&aa(6),n!==void 0&&typeof n!="function"&&aa(7);let a;if(As(e)){const s=yP(this),i=vS(e,void 0);let l=!0;try{a=r(i),l=!1}finally{l?yS(s):bS(s)}return gP(s,n),bP(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===$B&&(a=void 0),this.autoFreeze_&&C2(a,!0),n){const s=[],i=[];Hi("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else aa(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,r,(i,l)=>{n=i,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){As(t)||aa(8),Wi(t)&&(t=vY(t));const e=yP(this),r=vS(t,void 0);return r[vn].isManual_=!0,bS(e),r}finishDraft(t,e){const r=t&&t[vn];(!r||!r.isManual_)&&aa(9);const{scope_:n}=r;return gP(n,e),bP(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=Hi("Patches").applyPatches_;return Wi(t)?n(t,e):this.produce(t,a=>n(a,e))}};function vS(t,e){const r=Qx(t)?Hi("MapSet").proxyMap_(t,e):Zx(t)?Hi("MapSet").proxySet_(t,e):yY(t,e);return(e?e.scope_:LB()).drafts_.push(r),r}function vY(t){return Wi(t)||aa(10,t),BB(t)}function BB(t){if(!As(t)||ev(t))return t;const e=t[vn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=gS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=gS(t,!0);return u0(r,(n,a)=>{MB(r,n,BB(a))}),e&&(e.finalized_=!1),r}var jn=new xY,qB=jn.produce;jn.produceWithPatches.bind(jn);jn.setAutoFreeze.bind(jn);jn.setUseStrictShallowCopy.bind(jn);jn.applyPatches.bind(jn);jn.createDraft.bind(jn);jn.finishDraft.bind(jn);function VB(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var jY=VB(),wY=VB,CY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?c0:c0.apply(null,arguments)},NY=t=>t&&typeof t.match=="function";function Cd(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(fs(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>uY(n)&&n.type===t,r}var UB=class rd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,rd.prototype)}static get[Symbol.species](){return rd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new rd(...e[0].concat(this)):new rd(...e.concat(this))}};function vP(t){return As(t)?qB(t,()=>{}):t}function vh(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function SY(t){return typeof t=="boolean"}var AY=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new UB;return r&&(SY(r)?i.push(jY):i.push(wY(r.extraArgument))),i},TY="RTK_autoBatch",jP=t=>e=>{setTimeout(e,t)},kY=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jP(10):t.type==="callback"?t.queueNotification:jP(t.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[TY]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},IY=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new UB(t);return n&&a.push(kY(typeof n=="object"?n:void 0)),a};function OY(t){const e=AY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(w2(r))l=lY(r);else throw new Error(fs(1));let c;typeof n=="function"?c=n(e):c=e();let u=c0;a&&(u=CY({trace:!1,...typeof a=="object"&&a}));const d=cY(...c),f=IY(d);let m=typeof i=="function"?i(f):f();const h=u(...m);return _B(l,s,h)}function zB(t){const e={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(fs(28));if(l in e)throw new Error(fs(29));return e[l]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function EY(t){return typeof t=="function"}function PY(t,e){let[r,n,a]=zB(e),s;if(EY(t))s=()=>vP(t());else{const l=vP(t);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Wi(d)){const h=f(d,c);return h===void 0?d:h}else{if(As(d))return qB(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var DY=(t,e)=>NY(t)?t.match(e):t(e);function _Y(...t){return e=>t.some(r=>DY(r,e))}var $Y="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RY=(t=21)=>{let e="",r=t;for(;r--;)e+=$Y[Math.random()*64|0];return e},MY=["name","message","stack","code"],g1=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},wP=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},LY=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of MY)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},CP="External signal was aborted",M=(()=>{function t(e,r,n){const a=Cd(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=Cd(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),i=Cd(e+"/rejected",(c,u,d,f,m)=>({payload:f,error:(n&&n.serializeError||LY)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,m)=>{const h=n!=null&&n.idGenerator?n.idGenerator(c):RY(),p=new AbortController;let g,y;function x(w){y=w,p.abort()}u&&(u.aborted?x(CP):u.addEventListener("abort",()=>x(CP),{once:!0}));const b=async function(){var C,j;let w;try{let N=(C=n==null?void 0:n.condition)==null?void 0:C.call(n,c,{getState:f,extra:m});if(BY(N)&&(N=await N),N===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const T=new Promise((k,E)=>{g=()=>{E({name:"AbortError",message:y||"Aborted"})},p.signal.addEventListener("abort",g)});d(s(h,c,(j=n==null?void 0:n.getPendingMeta)==null?void 0:j.call(n,{requestId:h,arg:c},{getState:f,extra:m}))),w=await Promise.race([T,Promise.resolve(r(c,{dispatch:d,getState:f,extra:m,requestId:h,signal:p.signal,abort:x,rejectWithValue:(k,E)=>new g1(k,E),fulfillWithValue:(k,E)=>new wP(k,E)})).then(k=>{if(k instanceof g1)throw k;return k instanceof wP?a(k.payload,h,c,k.meta):a(k,h,c)})])}catch(N){w=N instanceof g1?i(null,h,c,N.payload,N.meta):i(N,h,c)}finally{g&&p.signal.removeEventListener("abort",g)}return n&&!n.dispatchConditionRejection&&i.match(w)&&w.meta.condition||d(w),w}();return Object.assign(b,{abort:x,requestId:h,arg:c,unwrap(){return b.then(FY)}})}}return Object.assign(l,{pending:s,rejected:i,fulfilled:a,settled:_Y(i,a),typePrefix:e})}return t.withTypes=()=>t,t})();function FY(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function BY(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var qY=Symbol.for("rtk-slice-createasyncthunk");function VY(t,e){return`${t}/${e}`}function UY({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[qY];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(fs(11));const l=(typeof a.reducers=="function"?a.reducers(WY()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,C){const j=typeof S=="string"?S:S.type;if(!j)throw new Error(fs(12));if(j in u.sliceCaseReducersByType)throw new Error(fs(13));return u.sliceCaseReducersByType[j]=C,d},addMatcher(S,C){return u.sliceMatchers.push({matcher:S,reducer:C}),d},exposeAction(S,C){return u.actionCreators[S]=C,d},exposeCaseReducer(S,C){return u.sliceCaseReducersByName[S]=C,d}};c.forEach(S=>{const C=l[S],j={reducerName:S,type:VY(s,S),createNotation:typeof a.reducers=="function"};GY(C)?KY(j,C,d,e):HY(j,C,d)});function f(){const[S={},C=[],j=void 0]=typeof a.extraReducers=="function"?zB(a.extraReducers):[a.extraReducers],N={...S,...u.sliceCaseReducersByType};return PY(a.initialState,T=>{for(let k in N)T.addCase(k,N[k]);for(let k of u.sliceMatchers)T.addMatcher(k.matcher,k.reducer);for(let k of C)T.addMatcher(k.matcher,k.reducer);j&&T.addDefaultCase(j)})}const m=S=>S,h=new Map,p=new WeakMap;let g;function y(S,C){return g||(g=f()),g(S,C)}function x(){return g||(g=f()),g.getInitialState()}function b(S,C=!1){function j(T){let k=T[S];return typeof k>"u"&&C&&(k=vh(p,j,x)),k}function N(T=m){const k=vh(h,C,()=>new WeakMap);return vh(k,T,()=>{const E={};for(const[O,P]of Object.entries(a.selectors??{}))E[O]=zY(P,T,()=>vh(p,T,x),C);return E})}return{reducerPath:S,getSelectors:N,get selectors(){return N(j)},selectSlice:j}}const w={name:s,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...b(i),injectInto(S,{reducerPath:C,...j}={}){const N=C??i;return S.inject({reducerPath:N,reducer:y},j),{...w,...b(N,!0)}}};return w}}function zY(t,e,r,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...i)}return a.unwrapped=t,a}var ye=UY();function WY(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function HY({type:t,reducerName:e,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!YY(n))throw new Error(fs(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,i?Cd(t,i):Cd(t))}function GY(t){return t._reducerDefinitionType==="asyncThunk"}function YY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function KY({type:t,reducerName:e},r,n,a){if(!a)throw new Error(fs(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(t,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||jh,pending:l||jh,rejected:c||jh,settled:u||jh})}function jh(){}function fs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const XY="https://staging-engine.testthelink.online",JY=async(t,e)=>{var r;try{const n=await fetch(`${XY}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:e})}),a=await n.json();if(!n.ok||!a.token)throw new Error(a.message||((r=a.errors)==null?void 0:r.general)||"Login failed");return localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),a.user}catch(n){throw new Error(n.message)}},QY=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),null),ZY=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=localStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),eK=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),tv={login:JY,logout:QY,fetchUserProfile:ZY,changePassword:eK},tK={user:null,isAuthenticated:!1,isLoading:!1,error:null},Np=M("auth/login",async({username:t,password:e},r)=>{try{return await tv.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),WB=M("auth/logout",async(t,e)=>{try{return await tv.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),y1=M("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await tv.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),Sp=M("auth/fetchUserProfile",async(t,e)=>{try{return await tv.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),HB=ye({name:"auth",initialState:tK,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(Np.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Np.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(Np.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(WB.fulfilled,e=>{e.user=null,e.isAuthenticated=!1}).addCase(Sp.pending,e=>{e.isLoading=!0}).addCase(Sp.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(Sp.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(y1.pending,e=>{e.isLoading=!0}).addCase(y1.fulfilled,e=>{e.isLoading=!1}).addCase(y1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetAuthState:s7e}=HB.actions,rK=HB.reducer;let nK={data:""},aK=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||nK,sK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,oK=/\/\*[^]*?\*\/|  +/g,NP=/\n+/g,to=(t,e)=>{let r="",n="",a="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?to(i,s):s+"{"+to(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=to(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=to.p?to.p(s,i):s+":"+i+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Wa={},GB=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+GB(t[r]);return e}return t},iK=(t,e,r,n,a)=>{let s=GB(t),i=Wa[s]||(Wa[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Wa[i]){let c=s!==t?t:(u=>{let d,f,m=[{}];for(;d=sK.exec(u.replace(oK,""));)d[4]?m.shift():d[3]?(f=d[3].replace(NP," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(NP," ").trim();return m[0]})(t);Wa[i]=to(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Wa.g?Wa.g:null;return r&&(Wa.g=Wa[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Wa[i],e,n,l),i},lK=(t,e,r)=>t.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":to(l,""):l===!1?"":l}return n+a+(i??"")},"");function rv(t){let e=this||{},r=t.call?t(e.p):t;return iK(r.unshift?r.raw?lK(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,aK(e.target),e.g,e.o,e.k)}let YB,jS,wS;rv.bind({g:1});let Ts=rv.bind({k:1});function cK(t,e,r,n){to.p=e,YB=t,jS=r,wS=n}function Fo(t,e){let r=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:jS&&jS()},l),r.o=/ *go\d+/.test(c),l.className=rv.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),wS&&u[0]&&wS(l),YB(u,l)}return a}}var uK=t=>typeof t=="function",m0=(t,e)=>uK(t)?t(e):t,dK=(()=>{let t=0;return()=>(++t).toString()})(),KB=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),fK=20,XB=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,fK)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return XB(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Ap=[],bi={toasts:[],pausedAt:void 0},nl=t=>{bi=XB(bi,t),Ap.forEach(e=>{e(bi)})},mK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hK=(t={})=>{let[e,r]=v.useState(bi),n=v.useRef(bi);v.useEffect(()=>(n.current!==bi&&r(bi),Ap.push(r),()=>{let s=Ap.indexOf(r);s>-1&&Ap.splice(s,1)}),[]);let a=e.toasts.map(s=>{var i,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||mK[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:a}},pK=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||dK()}),Tm=t=>(e,r)=>{let n=pK(e,t,r);return nl({type:2,toast:n}),n.id},pe=(t,e)=>Tm("blank")(t,e);pe.error=Tm("error");pe.success=Tm("success");pe.loading=Tm("loading");pe.custom=Tm("custom");pe.dismiss=t=>{nl({type:3,toastId:t})};pe.remove=t=>nl({type:4,toastId:t});pe.promise=(t,e,r)=>{let n=pe.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let s=e.success?m0(e.success,a):void 0;return s?pe.success(s,{id:n,...r,...r==null?void 0:r.success}):pe.dismiss(n),a}).catch(a=>{let s=e.error?m0(e.error,a):void 0;s?pe.error(s,{id:n,...r,...r==null?void 0:r.error}):pe.dismiss(n)}),t};var gK=(t,e)=>{nl({type:1,toast:{id:t,height:e}})},yK=()=>{nl({type:5,time:Date.now()})},Nd=new Map,bK=1e3,xK=(t,e=bK)=>{if(Nd.has(t))return;let r=setTimeout(()=>{Nd.delete(t),nl({type:4,toastId:t})},e);Nd.set(t,r)},vK=t=>{let{toasts:e,pausedAt:r}=hK(t);v.useEffect(()=>{if(r)return;let s=Date.now(),i=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&pe.dismiss(l.id);return}return setTimeout(()=>pe.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=v.useCallback(()=>{r&&nl({type:6,time:Date.now()})},[r]),a=v.useCallback((s,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=e.filter(h=>(h.position||u)===(s.position||u)&&h.height),f=d.findIndex(h=>h.id===s.id),m=d.filter((h,p)=>p<f&&h.visible).length;return d.filter(h=>h.visible).slice(...l?[m+1]:[0,m]).reduce((h,p)=>h+(p.height||0)+c,0)},[e]);return v.useEffect(()=>{e.forEach(s=>{if(s.dismissed)xK(s.id,s.removeDelay);else{let i=Nd.get(s.id);i&&(clearTimeout(i),Nd.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:gK,startPause:yK,endPause:n,calculateOffset:a}}},jK=Ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,wK=Ts`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CK=Ts`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,NK=Fo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${wK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${CK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,SK=Ts`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,AK=Fo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${SK} 1s linear infinite;
`,TK=Ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kK=Ts`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,IK=Fo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,OK=Fo("div")`
  position: absolute;
`,EK=Fo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,PK=Ts`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DK=Fo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${PK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_K=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?v.createElement(DK,null,e):e:r==="blank"?null:v.createElement(EK,null,v.createElement(AK,{...n}),r!=="loading"&&v.createElement(OK,null,r==="error"?v.createElement(NK,{...n}):v.createElement(IK,{...n})))},$K=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,RK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,MK="0%{opacity:0;} 100%{opacity:1;}",LK="0%{opacity:1;} 100%{opacity:0;}",FK=Fo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,BK=Fo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qK=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=KB()?[MK,LK]:[$K(r),RK(r)];return{animation:e?`${Ts(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ts(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},VK=v.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?qK(t.position||e||"top-center",t.visible):{opacity:0},s=v.createElement(_K,{toast:t}),i=v.createElement(BK,{...t.ariaProps},m0(t.message,t));return v.createElement(FK,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:s,message:i}):v.createElement(v.Fragment,null,s,i))});cK(v.createElement);var UK=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let s=v.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return v.createElement("div",{ref:s,className:e,style:r},a)},zK=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:KB()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},WK=rv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wh=16,HK=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:i})=>{let{toasts:l,handlers:c}=vK(r);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:wh,left:wh,right:wh,bottom:wh,pointerEvents:"none",...s},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=zK(d,f);return v.createElement(UK,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?WK:"",style:m},u.type==="custom"?m0(u.message,u):a?a(u):v.createElement(VK,{toast:u,position:d}))}))},it=pe;function JB(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=JB(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function _e(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=JB(t))&&(n&&(n+=" "),n+=e);return n}function GK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const QB=v.forwardRef(GK);function YK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const pa=v.forwardRef(YK);function KK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const ZB=v.forwardRef(KK);function XK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const JK=v.forwardRef(XK);function QK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const ZK=v.forwardRef(QK);function eX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const tX=v.forwardRef(eX);function rX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const S2=v.forwardRef(rX);function nX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const CS=v.forwardRef(nX);function aX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const e3=v.forwardRef(aX);function sX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const SP=v.forwardRef(sX);function oX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const t3=v.forwardRef(oX);function iX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const lX=v.forwardRef(iX);function cX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const uX=v.forwardRef(cX);function dX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const r3=v.forwardRef(dX);function fX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const mX=v.forwardRef(fX);function hX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const nv=v.forwardRef(hX);function pX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const gX=v.forwardRef(pX);function yX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const bX=v.forwardRef(yX);function xX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const vX=v.forwardRef(xX);function jX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ae=v.forwardRef(jX);function wX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Se=v.forwardRef(wX);function CX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const al=v.forwardRef(CX);function NX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const SX=v.forwardRef(NX);function AX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Me=v.forwardRef(AX);function TX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const kX=v.forwardRef(TX);function IX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const n3=v.forwardRef(IX);function OX({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const a3=v.forwardRef(OX),EX=[{name:"Dashboard",href:"/dashboard",icon:bX},{name:"Settings",icon:t3,submenu:[{name:"Departments",href:"/settings/departments"},{name:"Subdepartments",href:"/settings/subdepartments"},{name:"Modules",href:"/settings/modules"},{name:"Users",submenu:[{name:"Approval Matrix",href:"/settings/approval-matrix"},{name:"User Access",href:"/settings/user-access"},{name:"User Roles",href:"/settings/user-roles"},{name:"User",href:"/settings/users"}]},{name:"Real Property",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration"},{name:"Base Unit Value",href:"/settings/base-unit-value"},{name:"General Revision",href:"/settings/general-revision"}]},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank"},{name:"Currency",href:"/settings/currency"}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details"},{name:"Document Type Category",href:"/settings/document-type-categories"}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items"},{name:"Item Units",href:"/settings/items/units"},{name:"Invoice Charge Accounts",href:"/settings/items/invoice-charge-accounts"}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details"},{name:"Project Type",href:"/settings/project-type"}]},{name:"Financial Statement",href:"/settings/financial-statement"},{name:"Fiscal Year",href:"/settings/fiscal-year"},{name:"Tax Code",href:"/settings/tax-code"},{name:"Mode of Payment",href:"/settings/mode-of-payment"},{name:"Payment Terms",href:"/settings/payment-terms"},{name:"Industry",href:"/settings/industry"}]},{name:"Locations",href:"/settings/locations"},{name:"Individual/Citizen",href:"/settings/customer"},{name:"Chart of Accounts Settings",submenu:[{name:"Chart of Accounts",href:"/settings/chart-of-accounts"},{name:"Account Group",href:"/settings/account-group"},{name:"Major Account Group",href:"/settings/major-account-group"},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group"}]},{name:"Vendors",submenu:[{name:"Vendor Details",href:"/settings/vendors"},{name:"Vendor Customer Type",href:"/settings/vendor-customer-type"},{name:"Vendor Type",href:"/settings/vendor-type"}]},{name:"Employee",submenu:[{name:"Employee Details",href:"/settings/employees"},{name:"Employment Status",href:"/settings/employmentStatus"},{name:"Positions",href:"/settings/positions"},{name:"Nationalities",href:"/settings/nationalities"}]},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe"},{name:"PPE Categories",href:"/settings/ppe-categories"},{name:"PPE Suppliers",href:"/settings/ppe-suppliers"}]},{name:"LGU Maintenance",href:"/settings/lgu-maintenance"}]},{name:"Disbursement",icon:lX,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests"},{name:"Disbursement Voucher",href:"/disbursement/vouchers"},{name:"Travel Order",href:"/disbursement/travel-orders"},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers"},{name:"Disbursement Journals",href:"/disbursement/disbursement-journals"},{name:"General Journals",href:"/disbursement/general-journals"},{name:"Beginning Balance",href:"/disbursement/beginning-balance"},{name:"Purchase Request",href:"/disbursement/purchase-requests"},{name:"Fund Utilization Requests and Status",href:"/disbursement/fund-utilization-requests"}]},{name:"Collections",icon:SX,submenu:[{name:"Community Tax",href:"/collections/community-tax"},{name:"Community Tax Corporation",href:"/collections/community-tax-corporation"},{name:"General Service Receipt",href:"/collections/general-service-receipts"},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts"},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts"},{name:"Real Property Tax",href:"/collections/real-property-tax"},{name:"Cashbook",href:"/collections/cashbook"},{name:"Collection Report",href:"/collections/reports"},{name:"Public Market Ticket",href:"/collections/public-market-tickets"}]},{name:"Applications",icon:r3,submenu:[{name:"Business Permits",href:"/applications/business-permits"},{name:"Cheque Generator",href:"/applications/cheque-generator"}]},{name:"Budget",icon:uX,submenu:[{name:"Budget Details",href:"/budget/details"},{name:"Budget Allotment",href:"/budget/allotment"},{name:"Budget Summary",href:"/budget/summary"},{name:"Budget Supplemental",href:"/budget/supplemental"},{name:"Budget Transfer",href:"/budget/transfer"},{name:"Budget Report",href:"/budget/report"},{name:"Funds",href:"/budget/funds"},{name:"Sub-funds",href:"/budget/sub-funds"},{name:"Fund Transfer",href:"/budget/fund-transfer"},{name:"Statement of Comparison",href:"/budget/statement-comparison"},{name:"Statement of Appropriation, Allotment, Obligation, Balances",href:"/budget/statement-appropriation"}]},{name:"Reports",icon:CS,submenu:[{name:"General Ledger",href:"/reports/general-ledger"},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger"},{name:"Trial Balance",href:"/reports/trial-balance"},{name:"Financial Statements",href:"/reports/financial-statements"}]},{name:"BIR Reports",href:"/reports/bir",icon:CS}];function s3({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s=0,parentPath:i=""}){return o.jsx("div",{className:_e("space-y-1",s>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(l=>{const c=i?`${i}.${l.name}`:l.name,u=e[c],d=a(l.submenu||[]);return o.jsx("div",{className:"relative",children:l.submenu?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:f=>{f.preventDefault(),r(c)},className:_e("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",d?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",u&&"border-l-4 border-primary-500",s>0&&"pl-2"),children:[o.jsxs("div",{className:"flex items-center",children:[l.icon&&o.jsx(l.icon,{className:_e("mr-3 h-5 w-5 flex-shrink-0",d?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("svg",{className:_e("h-5 w-5 transform transition-transform flex-shrink-0",u?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u&&o.jsxs("div",{className:"mt-1",children:[" ",o.jsx(s3,{items:l.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s+1,parentPath:c})]})]}):o.jsxs(Ql,{to:l.href,className:_e("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(l.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",s>0&&"pl-2"),children:[l.icon&&o.jsx(l.icon,{className:_e("mr-3 h-5 w-5 flex-shrink-0",n(l.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]})},c)})})}function PX(){var l,c;const t=Lo(),{user:e}=V(u=>u.auth),[r,n]=v.useState({}),a=u=>{n(d=>({...d,[u]:!d[u]}))},s=u=>t.pathname===u,i=u=>u.some(d=>d.href?t.pathname===d.href:d.children&&i(d.children));return o.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex items-center justify-center h-16 border-b border-neutral-200 bg-primary-800",children:o.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"LGU System"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsx("nav",{className:"space-y-1 px-2",children:o.jsx(s3,{items:EX,expandedMenus:r,toggleMenu:a,isActive:s,isSubMenuActive:i})})}),e&&o.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((l=e.firstName)==null?void 0:l.charAt(0))||"",((c=e.lastName)==null?void 0:c.charAt(0))||""]})}),o.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-700 truncate",children:e.UserName||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function bl(t,e,r){let n=r.initialDeps??[],a;function s(){var i,l,c,u;let d;r.key&&((i=r.debug)!=null&&i.call(r))&&(d=Date.now());const f=t();if(!(f.length!==n.length||f.some((p,g)=>n[g]!==p)))return a;n=f;let h;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(h=Date.now()),a=e(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const p=Math.round((Date.now()-d)*100)/100,g=Math.round((Date.now()-h)*100)/100,y=g/16,x=(b,w)=>{for(b=String(b);b.length<w;)b=" "+b;return b};console.info(`%c ${x(g,5)} /${x(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,a),a}return s.updateDeps=i=>{n=i},s}function AP(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const DX=(t,e)=>Math.abs(t-e)<=1,_X=(t,e,r)=>{let n;return function(...a){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,a),r)}},TP=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},$X=t=>t,RX=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let a=e;a<=r;a++)n.push(a);return n},MX=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const a=i=>{const{width:l,height:c}=i;e({width:Math.round(l),height:Math.round(c)})};if(a(TP(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(TP(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},kP={passive:!0},IP=typeof window>"u"?!0:"onscrollend"in window,LX=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let a=0;const s=t.options.useScrollendEvent&&IP?()=>{}:_X(n,()=>{e(a,!1)},t.options.isScrollingResetDelay),i=d=>()=>{const{horizontal:f,isRtl:m}=t.options;a=f?r.scrollLeft*(m&&-1||1):r.scrollTop,s(),e(a,d)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,kP);const u=t.options.useScrollendEvent&&IP;return u&&r.addEventListener("scrollend",c,kP),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},FX=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},BX=(t,{adjustments:e=0,behavior:r},n)=>{var a,s;const i=t+e;(s=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class qX{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const i=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var s;return(s=n())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=n())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:$X,rangeExtractor:RX,onChange:()=>{},measureElement:FX,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=bl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,s=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(a.has(l.lane))continue;const c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=bl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=bl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=s(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=m?m.end+this.options.gap:n+a,p=l.get(f),g=typeof p=="number"?p:this.options.estimateSize(d),y=h+g,x=m?m.lane:d%this.options.lanes;u[d]={index:d,start:h,size:g,end:y,key:f,lane:x}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=bl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,s)=>this.range=r.length>0&&n>0?VX({measurements:r,outerSize:n,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=bl(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,s,i)=>s===null||i===null?[]:r({startIndex:s,endIndex:i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),s=this.measurementsCache[a];if(!s)return;const i=s.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,i=n-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,i,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=bl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let s=0,i=r.length;s<i;s++){const l=r[s],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return AP(n[o3(0,n.length-1,a=>AP(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const s=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+s?"end":"start"),n==="center"?r+=(a-s)/2:n==="end"&&(r-=s);const l=this.getTotalSize()-s;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const s=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(a.end>=i+s-this.options.scrollPaddingEnd)n="end";else if(a.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{r=Math.max(0,Math.min(r,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(r,n);if(!s)return;const[i,l]=s;this._scrollToOffset(i,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(r))){const u=this.getOffsetForIndex(r,l);if(!u)return;const[d]=u,f=this.getScrollOffset();DX(d,f)||this.scrollToIndex(r,{align:l,behavior:a})}else this.scrollToIndex(r,{align:l,behavior:a})}))},this.scrollBy=(r,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&s.some(l=>l===null);){const l=n[i];s[l.lane]===null&&(s[l.lane]=l.end),i--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const o3=(t,e,r,n)=>{for(;t<=e;){const a=(t+e)/2|0,s=r(a);if(s<n)t=a+1;else if(s>n)e=a-1;else return a}return t>0?t-1:0};function VX({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const a=t.length-1,s=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:a};let i=o3(0,a,s,r),l=i;if(n===1)for(;l<a&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;i>=0&&u.some(d=>d>=r);){const d=t[i];u[d.lane]=d.start,i--}i=Math.max(0,i-i%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const OP=typeof document<"u"?v.useLayoutEffect:v.useEffect;function UX(t){const e=v.useReducer(()=>({}),{})[1],r={...t,onChange:(a,s)=>{var i;s?Kx.flushSync(e):e(),(i=t.onChange)==null||i.call(t,a,s)}},[n]=v.useState(()=>new qX(r));return n.setOptions(r),OP(()=>n._didMount(),[]),OP(()=>n._willUpdate()),n}function zX(t){return UX({observeElementRect:MX,observeElementOffset:LX,scrollToFn:BX,...t})}var WX=Object.defineProperty,HX=(t,e,r)=>e in t?WX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,b1=(t,e,r)=>(HX(t,typeof e!="symbol"?e+"":e,r),r);let GX=class{constructor(){b1(this,"current",this.detect()),b1(this,"handoffState","pending"),b1(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ms=new GX,mt=(t,e)=>{ms.isServer?v.useEffect(t,e):v.useLayoutEffect(t,e)};function ua(t){let e=v.useRef(t);return mt(()=>{e.current=t},[t]),e}function A2(t,e){let[r,n]=v.useState(t),a=ua(t);return mt(()=>n(a.current),[a,n,...e]),r}let je=function(t){let e=ua(t);return q.useCallback((...r)=>e.current(...r),[e])};function YX(t,e,r){let[n,a]=v.useState(r),s=t!==void 0,i=v.useRef(s),l=v.useRef(!1),c=v.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:n,je(u=>(s||a(u),e==null?void 0:e(u)))]}function av(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function wn(){let t=[],e={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),e.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return av(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=wn();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function Bo(){let[t]=v.useState(wn);return v.useEffect(()=>()=>t.dispose(),[t]),t}function KX(){let t=typeof document>"u";return"useSyncExternalStore"in So?(e=>e.useSyncExternalStore)(So)(()=>()=>{},()=>!1,()=>!t):!1}function ru(){let t=KX(),[e,r]=v.useState(ms.isHandoffComplete);return e&&ms.isHandoffComplete===!1&&r(!1),v.useEffect(()=>{e!==!0&&r(!0)},[e]),v.useEffect(()=>ms.handoff(),[]),t?!1:e}var EP;let sn=(EP=q.useId)!=null?EP:function(){let t=ru(),[e,r]=q.useState(t?()=>ms.nextId():null);return mt(()=>{e===null&&r(ms.nextId())},[e]),e!=null?""+e:void 0};function Et(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Et),n}function sv(t){return ms.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let NS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ns=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ns||{}),i3=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(i3||{}),XX=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(XX||{});function l3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(NS)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var T2=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(T2||{});function k2(t,e=0){var r;return t===((r=sv(t))==null?void 0:r.body)?!1:Et(e,{0(){return t.matches(NS)},1(){let n=t;for(;n!==null;){if(n.matches(NS))return!0;n=n.parentElement}return!1}})}function c3(t){let e=sv(t);wn().nextFrame(()=>{e&&!k2(e.activeElement,0)&&vo(t)})}var JX=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(JX||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function vo(t){t==null||t.focus({preventScroll:!0})}let QX=["textarea","input"].join(",");function ZX(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,QX))!=null?r:!1}function I2(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),s=e(n);if(a===null||s===null)return 0;let i=a.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function eJ(t,e){return Sd(l3(),e,{relativeTo:t})}function Sd(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?r?I2(t):t:l3(t);a.length>0&&i.length>1&&(i=i.filter(h=>!a.includes(h))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,i.indexOf(n))-1;if(e&4)return Math.max(0,i.indexOf(n))+1;if(e&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=i.length,m;do{if(d>=f||d+f<=0)return 0;let h=c+d;if(e&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}m=i[h],m==null||m.focus(u),d+=l}while(m!==s.activeElement);return e&6&&ZX(m)&&m.select(),2}function u3(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function tJ(){return/Android/gi.test(window.navigator.userAgent)}function d3(){return u3()||tJ()}function Ch(t,e,r){let n=ua(e);v.useEffect(()=>{function a(s){n.current(s)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[t,r])}function f3(t,e,r){let n=ua(e);v.useEffect(()=>{function a(s){n.current(s)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[t,r])}function O2(t,e,r=!0){let n=v.useRef(!1);v.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!k2(c,T2.Loose)&&c.tabIndex!==-1&&i.preventDefault(),e(i,c)}let s=v.useRef(null);Ch("pointerdown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Ch("mousedown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Ch("click",i=>{d3()||s.current&&(a(i,()=>s.current),s.current=null)},!0),Ch("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),f3("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function sl(...t){return v.useMemo(()=>sv(...t),[...t])}function PP(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function m3(t,e){let[r,n]=v.useState(()=>PP(t));return mt(()=>{n(PP(t))},[t.type,t.as]),mt(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let h3=Symbol();function rJ(t,e=!0){return Object.assign(t,{[h3]:e})}function Zt(...t){let e=v.useRef(t);v.useEffect(()=>{e.current=t},[t]);let r=je(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[h3]))?void 0:r}function DP(t){return[t.screenX,t.screenY]}function p3(){let t=v.useRef([-1,-1]);return{wasMoved(e){let r=DP(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=DP(e)}}}function g3({container:t,accept:e,walk:r,enabled:n=!0}){let a=v.useRef(e),s=v.useRef(r);v.useEffect(()=>{a.current=e,s.current=r},[e,r]),mt(()=>{if(!t||!n)return;let i=sv(t);if(!i)return;let l=a.current,c=s.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,a,s])}function jf(t,e){let r=v.useRef([]),n=je(t);v.useEffect(()=>{let a=[...r.current];for(let[s,i]of e.entries())if(r.current[s]!==i){let l=n(e,a);return r.current=e,l}},[n,...e])}function h0(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Io=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Io||{}),so=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(so||{});function Wt({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:l}){l=l??nJ;let c=y3(e,t);if(s)return Nh(c,r,n,i,l);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return Nh(f,r,n,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return Et(d?0:1,{0(){return null},1(){return Nh({...f,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return Nh(c,r,n,i,l)}function Nh(t,e={},r,n,a){let{as:s=r,children:i,refName:l="ref",...c}=x1(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let m=!1,h=[];for(let[p,g]of Object.entries(e))typeof g=="boolean"&&(m=!0),g===!0&&h.push(p);m&&(f["data-headlessui-state"]=h.join(" "))}if(s===v.Fragment&&Object.keys(SS(c)).length>0){if(!v.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let m=d.props,h=typeof(m==null?void 0:m.className)=="function"?(...g)=>h0(m==null?void 0:m.className(...g),c.className):h0(m==null?void 0:m.className,c.className),p=h?{className:h}:{};return v.cloneElement(d,Object.assign({},y3(d.props,SS(x1(c,["ref"]))),f,u,{ref:a(d.ref,u.ref)},p))}return v.createElement(s,Object.assign({},x1(c,["ref"]),s!==v.Fragment&&u,s!==v.Fragment&&f),d)}function nJ(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function y3(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...s){let i=r[n];for(let l of i){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return e}function Mt(t){var e;return Object.assign(v.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function SS(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function x1(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let aJ="div";var wf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(wf||{});function sJ(t,e){var r;let{features:n=1,...a}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Wt({ourProps:s,theirProps:a,slot:{},defaultTag:aJ,name:"Hidden"})}let p0=Mt(sJ),E2=v.createContext(null);E2.displayName="OpenClosedContext";var Gt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Gt||{});function km(){return v.useContext(E2)}function P2({value:t,children:e}){return q.createElement(E2.Provider,{value:t},e)}function oJ(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ta=[];oJ(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ta[0]!==e.target&&(Ta.unshift(e.target),Ta=Ta.filter(r=>r!=null&&r.isConnected),Ta.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function D2(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&iJ(r)?!1:n}function iJ(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function lJ(t){throw new Error("Unexpected object: "+t)}var ot=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ot||{});function AS(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{for(let s=a-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=a+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:lJ(t)}}function b3(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))v3(r,x3(e,n),a);return r}function x3(t,e){return t?t+"["+e+"]":e}function v3(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())v3(t,x3(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):b3(r,e,t)}var rt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(rt||{}),cJ={},uJ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(uJ||{}),dJ=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(dJ||{}),fJ=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(fJ||{}),mJ=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(mJ||{});function v1(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),a=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):I2(n,i=>i.dataRef.current.domRef.current),s=r?a.indexOf(r):null;return s===-1&&(s=null),{options:a,activeOptionIndex:s}}let hJ={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,a,s,i;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===ot.Specific?e.idx:AS(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var m,h;return(h=(m=t.activeOptionIndex)!=null?m:t.virtual.options.findIndex(p=>!t.virtual.disabled(p)))!=null?h:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,activeOptionIndex:d,activationTrigger:f}}let l=v1(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===ot.Specific?e.idx:AS(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,a;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let s=e.payload,i=v1(t,c=>(c.push(s),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let l={...t,...i,activationTrigger:2};return(a=t.dataRef.current)!=null&&a.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(a=>a.id!==e.id)};let n=v1(t,a=>{let s=a.findIndex(i=>i.id===e.id);return s!==-1&&a.splice(s,1),a});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let a=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);a!==-1?n=a:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},_2=v.createContext(null);_2.displayName="ComboboxActionsContext";function Im(t){let e=v.useContext(_2);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Im),r}return e}let j3=v.createContext(null);function pJ(t){var e;let r=ol("VirtualProvider"),[n,a]=v.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),s=zX({scrollPaddingStart:n,scrollPaddingEnd:a,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=v.useState(0);return mt(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),q.createElement(j3.Provider,{value:s},q.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&cJ.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&s.scrollToIndex(r.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return q.createElement(v.Fragment,{key:c.key},q.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let $2=v.createContext(null);$2.displayName="ComboboxDataContext";function ol(t){let e=v.useContext($2);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ol),r}return e}function gJ(t,e){return Et(e.type,hJ,t,e)}let yJ=v.Fragment;function bJ(t,e){let{value:r,defaultValue:n,onChange:a,form:s,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:m=!1,virtual:h=null,...p}=t,g=!1,y=null,[x=f?[]:void 0,b]=YX(r,a,n),[w,S]=v.useReducer(gJ,{dataRef:v.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),C=v.useRef(!1),j=v.useRef({static:!1,hold:!1}),N=v.useRef(null),T=v.useRef(null),k=v.useRef(null),E=v.useRef(null),O=je(typeof l=="string"?(J,ee)=>{let H=l;return(J==null?void 0:J[H])===(ee==null?void 0:ee[H])}:l??((J,ee)=>J===ee)),P=je(J=>w.options.findIndex(ee=>O(ee.dataRef.current.value,J))),L=v.useCallback(J=>Et(D.mode,{1:()=>x.some(ee=>O(ee,J)),0:()=>O(x,J)}),[x]),$=je(J=>w.activeOptionIndex===P(J)),D=v.useMemo(()=>({...w,immediate:g,optionsPropsRef:j,labelRef:N,inputRef:T,buttonRef:k,optionsRef:E,value:x,defaultValue:n,disabled:c,mode:f?1:0,virtual:w.virtual,get activeOptionIndex(){if(C.current&&w.activeOptionIndex===null&&w.options.length>0){let J=w.options.findIndex(ee=>!ee.dataRef.current.disabled);if(J!==-1)return J}return w.activeOptionIndex},calculateIndex:P,compare:O,isSelected:L,isActive:$,nullable:d,__demoMode:u}),[x,n,c,f,d,u,w,y]);mt(()=>{},[y,void 0]),mt(()=>{w.dataRef.current=D},[D]),O2([D.buttonRef,D.inputRef,D.optionsRef],()=>Te.closeCombobox(),D.comboboxState===0);let B=v.useMemo(()=>{var J,ee,H;return{open:D.comboboxState===0,disabled:c,activeIndex:D.activeOptionIndex,activeOption:D.activeOptionIndex===null?null:D.virtual?D.virtual.options[(J=D.activeOptionIndex)!=null?J:0]:(H=(ee=D.options[D.activeOptionIndex])==null?void 0:ee.dataRef.current.value)!=null?H:null,value:x}},[D,c,x]),U=je(()=>{if(D.activeOptionIndex!==null){if(D.virtual)Z(D.virtual.options[D.activeOptionIndex]);else{let{dataRef:J}=D.options[D.activeOptionIndex];Z(J.current.value)}Te.goToOption(ot.Specific,D.activeOptionIndex)}}),_=je(()=>{S({type:0}),C.current=!0}),R=je(()=>{S({type:1}),C.current=!1}),F=je((J,ee,H)=>(C.current=!1,J===ot.Specific?S({type:2,focus:ot.Specific,idx:ee,trigger:H}):S({type:2,focus:J,trigger:H}))),G=je((J,ee)=>(S({type:3,payload:{id:J,dataRef:ee}}),()=>{D.isActive(ee.current.value)&&(C.current=!0),S({type:4,id:J})})),W=je(J=>(S({type:5,id:J}),()=>S({type:5,id:null}))),Z=je(J=>Et(D.mode,{0(){return b==null?void 0:b(J)},1(){let ee=D.value.slice(),H=ee.findIndex(z=>O(z,J));return H===-1?ee.push(J):ee.splice(H,1),b==null?void 0:b(ee)}})),fe=je(J=>{S({type:6,trigger:J})}),Te=v.useMemo(()=>({onChange:Z,registerOption:G,registerLabel:W,goToOption:F,closeCombobox:R,openCombobox:_,setActivationTrigger:fe,selectActiveOption:U}),[]),ne=e===null?{}:{ref:e},K=v.useRef(null),le=Bo();return v.useEffect(()=>{K.current&&n!==void 0&&le.addEventListener(K.current,"reset",()=>{b==null||b(n)})},[K,b]),q.createElement(_2.Provider,{value:Te},q.createElement($2.Provider,{value:D},q.createElement(P2,{value:Et(D.comboboxState,{0:Gt.Open,1:Gt.Closed})},i!=null&&x!=null&&b3({[i]:x}).map(([J,ee],H)=>q.createElement(p0,{features:wf.Hidden,ref:H===0?z=>{var me;K.current=(me=z==null?void 0:z.closest("form"))!=null?me:null}:void 0,...SS({key:J,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:J,value:ee})})),Wt({ourProps:ne,theirProps:p,slot:B,defaultTag:yJ,name:"Combobox"}))))}let xJ="input";function vJ(t,e){var r,n,a,s,i;let l=sn(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...m}=t,h=ol("Combobox.Input"),p=Im("Combobox.Input"),g=Zt(h.inputRef,e),y=sl(h.inputRef),x=v.useRef(!1),b=Bo(),w=je(()=>{p.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),p.goToOption(ot.Nothing)}),S=function(){var D;return typeof d=="function"&&h.value!==void 0?(D=d(h.value))!=null?D:"":typeof h.value=="string"?h.value:""}();jf(([D,B],[U,_])=>{if(x.current)return;let R=h.inputRef.current;R&&((_===0&&B===1||D!==U)&&(R.value=D),requestAnimationFrame(()=>{if(x.current||!R||(y==null?void 0:y.activeElement)!==R)return;let{selectionStart:F,selectionEnd:G}=R;Math.abs((G??0)-(F??0))===0&&F===0&&R.setSelectionRange(R.value.length,R.value.length)}))},[S,h.comboboxState,y]),jf(([D],[B])=>{if(D===0&&B===1){if(x.current)return;let U=h.inputRef.current;if(!U)return;let _=U.value,{selectionStart:R,selectionEnd:F,selectionDirection:G}=U;U.value="",U.value=_,G!==null?U.setSelectionRange(R,F,G):U.setSelectionRange(R,F)}},[h.comboboxState]);let C=v.useRef(!1),j=je(()=>{C.current=!0}),N=je(()=>{b.nextFrame(()=>{C.current=!1})}),T=je(D=>{switch(x.current=!0,D.key){case rt.Enter:if(x.current=!1,h.comboboxState!==0||C.current)return;if(D.preventDefault(),D.stopPropagation(),h.activeOptionIndex===null){p.closeCombobox();return}p.selectActiveOption(),h.mode===0&&p.closeCombobox();break;case rt.ArrowDown:return x.current=!1,D.preventDefault(),D.stopPropagation(),Et(h.comboboxState,{0:()=>p.goToOption(ot.Next),1:()=>p.openCombobox()});case rt.ArrowUp:return x.current=!1,D.preventDefault(),D.stopPropagation(),Et(h.comboboxState,{0:()=>p.goToOption(ot.Previous),1:()=>{p.openCombobox(),b.nextFrame(()=>{h.value||p.goToOption(ot.Last)})}});case rt.Home:if(D.shiftKey)break;return x.current=!1,D.preventDefault(),D.stopPropagation(),p.goToOption(ot.First);case rt.PageUp:return x.current=!1,D.preventDefault(),D.stopPropagation(),p.goToOption(ot.First);case rt.End:if(D.shiftKey)break;return x.current=!1,D.preventDefault(),D.stopPropagation(),p.goToOption(ot.Last);case rt.PageDown:return x.current=!1,D.preventDefault(),D.stopPropagation(),p.goToOption(ot.Last);case rt.Escape:return x.current=!1,h.comboboxState!==0?void 0:(D.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&D.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&w(),p.closeCombobox());case rt.Tab:if(x.current=!1,h.comboboxState!==0)return;h.mode===0&&h.activationTrigger!==1&&p.selectActiveOption(),p.closeCombobox();break}}),k=je(D=>{u==null||u(D),h.nullable&&h.mode===0&&D.target.value===""&&w(),p.openCombobox()}),E=je(D=>{var B,U,_;let R=(B=D.relatedTarget)!=null?B:Ta.find(F=>F!==D.currentTarget);if(x.current=!1,!((U=h.optionsRef.current)!=null&&U.contains(R))&&!((_=h.buttonRef.current)!=null&&_.contains(R))&&h.comboboxState===0)return D.preventDefault(),h.mode===0&&(h.nullable&&h.value===null?w():h.activationTrigger!==1&&p.selectActiveOption()),p.closeCombobox()}),O=je(D=>{var B,U,_;let R=(B=D.relatedTarget)!=null?B:Ta.find(F=>F!==D.currentTarget);(U=h.buttonRef.current)!=null&&U.contains(R)||(_=h.optionsRef.current)!=null&&_.contains(R)||h.disabled||h.immediate&&h.comboboxState!==0&&(p.openCombobox(),b.nextFrame(()=>{p.setActivationTrigger(1)}))}),P=A2(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),L=v.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),$={ref:g,id:c,role:"combobox",type:f,"aria-controls":(r=h.optionsRef.current)==null?void 0:r.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null?void 0:h.virtual?(n=h.options.find(D=>{var B;return!((B=h.virtual)!=null&&B.disabled(D.dataRef.current.value))&&h.compare(D.dataRef.current.value,h.virtual.options[h.activeOptionIndex])}))==null?void 0:n.id:(a=h.options[h.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":P,"aria-autocomplete":"list",defaultValue:(i=(s=t.defaultValue)!=null?s:h.defaultValue!==void 0?d==null?void 0:d(h.defaultValue):null)!=null?i:h.defaultValue,disabled:h.disabled,onCompositionStart:j,onCompositionEnd:N,onKeyDown:T,onChange:k,onFocus:O,onBlur:E};return Wt({ourProps:$,theirProps:m,slot:L,defaultTag:xJ,name:"Combobox.Input"})}let jJ="button";function wJ(t,e){var r;let n=ol("Combobox.Button"),a=Im("Combobox.Button"),s=Zt(n.buttonRef,e),i=sn(),{id:l=`headlessui-combobox-button-${i}`,...c}=t,u=Bo(),d=je(g=>{switch(g.key){case rt.ArrowDown:return g.preventDefault(),g.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var y;return(y=n.inputRef.current)==null?void 0:y.focus({preventScroll:!0})});case rt.ArrowUp:return g.preventDefault(),g.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(ot.Last)})),u.nextFrame(()=>{var y;return(y=n.inputRef.current)==null?void 0:y.focus({preventScroll:!0})});case rt.Escape:return n.comboboxState!==0?void 0:(g.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&g.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var y;return(y=n.inputRef.current)==null?void 0:y.focus({preventScroll:!0})}));default:return}}),f=je(g=>{if(D2(g.currentTarget))return g.preventDefault();n.comboboxState===0?a.closeCombobox():(g.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var y;return(y=n.inputRef.current)==null?void 0:y.focus({preventScroll:!0})})}),m=A2(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),h=v.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),p={ref:s,id:l,type:m3(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:f,onKeyDown:d};return Wt({ourProps:p,theirProps:c,slot:h,defaultTag:jJ,name:"Combobox.Button"})}let CJ="label";function NJ(t,e){let r=sn(),{id:n=`headlessui-combobox-label-${r}`,...a}=t,s=ol("Combobox.Label"),i=Im("Combobox.Label"),l=Zt(s.labelRef,e);mt(()=>i.registerLabel(n),[n]);let c=je(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=v.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Wt({ourProps:{ref:l,id:n,onClick:c},theirProps:a,slot:u,defaultTag:CJ,name:"Combobox.Label"})}let SJ="ul",AJ=Io.RenderStrategy|Io.Static;function TJ(t,e){let r=sn(),{id:n=`headlessui-combobox-options-${r}`,hold:a=!1,...s}=t,i=ol("Combobox.Options"),l=Zt(i.optionsRef,e),c=km(),u=c!==null?(c&Gt.Open)===Gt.Open:i.comboboxState===0;mt(()=>{var h;i.optionsPropsRef.current.static=(h=t.static)!=null?h:!1},[i.optionsPropsRef,t.static]),mt(()=>{i.optionsPropsRef.current.hold=a},[i.optionsPropsRef,a]),g3({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=A2(()=>{var h,p;return(p=i.labelId)!=null?p:(h=i.buttonRef.current)==null?void 0:h.id},[i.labelId,i.buttonRef.current]),f=v.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(s,{children:q.createElement(pJ,null,s.children)}),Wt({ourProps:m,theirProps:s,slot:f,defaultTag:SJ,features:AJ,visible:u,name:"Combobox.Options"})}let kJ="li";function IJ(t,e){var r;let n=sn(),{id:a=`headlessui-combobox-option-${n}`,disabled:s=!1,value:i,order:l=null,...c}=t,u=ol("Combobox.Option"),d=Im("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===a,m=u.isSelected(i),h=v.useRef(null),p=ua({disabled:s,value:i,domRef:h,order:l}),g=v.useContext(j3),y=Zt(e,h,g?g.measureElement:null),x=je(()=>d.onChange(i));mt(()=>d.registerOption(a,p),[p,a]);let b=v.useRef(!(u.virtual||u.__demoMode));mt(()=>{if(!u.virtual||!u.__demoMode)return;let E=wn();return E.requestAnimationFrame(()=>{b.current=!0}),E.dispose},[u.virtual,u.__demoMode]),mt(()=>{if(!b.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let E=wn();return E.requestAnimationFrame(()=>{var O,P;(P=(O=h.current)==null?void 0:O.scrollIntoView)==null||P.call(O,{block:"nearest"})}),E.dispose},[h,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let w=je(E=>{var O;if(s||(O=u.virtual)!=null&&O.disabled(i))return E.preventDefault();x(),d3()||requestAnimationFrame(()=>{var P;return(P=u.inputRef.current)==null?void 0:P.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),S=je(()=>{var E;if(s||(E=u.virtual)!=null&&E.disabled(i))return d.goToOption(ot.Nothing);let O=u.calculateIndex(i);d.goToOption(ot.Specific,O)}),C=p3(),j=je(E=>C.update(E)),N=je(E=>{var O;if(!C.wasMoved(E)||s||(O=u.virtual)!=null&&O.disabled(i)||f)return;let P=u.calculateIndex(i);d.goToOption(ot.Specific,P,0)}),T=je(E=>{var O;C.wasMoved(E)&&(s||(O=u.virtual)!=null&&O.disabled(i)||f&&(u.optionsPropsRef.current.hold||d.goToOption(ot.Nothing)))}),k=v.useMemo(()=>({active:f,selected:m,disabled:s}),[f,m,s]);return Wt({ourProps:{id:a,ref:y,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:w,onFocus:S,onPointerEnter:j,onMouseEnter:j,onPointerMove:N,onMouseMove:N,onPointerLeave:T,onMouseLeave:T},theirProps:c,slot:k,defaultTag:kJ,name:"Combobox.Option"})}let OJ=Mt(bJ),EJ=Mt(wJ),PJ=Mt(vJ),DJ=Mt(NJ),_J=Mt(TJ),$J=Mt(IJ),xl=Object.assign(OJ,{Input:PJ,Button:EJ,Label:DJ,Options:_J,Option:$J});function w3(t,e,r,n){let a=ua(r);v.useEffect(()=>{t=t??window;function s(i){a.current(i)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function Om(){let t=v.useRef(!1);return mt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function C3(t){let e=je(t),r=v.useRef(!1);v.useEffect(()=>(r.current=!1,()=>{r.current=!0,av(()=>{r.current&&e()})}),[e])}var nd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(nd||{});function RJ(){let t=v.useRef(0);return f3("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function N3(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let MJ="div";var S3=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(S3||{});function LJ(t,e){let r=v.useRef(null),n=Zt(r,e),{initialFocus:a,containers:s,features:i=30,...l}=t;ru()||(i=1);let c=sl(r);qJ({ownerDocument:c},!!(i&16));let u=VJ({ownerDocument:c,container:r,initialFocus:a},!!(i&2));UJ({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(i&8));let d=RJ(),f=je(g=>{let y=r.current;y&&(x=>x())(()=>{Et(d.current,{[nd.Forwards]:()=>{Sd(y,ns.First,{skipElements:[g.relatedTarget]})},[nd.Backwards]:()=>{Sd(y,ns.Last,{skipElements:[g.relatedTarget]})}})})}),m=Bo(),h=v.useRef(!1),p={ref:n,onKeyDown(g){g.key=="Tab"&&(h.current=!0,m.requestAnimationFrame(()=>{h.current=!1}))},onBlur(g){let y=N3(s);r.current instanceof HTMLElement&&y.add(r.current);let x=g.relatedTarget;x instanceof HTMLElement&&x.dataset.headlessuiFocusGuard!=="true"&&(A3(y,x)||(h.current?Sd(r.current,Et(d.current,{[nd.Forwards]:()=>ns.Next,[nd.Backwards]:()=>ns.Previous})|ns.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&vo(g.target)))}};return q.createElement(q.Fragment,null,!!(i&4)&&q.createElement(p0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:wf.Focusable}),Wt({ourProps:p,theirProps:l,defaultTag:MJ,name:"FocusTrap"}),!!(i&4)&&q.createElement(p0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:wf.Focusable}))}let FJ=Mt(LJ),ku=Object.assign(FJ,{features:S3});function BJ(t=!0){let e=v.useRef(Ta.slice());return jf(([r],[n])=>{n===!0&&r===!1&&av(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Ta.slice())},[t,Ta,e]),je(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function qJ({ownerDocument:t},e){let r=BJ(e);jf(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&vo(r())},[e]),C3(()=>{e&&vo(r())})}function VJ({ownerDocument:t,container:e,initialFocus:r},n){let a=v.useRef(null),s=Om();return jf(()=>{if(!n)return;let i=e.current;i&&av(()=>{if(!s.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(i.contains(l)){a.current=l;return}r!=null&&r.current?vo(r.current):Sd(i,ns.First)===i3.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=t==null?void 0:t.activeElement})},[n]),a}function UJ({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){let s=Om();w3(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!s.current)return;let l=N3(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?A3(l,u)?(n.current=u,vo(u)):(i.preventDefault(),i.stopPropagation(),vo(c)):vo(n.current)},!0)}function A3(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let T3=v.createContext(!1);function zJ(){return v.useContext(T3)}function TS(t){return q.createElement(T3.Provider,{value:t.force},t.children)}function WJ(t){let e=zJ(),r=v.useContext(k3),n=sl(t),[a,s]=v.useState(()=>{if(!e&&r!==null||ms.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return v.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),v.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),a}let HJ=v.Fragment;function GJ(t,e){let r=t,n=v.useRef(null),a=Zt(rJ(d=>{n.current=d}),e),s=sl(n),i=WJ(n),[l]=v.useState(()=>{var d;return ms.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=v.useContext(kS),u=ru();return mt(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),mt(()=>{if(l&&c)return c.register(l)},[c,l]),C3(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:Kx.createPortal(Wt({ourProps:{ref:a},theirProps:r,defaultTag:HJ,name:"Portal"}),l):null}let YJ=v.Fragment,k3=v.createContext(null);function KJ(t,e){let{target:r,...n}=t,a={ref:Zt(e)};return q.createElement(k3.Provider,{value:r},Wt({ourProps:a,theirProps:n,defaultTag:YJ,name:"Popover.Group"}))}let kS=v.createContext(null);function XJ(){let t=v.useContext(kS),e=v.useRef([]),r=je(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=je(s=>{let i=e.current.indexOf(s);i!==-1&&e.current.splice(i,1),t&&t.unregister(s)}),a=v.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,v.useMemo(()=>function({children:s}){return q.createElement(kS.Provider,{value:a},s)},[a])]}let JJ=Mt(GJ),QJ=Mt(KJ),IS=Object.assign(JJ,{Group:QJ});function ZJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const eQ=typeof Object.is=="function"?Object.is:ZJ,{useState:tQ,useEffect:rQ,useLayoutEffect:nQ,useDebugValue:aQ}=So;function sQ(t,e,r){const n=e(),[{inst:a},s]=tQ({inst:{value:n,getSnapshot:e}});return nQ(()=>{a.value=n,a.getSnapshot=e,j1(a)&&s({inst:a})},[t,n,e]),rQ(()=>(j1(a)&&s({inst:a}),t(()=>{j1(a)&&s({inst:a})})),[t]),aQ(n),n}function j1(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!eQ(r,n)}catch{return!0}}function oQ(t,e,r){return e()}const iQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lQ=!iQ,cQ=lQ?oQ:sQ,uQ="useSyncExternalStore"in So?(t=>t.useSyncExternalStore)(So):cQ;function dQ(t){return uQ(t.subscribe,t.getSnapshot,t.getSnapshot)}function fQ(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let i=e[a].call(r,...s);i&&(r=i,n.forEach(l=>l()))}}}function mQ(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,s=t-a;r.style(n,"paddingRight",`${s}px`)}}}function hQ(){return u3()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=wn();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,i=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function pQ(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function gQ(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let xi=fQ(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:wn(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:gQ(r)},a=[hQ(),mQ(),pQ()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});xi.subscribe(()=>{let t=xi.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&xi.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&xi.dispatch("TEARDOWN",r)}});function yQ(t,e,r){let n=dQ(xi),a=t?n.get(t):void 0,s=a?a.count>0:!1;return mt(()=>{if(!(!t||!e))return xi.dispatch("PUSH",t,r),()=>xi.dispatch("POP",t,r)},[e,t]),s}let w1=new Map,Iu=new Map;function _P(t,e=!0){mt(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function a(){var i;if(!n)return;let l=(i=Iu.get(n))!=null?i:1;if(l===1?Iu.delete(n):Iu.set(n,l-1),l!==1)return;let c=w1.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,w1.delete(n))}let s=(r=Iu.get(n))!=null?r:0;return Iu.set(n,s+1),s!==0||(w1.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[t,e])}function bQ({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let a=v.useRef((n=r==null?void 0:r.current)!=null?n:null),s=sl(a),i=je(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((u=(c=a.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:i,contains:je(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:a,MainTreeNode:v.useMemo(()=>function(){return r!=null?null:q.createElement(p0,{features:wf.Hidden,ref:a})},[a,r])}}let R2=v.createContext(()=>{});R2.displayName="StackContext";var OS=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(OS||{});function xQ(){return v.useContext(R2)}function vQ({children:t,onUpdate:e,type:r,element:n,enabled:a}){let s=xQ(),i=je((...l)=>{e==null||e(...l),s(...l)});return mt(()=>{let l=a===void 0||a===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,a]),q.createElement(R2.Provider,{value:i},t)}let I3=v.createContext(null);function O3(){let t=v.useContext(I3);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,O3),e}return t}function jQ(){let[t,e]=v.useState([]);return[t.length>0?t.join(" "):void 0,v.useMemo(()=>function(r){let n=je(s=>(e(i=>[...i,s]),()=>e(i=>{let l=i.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),a=v.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return q.createElement(I3.Provider,{value:a},r.children)},[e])]}let wQ="p";function CQ(t,e){let r=sn(),{id:n=`headlessui-description-${r}`,...a}=t,s=O3(),i=Zt(e);mt(()=>s.register(n),[n,s.register]);let l={ref:i,...s.props,id:n};return Wt({ourProps:l,theirProps:a,slot:s.slot||{},defaultTag:wQ,name:s.name||"Description"})}let NQ=Mt(CQ),SQ=Object.assign(NQ,{});var AQ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(AQ||{}),TQ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(TQ||{});let kQ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},g0=v.createContext(null);g0.displayName="DialogContext";function Em(t){let e=v.useContext(g0);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Em),r}return e}function IQ(t,e,r=()=>[document.body]){yQ(t,e,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function OQ(t,e){return Et(e.type,kQ,t,e)}let EQ="div",PQ=Io.RenderStrategy|Io.Static;function DQ(t,e){let r=sn(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=v.useState(0),m=v.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=km();a===void 0&&h!==null&&(a=(h&Gt.Open)===Gt.Open);let p=v.useRef(null),g=Zt(p,e),y=sl(p),x=t.hasOwnProperty("open")||h!==null,b=t.hasOwnProperty("onClose");if(!x&&!b)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!x)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!b)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let w=a?0:1,[S,C]=v.useReducer(OQ,{titleId:null,descriptionId:null,panelRef:v.createRef()}),j=je(()=>s(!1)),N=je(H=>C({type:0,id:H})),T=ru()?c?!1:w===0:!1,k=d>1,E=v.useContext(g0)!==null,[O,P]=XJ(),L={get current(){var H;return(H=S.panelRef.current)!=null?H:p.current}},{resolveContainers:$,mainTreeNodeRef:D,MainTreeNode:B}=bQ({portals:O,defaultContainers:[L]}),U=k?"parent":"leaf",_=h!==null?(h&Gt.Closing)===Gt.Closing:!1,R=E||_?!1:T,F=v.useCallback(()=>{var H,z;return(z=Array.from((H=y==null?void 0:y.querySelectorAll("body > *"))!=null?H:[]).find(me=>me.id==="headlessui-portal-root"?!1:me.contains(D.current)&&me instanceof HTMLElement))!=null?z:null},[D]);_P(F,R);let G=k?!0:T,W=v.useCallback(()=>{var H,z;return(z=Array.from((H=y==null?void 0:y.querySelectorAll("[data-headlessui-portal]"))!=null?H:[]).find(me=>me.contains(D.current)&&me instanceof HTMLElement))!=null?z:null},[D]);_P(W,G),O2($,H=>{H.preventDefault(),j()},!(!T||k));let fe=!(k||w!==0);w3(y==null?void 0:y.defaultView,"keydown",H=>{fe&&(H.defaultPrevented||H.key===rt.Escape&&(H.preventDefault(),H.stopPropagation(),j()))}),IQ(y,!(_||w!==0||E),$),v.useEffect(()=>{if(w!==0||!p.current)return;let H=new ResizeObserver(z=>{for(let me of z){let we=me.target.getBoundingClientRect();we.x===0&&we.y===0&&we.width===0&&we.height===0&&j()}});return H.observe(p.current),()=>H.disconnect()},[w,p,j]);let[ne,K]=jQ(),le=v.useMemo(()=>[{dialogState:w,close:j,setTitleId:N},S],[w,S,j,N]),J=v.useMemo(()=>({open:w===0}),[w]),ee={ref:g,id:n,role:l,"aria-modal":w===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":ne};return q.createElement(vQ,{type:"Dialog",enabled:w===0,element:p,onUpdate:je((H,z)=>{z==="Dialog"&&Et(H,{[OS.Add]:()=>f(me=>me+1),[OS.Remove]:()=>f(me=>me-1)})})},q.createElement(TS,{force:!0},q.createElement(IS,null,q.createElement(g0.Provider,{value:le},q.createElement(IS.Group,{target:p},q.createElement(TS,{force:!1},q.createElement(K,{slot:J,name:"Dialog.Description"},q.createElement(ku,{initialFocus:i,containers:$,features:T?Et(U,{parent:ku.features.RestoreFocus,leaf:ku.features.All&~ku.features.FocusLock}):ku.features.None},q.createElement(P,null,Wt({ourProps:ee,theirProps:u,slot:J,defaultTag:EQ,features:PQ,visible:w===0,name:"Dialog"}))))))))),q.createElement(B,null))}let _Q="div";function $Q(t,e){let r=sn(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=t,[{dialogState:s,close:i}]=Em("Dialog.Overlay"),l=Zt(e),c=je(d=>{if(d.target===d.currentTarget){if(D2(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=v.useMemo(()=>({open:s===0}),[s]);return Wt({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:_Q,name:"Dialog.Overlay"})}let RQ="div";function MQ(t,e){let r=sn(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=t,[{dialogState:s},i]=Em("Dialog.Backdrop"),l=Zt(e);v.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=v.useMemo(()=>({open:s===0}),[s]);return q.createElement(TS,{force:!0},q.createElement(IS,null,Wt({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:RQ,name:"Dialog.Backdrop"})))}let LQ="div";function FQ(t,e){let r=sn(),{id:n=`headlessui-dialog-panel-${r}`,...a}=t,[{dialogState:s},i]=Em("Dialog.Panel"),l=Zt(e,i.panelRef),c=v.useMemo(()=>({open:s===0}),[s]),u=je(d=>{d.stopPropagation()});return Wt({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:c,defaultTag:LQ,name:"Dialog.Panel"})}let BQ="h2";function qQ(t,e){let r=sn(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:s,setTitleId:i}]=Em("Dialog.Title"),l=Zt(e);v.useEffect(()=>(i(n),()=>i(null)),[n,i]);let c=v.useMemo(()=>({open:s===0}),[s]);return Wt({ourProps:{ref:l,id:n},theirProps:a,slot:c,defaultTag:BQ,name:"Dialog.Title"})}let VQ=Mt(DQ),UQ=Mt(MQ),zQ=Mt(FQ),WQ=Mt($Q),HQ=Mt(qQ),C1=Object.assign(VQ,{Backdrop:UQ,Panel:zQ,Overlay:WQ,Title:HQ,Description:SQ}),$P=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function RP(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let s=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let i=s?(r=a.innerText)!=null?r:"":n;return $P.test(i)&&(i=i.replace($P,"")),i}function GQ(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let s=document.getElementById(a);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():RP(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return RP(t).trim()}function YQ(t){let e=v.useRef(""),r=v.useRef("");return je(()=>{let n=t.current;if(!n)return"";let a=n.innerText;if(e.current===a)return r.current;let s=GQ(n).trim().toLowerCase();return e.current=a,r.current=s,s})}var KQ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(KQ||{}),XQ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(XQ||{}),JQ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(JQ||{});function N1(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=I2(e(t.items.slice()),s=>s.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let QQ={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=N1(t),a=AS(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),s=a?t.items.indexOf(a):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=N1(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=N1(t,n=>{let a=n.findIndex(s=>s.id===e.id);return a!==-1&&n.splice(a,1),n});return{...t,...r,activationTrigger:1}}},M2=v.createContext(null);M2.displayName="MenuContext";function ov(t){let e=v.useContext(M2);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ov),r}return e}function ZQ(t,e){return Et(e.type,QQ,t,e)}let eZ=v.Fragment;function tZ(t,e){let{__demoMode:r=!1,...n}=t,a=v.useReducer(ZQ,{__demoMode:r,menuState:r?0:1,buttonRef:v.createRef(),itemsRef:v.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:i,buttonRef:l},c]=a,u=Zt(e);O2([l,i],(h,p)=>{var g;c({type:1}),k2(p,T2.Loose)||(h.preventDefault(),(g=l.current)==null||g.focus())},s===0);let d=je(()=>{c({type:1})}),f=v.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:u};return q.createElement(M2.Provider,{value:a},q.createElement(P2,{value:Et(s,{0:Gt.Open,1:Gt.Closed})},Wt({ourProps:m,theirProps:n,slot:f,defaultTag:eZ,name:"Menu"})))}let rZ="button";function nZ(t,e){var r;let n=sn(),{id:a=`headlessui-menu-button-${n}`,...s}=t,[i,l]=ov("Menu.Button"),c=Zt(i.buttonRef,e),u=Bo(),d=je(g=>{switch(g.key){case rt.Space:case rt.Enter:case rt.ArrowDown:g.preventDefault(),g.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ot.First}));break;case rt.ArrowUp:g.preventDefault(),g.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ot.Last}));break}}),f=je(g=>{switch(g.key){case rt.Space:g.preventDefault();break}}),m=je(g=>{if(D2(g.currentTarget))return g.preventDefault();t.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var y;return(y=i.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})})):(g.preventDefault(),l({type:0})))}),h=v.useMemo(()=>({open:i.menuState===0}),[i]),p={ref:c,id:a,type:m3(t,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return Wt({ourProps:p,theirProps:s,slot:h,defaultTag:rZ,name:"Menu.Button"})}let aZ="div",sZ=Io.RenderStrategy|Io.Static;function oZ(t,e){var r,n;let a=sn(),{id:s=`headlessui-menu-items-${a}`,...i}=t,[l,c]=ov("Menu.Items"),u=Zt(l.itemsRef,e),d=sl(l.itemsRef),f=Bo(),m=km(),h=m!==null?(m&Gt.Open)===Gt.Open:l.menuState===0;v.useEffect(()=>{let b=l.itemsRef.current;b&&l.menuState===0&&b!==(d==null?void 0:d.activeElement)&&b.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),g3({container:l.itemsRef.current,enabled:l.menuState===0,accept(b){return b.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:b.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(b){b.setAttribute("role","none")}});let p=je(b=>{var w,S;switch(f.dispose(),b.key){case rt.Space:if(l.searchQuery!=="")return b.preventDefault(),b.stopPropagation(),c({type:3,value:b.key});case rt.Enter:if(b.preventDefault(),b.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:C}=l.items[l.activeItemIndex];(S=(w=C.current)==null?void 0:w.domRef.current)==null||S.click()}c3(l.buttonRef.current);break;case rt.ArrowDown:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:ot.Next});case rt.ArrowUp:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:ot.Previous});case rt.Home:case rt.PageUp:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:ot.First});case rt.End:case rt.PageDown:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:ot.Last});case rt.Escape:b.preventDefault(),b.stopPropagation(),c({type:1}),wn().nextFrame(()=>{var C;return(C=l.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})});break;case rt.Tab:b.preventDefault(),b.stopPropagation(),c({type:1}),wn().nextFrame(()=>{eJ(l.buttonRef.current,b.shiftKey?ns.Previous:ns.Next)});break;default:b.key.length===1&&(c({type:3,value:b.key}),f.setTimeout(()=>c({type:4}),350));break}}),g=je(b=>{switch(b.key){case rt.Space:b.preventDefault();break}}),y=v.useMemo(()=>({open:l.menuState===0}),[l]),x={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:p,onKeyUp:g,role:"menu",tabIndex:0,ref:u};return Wt({ourProps:x,theirProps:i,slot:y,defaultTag:aZ,features:sZ,visible:h,name:"Menu.Items"})}let iZ=v.Fragment;function lZ(t,e){let r=sn(),{id:n=`headlessui-menu-item-${r}`,disabled:a=!1,...s}=t,[i,l]=ov("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=v.useRef(null),d=Zt(e,u);mt(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let C=wn();return C.requestAnimationFrame(()=>{var j,N;(N=(j=u.current)==null?void 0:j.scrollIntoView)==null||N.call(j,{block:"nearest"})}),C.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let f=YQ(u),m=v.useRef({disabled:a,domRef:u,get textValue(){return f()}});mt(()=>{m.current.disabled=a},[m,a]),mt(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let h=je(()=>{l({type:1})}),p=je(C=>{if(a)return C.preventDefault();l({type:1}),c3(i.buttonRef.current)}),g=je(()=>{if(a)return l({type:2,focus:ot.Nothing});l({type:2,focus:ot.Specific,id:n})}),y=p3(),x=je(C=>y.update(C)),b=je(C=>{y.wasMoved(C)&&(a||c||l({type:2,focus:ot.Specific,id:n,trigger:0}))}),w=je(C=>{y.wasMoved(C)&&(a||c&&l({type:2,focus:ot.Nothing}))}),S=v.useMemo(()=>({active:c,disabled:a,close:h}),[c,a,h]);return Wt({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:p,onFocus:g,onPointerEnter:x,onMouseEnter:x,onPointerMove:b,onMouseMove:b,onPointerLeave:w,onMouseLeave:w},theirProps:s,slot:S,defaultTag:iZ,name:"Menu.Item"})}let cZ=Mt(tZ),uZ=Mt(nZ),dZ=Mt(oZ),fZ=Mt(lZ),vl=Object.assign(cZ,{Button:uZ,Items:dZ,Item:fZ});function mZ(t=0){let[e,r]=v.useState(t),n=Om(),a=v.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=v.useCallback(c=>!!(e&c),[e]),i=v.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=v.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:a,hasFlag:s,removeFlag:i,toggleFlag:l}}function hZ(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function S1(t,...e){t&&e.length>0&&t.classList.add(...e)}function A1(t,...e){t&&e.length>0&&t.classList.remove(...e)}function pZ(t,e){let r=wn();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(t),[s,i]=[n,a].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function gZ(t,e,r,n){let a=r?"enter":"leave",s=wn(),i=n!==void 0?hZ(n):()=>{};a==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=Et(a,{enter:()=>e.enter,leave:()=>e.leave}),c=Et(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=Et(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return A1(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),S1(t,...e.base,...l,...u),s.nextFrame(()=>{A1(t,...e.base,...l,...u),S1(t,...e.base,...l,...c),pZ(t,()=>(A1(t,...e.base,...l),S1(t,...e.base,...e.entered),i()))}),s.dispose}function yZ({immediate:t,container:e,direction:r,classes:n,onStart:a,onStop:s}){let i=Om(),l=Bo(),c=ua(r);mt(()=>{t&&(c.current="enter")},[t]),mt(()=>{let u=wn();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),a.current(c.current),u.add(gZ(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Ws(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let iv=v.createContext(null);iv.displayName="TransitionContext";var bZ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(bZ||{});function xZ(){let t=v.useContext(iv);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function vZ(){let t=v.useContext(lv);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let lv=v.createContext(null);lv.displayName="NestingContext";function cv(t){return"children"in t?cv(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function E3(t,e){let r=ua(t),n=v.useRef([]),a=Om(),s=Bo(),i=je((h,p=so.Hidden)=>{let g=n.current.findIndex(({el:y})=>y===h);g!==-1&&(Et(p,{[so.Unmount](){n.current.splice(g,1)},[so.Hidden](){n.current[g].state="hidden"}}),s.microTask(()=>{var y;!cv(n)&&a.current&&((y=r.current)==null||y.call(r))}))}),l=je(h=>{let p=n.current.find(({el:g})=>g===h);return p?p.state!=="visible"&&(p.state="visible"):n.current.push({el:h,state:"visible"}),()=>i(h,so.Unmount)}),c=v.useRef([]),u=v.useRef(Promise.resolve()),d=v.useRef({enter:[],leave:[],idle:[]}),f=je((h,p,g)=>{c.current.splice(0),e&&(e.chains.current[p]=e.chains.current[p].filter(([y])=>y!==h)),e==null||e.chains.current[p].push([h,new Promise(y=>{c.current.push(y)})]),e==null||e.chains.current[p].push([h,new Promise(y=>{Promise.all(d.current[p].map(([x,b])=>b)).then(()=>y())})]),p==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>g(p)):g(p)}),m=je((h,p,g)=>{Promise.all(d.current[p].splice(0).map(([y,x])=>x)).then(()=>{var y;(y=c.current.shift())==null||y()}).then(()=>g(p))});return v.useMemo(()=>({children:n,register:l,unregister:i,onStart:f,onStop:m,wait:u,chains:d}),[l,i,n,f,m,d,u])}function jZ(){}let wZ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function MP(t){var e;let r={};for(let n of wZ)r[n]=(e=t[n])!=null?e:jZ;return r}function CZ(t){let e=v.useRef(MP(t));return v.useEffect(()=>{e.current=MP(t)},[t]),e}let NZ="div",P3=Io.RenderStrategy;function SZ(t,e){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:h,leaveTo:p,...g}=t,y=v.useRef(null),x=Zt(y,e),b=(r=g.unmount)==null||r?so.Unmount:so.Hidden,{show:w,appear:S,initial:C}=xZ(),[j,N]=v.useState(w?"visible":"hidden"),T=vZ(),{register:k,unregister:E}=T;v.useEffect(()=>k(y),[k,y]),v.useEffect(()=>{if(b===so.Hidden&&y.current){if(w&&j!=="visible"){N("visible");return}return Et(j,{hidden:()=>E(y),visible:()=>k(y)})}},[j,y,k,E,w,b]);let O=ua({base:Ws(g.className),enter:Ws(c),enterFrom:Ws(u),enterTo:Ws(d),entered:Ws(f),leave:Ws(m),leaveFrom:Ws(h),leaveTo:Ws(p)}),P=CZ({beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l}),L=ru();v.useEffect(()=>{if(L&&j==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,j,L]);let $=C&&!S,D=S&&w&&C,B=!L||$?"idle":w?"enter":"leave",U=mZ(0),_=je(fe=>Et(fe,{enter:()=>{U.addFlag(Gt.Opening),P.current.beforeEnter()},leave:()=>{U.addFlag(Gt.Closing),P.current.beforeLeave()},idle:()=>{}})),R=je(fe=>Et(fe,{enter:()=>{U.removeFlag(Gt.Opening),P.current.afterEnter()},leave:()=>{U.removeFlag(Gt.Closing),P.current.afterLeave()},idle:()=>{}})),F=E3(()=>{N("hidden"),E(y)},T),G=v.useRef(!1);yZ({immediate:D,container:y,classes:O,direction:B,onStart:ua(fe=>{G.current=!0,F.onStart(y,fe,_)}),onStop:ua(fe=>{G.current=!1,F.onStop(y,fe,R),fe==="leave"&&!cv(F)&&(N("hidden"),E(y))})});let W=g,Z={ref:x};return D?W={...W,className:h0(g.className,...O.current.enter,...O.current.enterFrom)}:G.current&&(W.className=h0(g.className,(n=y.current)==null?void 0:n.className),W.className===""&&delete W.className),q.createElement(lv.Provider,{value:F},q.createElement(P2,{value:Et(j,{visible:Gt.Open,hidden:Gt.Closed})|U.flags},Wt({ourProps:Z,theirProps:W,defaultTag:NZ,features:P3,visible:j==="visible",name:"Transition.Child"})))}function AZ(t,e){let{show:r,appear:n=!1,unmount:a=!0,...s}=t,i=v.useRef(null),l=Zt(i,e);ru();let c=km();if(r===void 0&&c!==null&&(r=(c&Gt.Open)===Gt.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=v.useState(r?"visible":"hidden"),f=E3(()=>{d("hidden")}),[m,h]=v.useState(!0),p=v.useRef([r]);mt(()=>{m!==!1&&p.current[p.current.length-1]!==r&&(p.current.push(r),h(!1))},[p,r]);let g=v.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);v.useEffect(()=>{if(r)d("visible");else if(!cv(f))d("hidden");else{let w=i.current;if(!w)return;let S=w.getBoundingClientRect();S.x===0&&S.y===0&&S.width===0&&S.height===0&&d("hidden")}},[r,f]);let y={unmount:a},x=je(()=>{var w;m&&h(!1),(w=t.beforeEnter)==null||w.call(t)}),b=je(()=>{var w;m&&h(!1),(w=t.beforeLeave)==null||w.call(t)});return q.createElement(lv.Provider,{value:f},q.createElement(iv.Provider,{value:g},Wt({ourProps:{...y,as:v.Fragment,children:q.createElement(D3,{ref:l,...y,...s,beforeEnter:x,beforeLeave:b})},theirProps:{},defaultTag:v.Fragment,features:P3,visible:u==="visible",name:"Transition"})))}function TZ(t,e){let r=v.useContext(iv)!==null,n=km()!==null;return q.createElement(q.Fragment,null,!r&&n?q.createElement(ES,{ref:e,...t}):q.createElement(D3,{ref:e,...t}))}let ES=Mt(AZ),D3=Mt(SZ),kZ=Mt(TZ),Tp=Object.assign(ES,{Child:kZ,Root:ES});function IZ({toggleSidebar:t,isSidebarOpen:e}){var u;const r=ie(),{user:n}=V(d=>d.auth),[a,s]=v.useState(!1),i=v.useRef(null),l=Am();v.useEffect(()=>{if(!a)return;function d(f){i.current&&!i.current.contains(f.target)&&s(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[a]);const c=()=>{r(WB())};return o.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[o.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:o.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[o.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?o.jsx(a3,{className:"block h-6 w-6","aria-hidden":"true"}):o.jsx(tX,{className:"block h-6 w-6","aria-hidden":"true"})]})}),o.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:o.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"ml-3 relative",children:o.jsxs(vl,{as:"div",className:"relative",children:[o.jsxs(vl.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:((u=n==null?void 0:n.UserName)==null?void 0:u.charAt(0))||"U"})]}),o.jsx(Tp,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsxs(vl.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[o.jsx("div",{className:"py-1",children:o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:(n==null?void 0:n.UserName)||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),o.jsx("div",{className:"py-1",children:o.jsx(vl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/profile"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(kX,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(vl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/change-password"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(vX,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(vl.Item,{children:({active:d})=>o.jsxs("button",{onClick:c,className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(JK,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})})]})}),a&&o.jsxs("div",{ref:i,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[o.jsx("div",{className:"p-4 border-b border-neutral-200",children:o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),o.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:o.jsx(OZ,{className:"h-5 w-5 text-primary-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:o.jsx(EZ,{className:"h-5 w-5 text-success-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),o.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:o.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function OZ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function EZ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function PZ(){const t=Am(),e=Lo(),r=localStorage.getItem("token"),[n,a]=v.useState(!0);v.useEffect(()=>{const i=()=>{window.innerWidth<1024?a(!1):a(!0)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),v.useEffect(()=>{window.innerWidth<1024&&a(!1)},[e.pathname]);const s=()=>{a(!n)};return r||t("/login"),o.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[n&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>a(!1)}),o.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${n?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:o.jsx(PX,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(IZ,{toggleSidebar:s,isSidebarOpen:n}),o.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:o.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(DB,{})})})]})]})}const DZ=()=>o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md space-y-8",children:o.jsx(DB,{})})});function _Z(){const[t,e]=v.useState(""),[r,n]=v.useState(""),a=ie(),{isLoading:s,error:i}=V(c=>c.auth),l=c=>{c.preventDefault(),a(Np({username:t,password:r}))};return o.jsx("div",{className:"bg-neutral-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),o.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[o.jsxs("div",{className:"rounded-md space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-neutral-700",children:"Username"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:t,onChange:c=>e(c.target.value),className:"px-4 py-2 rounded-md border border-neutral-200 focus:ring-primary-500 focus:border-primary-500 block w-full",placeholder:"admin"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700",children:"Password"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:c=>n(c.target.value),className:"px-4 py-2 rounded-md border border-neutral-200 focus:ring-primary-500 focus:border-primary-500 block w-full",placeholder:"*********"})})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),i&&o.jsx("div",{className:"rounded-md bg-error-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(mX,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm font-medium text-error-800",children:i})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:`btn btn-primary w-full flex justify-center items-center ${s?"opacity-70 cursor-not-allowed":""}`,children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),o.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const $Z=()=>o.jsx("div",{children:o.jsx("h1",{children:"Registration Page"})}),RZ=()=>o.jsx("div",{children:o.jsx("h1",{children:"Forgot Password Page"})}),MZ=()=>o.jsx("div",{children:o.jsx("h1",{children:"Reset Password Page"})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Pm(t){return t+.5|0}const oo=(t,e,r)=>Math.max(Math.min(t,r),e);function ad(t){return oo(Pm(t*2.55),0,255)}function jo(t){return oo(Pm(t*255),0,255)}function ts(t){return oo(Pm(t/2.55)/100,0,1)}function LP(t){return oo(Pm(t*100),0,100)}const En={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},PS=[..."0123456789ABCDEF"],LZ=t=>PS[t&15],FZ=t=>PS[(t&240)>>4]+PS[t&15],Sh=t=>(t&240)>>4===(t&15),BZ=t=>Sh(t.r)&&Sh(t.g)&&Sh(t.b)&&Sh(t.a);function qZ(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&En[t[1]]*17,g:255&En[t[2]]*17,b:255&En[t[3]]*17,a:e===5?En[t[4]]*17:255}:(e===7||e===9)&&(r={r:En[t[1]]<<4|En[t[2]],g:En[t[3]]<<4|En[t[4]],b:En[t[5]]<<4|En[t[6]],a:e===9?En[t[7]]<<4|En[t[8]]:255})),r}const VZ=(t,e)=>t<255?e(t):"";function UZ(t){var e=BZ(t)?LZ:FZ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+VZ(t.a,e):void 0}const zZ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _3(t,e,r){const n=e*Math.min(r,1-r),a=(s,i=(s+t/30)%12)=>r-n*Math.max(Math.min(i-3,9-i,1),-1);return[a(0),a(8),a(4)]}function WZ(t,e,r){const n=(a,s=(a+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function HZ(t,e,r){const n=_3(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function GZ(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function L2(t){const r=t.r/255,n=t.g/255,a=t.b/255,s=Math.max(r,n,a),i=Math.min(r,n,a),l=(s+i)/2;let c,u,d;return s!==i&&(d=s-i,u=l>.5?d/(2-s-i):d/(s+i),c=GZ(r,n,a,d,s),c=c*60+.5),[c|0,u||0,l]}function F2(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(jo)}function B2(t,e,r){return F2(_3,t,e,r)}function YZ(t,e,r){return F2(HZ,t,e,r)}function KZ(t,e,r){return F2(WZ,t,e,r)}function $3(t){return(t%360+360)%360}function XZ(t){const e=zZ.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?ad(+e[5]):jo(+e[5]));const a=$3(+e[2]),s=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?n=YZ(a,s,i):e[1]==="hsv"?n=KZ(a,s,i):n=B2(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}function JZ(t,e){var r=L2(t);r[0]=$3(r[0]+e),r=B2(r),t.r=r[0],t.g=r[1],t.b=r[2]}function QZ(t){if(!t)return;const e=L2(t),r=e[0],n=LP(e[1]),a=LP(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${ts(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const FP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},BP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ZZ(){const t={},e=Object.keys(BP),r=Object.keys(FP);let n,a,s,i,l;for(n=0;n<e.length;n++){for(i=l=e[n],a=0;a<r.length;a++)s=r[a],l=l.replace(s,FP[s]);s=parseInt(BP[i],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Ah;function eee(t){Ah||(Ah=ZZ(),Ah.transparent=[0,0,0,0]);const e=Ah[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const tee=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ree(t){const e=tee.exec(t);let r=255,n,a,s;if(e){if(e[7]!==n){const i=+e[7];r=e[8]?ad(i):oo(i*255,0,255)}return n=+e[1],a=+e[3],s=+e[5],n=255&(e[2]?ad(n):oo(n,0,255)),a=255&(e[4]?ad(a):oo(a,0,255)),s=255&(e[6]?ad(s):oo(s,0,255)),{r:n,g:a,b:s,a:r}}}function nee(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ts(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const T1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,jl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function aee(t,e,r){const n=jl(ts(t.r)),a=jl(ts(t.g)),s=jl(ts(t.b));return{r:jo(T1(n+r*(jl(ts(e.r))-n))),g:jo(T1(a+r*(jl(ts(e.g))-a))),b:jo(T1(s+r*(jl(ts(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Th(t,e,r){if(t){let n=L2(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=B2(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function R3(t,e){return t&&Object.assign(e||{},t)}function qP(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=jo(t[3]))):(e=R3(t,{r:0,g:0,b:0,a:1}),e.a=jo(e.a)),e}function see(t){return t.charAt(0)==="r"?ree(t):XZ(t)}let M3=class DS{constructor(e){if(e instanceof DS)return e;const r=typeof e;let n;r==="object"?n=qP(e):r==="string"&&(n=qZ(e)||eee(e)||see(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=R3(this._rgb);return e&&(e.a=ts(e.a)),e}set rgb(e){this._rgb=qP(e)}rgbString(){return this._valid?nee(this._rgb):void 0}hexString(){return this._valid?UZ(this._rgb):void 0}hslString(){return this._valid?QZ(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let s;const i=r===s?.5:r,l=2*i-1,c=n.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-u,n.r=255&u*n.r+s*a.r+.5,n.g=255&u*n.g+s*a.g+.5,n.b=255&u*n.b+s*a.b+.5,n.a=i*n.a+(1-i)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=aee(this._rgb,e._rgb,r)),this}clone(){return new DS(this.rgb)}alpha(e){return this._rgb.a=jo(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Pm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Th(this._rgb,2,e),this}darken(e){return Th(this._rgb,2,-e),this}saturate(e){return Th(this._rgb,1,e),this}desaturate(e){return Th(this._rgb,1,-e),this}rotate(e){return JZ(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ha(){}const oee=(()=>{let t=0;return()=>t++})();function ze(t){return t==null}function Ot(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function He(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ut(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ln(t,e){return Ut(t)?t:e}function Fe(t,e){return typeof t>"u"?e:t}const iee=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,L3=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function yt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function st(t,e,r,n){let a,s,i;if(Ot(t))for(s=t.length,a=0;a<s;a++)e.call(r,t[a],a);else if(He(t))for(i=Object.keys(t),s=i.length,a=0;a<s;a++)e.call(r,t[i[a]],i[a])}function y0(t,e){let r,n,a,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],s=e[r],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function b0(t){if(Ot(t))return t.map(b0);if(He(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=b0(t[r[a]]);return e}return t}function F3(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function lee(t,e,r,n){if(!F3(t))return;const a=e[t],s=r[t];He(a)&&He(s)?Cf(a,s,n):e[t]=b0(s)}function Cf(t,e,r){const n=Ot(e)?e:[e],a=n.length;if(!He(t))return t;r=r||{};const s=r.merger||lee;let i;for(let l=0;l<a;++l){if(i=n[l],!He(i))continue;const c=Object.keys(i);for(let u=0,d=c.length;u<d;++u)s(c[u],t,i,r)}return t}function Ad(t,e){return Cf(t,e,{merger:cee})}function cee(t,e,r){if(!F3(t))return;const n=e[t],a=r[t];He(n)&&He(a)?Ad(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=b0(a))}const VP={"":t=>t,x:t=>t.x,y:t=>t.y};function uee(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function dee(t){const e=uee(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Oo(t,e){return(VP[e]||(VP[e]=dee(e)))(t)}function q2(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Nf=t=>typeof t<"u",Eo=t=>typeof t=="function",UP=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function fee(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const kt=Math.PI,Tt=2*kt,mee=Tt+kt,x0=Number.POSITIVE_INFINITY,hee=kt/180,Yt=kt/2,Jo=kt/4,zP=kt*2/3,io=Math.log10,Ea=Math.sign;function Td(t,e,r){return Math.abs(t-e)<r}function WP(t){const e=Math.round(t);t=Td(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(io(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function pee(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,s)=>a-s).pop(),e}function gee(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Nc(t){return!gee(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function yee(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function B3(t,e,r){let n,a,s;for(n=0,a=t.length;n<a;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function oa(t){return t*(kt/180)}function V2(t){return t*(180/kt)}function HP(t){if(!Ut(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function q3(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*kt&&(s+=Tt),{angle:s,distance:a}}function _S(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bee(t,e){return(t-e+mee)%Tt-kt}function dn(t){return(t%Tt+Tt)%Tt}function Sf(t,e,r,n){const a=dn(t),s=dn(e),i=dn(r),l=dn(s-a),c=dn(i-a),u=dn(a-s),d=dn(a-i);return a===s||a===i||n&&s===i||l>c&&u<d}function dr(t,e,r){return Math.max(e,Math.min(r,t))}function xee(t){return dr(t,-32768,32767)}function os(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function U2(t,e,r){r=r||(i=>t[i]<e);let n=t.length-1,a=0,s;for(;n-a>1;)s=a+n>>1,r(s)?a=s:n=s;return{lo:a,hi:n}}const is=(t,e,r,n)=>U2(t,r,n?a=>{const s=t[a][e];return s<r||s===r&&t[a+1][e]===r}:a=>t[a][e]<r),vee=(t,e,r)=>U2(t,r,n=>t[n][e]>=r);function jee(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const V3=["push","pop","shift","splice","unshift"];function wee(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),V3.forEach(r=>{const n="_onData"+q2(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const i=a.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...s)}),i}})})}function GP(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(V3.forEach(s=>{delete t[s]}),delete t._chartjs)}function U3(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const z3=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function W3(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,z3.call(window,()=>{n=!1,t.apply(e,r)}))}}function Cee(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const z2=t=>t==="start"?"left":t==="end"?"right":"center",Ir=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Nee=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function H3(t,e,r){const n=e.length;let a=0,s=n;if(t._sorted){const{iScale:i,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=i.axis,{min:f,max:m,minDefined:h,maxDefined:p}=i.getUserBounds();if(h){if(a=Math.min(is(c,d,f).lo,r?n:is(e,d,i.getPixelForValue(f)).lo),u){const g=c.slice(0,a+1).reverse().findIndex(y=>!ze(y[l.axis]));a-=Math.max(0,g)}a=dr(a,0,n-1)}if(p){let g=Math.max(is(c,i.axis,m,!0).hi+1,r?0:is(e,d,i.getPixelForValue(m),!0).hi+1);if(u){const y=c.slice(g-1).findIndex(x=>!ze(x[l.axis]));g+=Math.max(0,y)}s=dr(g,a,n)-a}else s=n-a}return{start:a,count:s}}function G3(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),s}const kh=t=>t===0||t===1,YP=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Tt/r)),KP=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Tt/r)+1,kd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Yt)+1,easeOutSine:t=>Math.sin(t*Yt),easeInOutSine:t=>-.5*(Math.cos(kt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>kh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>kh(t)?t:YP(t,.075,.3),easeOutElastic:t=>kh(t)?t:KP(t,.075,.3),easeInOutElastic(t){return kh(t)?t:t<.5?.5*YP(t*2,.1125,.45):.5+.5*KP(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-kd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?kd.easeInBounce(t*2)*.5:kd.easeOutBounce(t*2-1)*.5+.5};function W2(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function XP(t){return W2(t)?t:new M3(t)}function k1(t){return W2(t)?t:new M3(t).saturate(.5).darken(.1).hexString()}const See=["x","y","borderWidth","radius","tension"],Aee=["color","borderColor","backgroundColor"];function Tee(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Aee},numbers:{type:"number",properties:See}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function kee(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const JP=new Map;function Iee(t,e){e=e||{};const r=t+JSON.stringify(e);let n=JP.get(r);return n||(n=new Intl.NumberFormat(t,e),JP.set(r,n)),n}function Dm(t,e,r){return Iee(e,r).format(t)}const Y3={values(t){return Ot(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),s=Oee(t,r)}const i=io(Math.abs(s)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Dm(t,n,c)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(io(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?Y3.numeric.call(this,t,e,r):""}};function Oee(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var uv={formatters:Y3};function Eee(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:uv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Gi=Object.create(null),$S=Object.create(null);function Id(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function I1(t,e,r){return typeof e=="string"?Cf(Id(t,e),r):Cf(Id(t,""),e)}class Pee{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>k1(a.backgroundColor),this.hoverBorderColor=(n,a)=>k1(a.borderColor),this.hoverColor=(n,a)=>k1(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return I1(this,e,r)}get(e){return Id(this,e)}describe(e,r){return I1($S,e,r)}override(e,r){return I1(Gi,e,r)}route(e,r,n,a){const s=Id(this,e),i=Id(this,n),l="_"+r;Object.defineProperties(s,{[l]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=i[a];return He(c)?Object.assign({},u,c):Fe(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var Pt=new Pee({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Tee,kee,Eee]);function Dee(t){return!t||ze(t.size)||ze(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function v0(t,e,r,n,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,r.push(a)),s>n&&(n=s),n}function _ee(t,e,r,n){n=n||{};let a=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let i=0;const l=r.length;let c,u,d,f,m;for(c=0;c<l;c++)if(f=r[c],f!=null&&!Ot(f))i=v0(t,a,s,i,f);else if(Ot(f))for(u=0,d=f.length;u<d;u++)m=f[u],m!=null&&!Ot(m)&&(i=v0(t,a,s,i,m));t.restore();const h=s.length/2;if(h>r.length){for(c=0;c<h;c++)delete a[s[c]];s.splice(0,h)}return i}function Qo(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function QP(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function RS(t,e,r,n){K3(t,e,r,n,null)}function K3(t,e,r,n,a){let s,i,l,c,u,d,f,m;const h=e.pointStyle,p=e.rotation,g=e.radius;let y=(p||0)*hee;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(y),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),h){default:a?t.ellipse(r,n,a/2,g,0,0,Tt):t.arc(r,n,g,0,Tt),t.closePath();break;case"triangle":d=a?a/2:g,t.moveTo(r+Math.sin(y)*d,n-Math.cos(y)*g),y+=zP,t.lineTo(r+Math.sin(y)*d,n-Math.cos(y)*g),y+=zP,t.lineTo(r+Math.sin(y)*d,n-Math.cos(y)*g),t.closePath();break;case"rectRounded":u=g*.516,c=g-u,i=Math.cos(y+Jo)*c,f=Math.cos(y+Jo)*(a?a/2-u:c),l=Math.sin(y+Jo)*c,m=Math.sin(y+Jo)*(a?a/2-u:c),t.arc(r-f,n-l,u,y-kt,y-Yt),t.arc(r+m,n-i,u,y-Yt,y),t.arc(r+f,n+l,u,y,y+Yt),t.arc(r-m,n+i,u,y+Yt,y+kt),t.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,d=a?a/2:c,t.rect(r-d,n-c,2*d,2*c);break}y+=Jo;case"rectRot":f=Math.cos(y)*(a?a/2:g),i=Math.cos(y)*g,l=Math.sin(y)*g,m=Math.sin(y)*(a?a/2:g),t.moveTo(r-f,n-l),t.lineTo(r+m,n-i),t.lineTo(r+f,n+l),t.lineTo(r-m,n+i),t.closePath();break;case"crossRot":y+=Jo;case"cross":f=Math.cos(y)*(a?a/2:g),i=Math.cos(y)*g,l=Math.sin(y)*g,m=Math.sin(y)*(a?a/2:g),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"star":f=Math.cos(y)*(a?a/2:g),i=Math.cos(y)*g,l=Math.sin(y)*g,m=Math.sin(y)*(a?a/2:g),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i),y+=Jo,f=Math.cos(y)*(a?a/2:g),i=Math.cos(y)*g,l=Math.sin(y)*g,m=Math.sin(y)*(a?a/2:g),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"line":i=a?a/2:Math.cos(y)*g,l=Math.sin(y)*g,t.moveTo(r-i,n-l),t.lineTo(r+i,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(y)*(a?a/2:g),n+Math.sin(y)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ls(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function dv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function fv(t){t.restore()}function $ee(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Ree(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Mee(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ze(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Lee(t,e,r,n,a){if(a.strikethrough||a.underline){const s=t.measureText(n),i=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=a.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(i,d),t.lineTo(l,d),t.stroke()}}function Fee(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Yi(t,e,r,n,a,s={}){const i=Ot(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,u;for(t.save(),t.font=a.string,Mee(t,s),c=0;c<i.length;++c)u=i[c],s.backdrop&&Fee(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ze(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),Lee(t,r,n,u,s),n+=Number(a.lineHeight);t.restore()}function Af(t,e){const{x:r,y:n,w:a,h:s,radius:i}=e;t.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*kt,kt,!0),t.lineTo(r,n+s-i.bottomLeft),t.arc(r+i.bottomLeft,n+s-i.bottomLeft,i.bottomLeft,kt,Yt,!0),t.lineTo(r+a-i.bottomRight,n+s),t.arc(r+a-i.bottomRight,n+s-i.bottomRight,i.bottomRight,Yt,0,!0),t.lineTo(r+a,n+i.topRight),t.arc(r+a-i.topRight,n+i.topRight,i.topRight,0,-Yt,!0),t.lineTo(r+i.topLeft,n)}const Bee=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qee=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Vee(t,e){const r=(""+t).match(Bee);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Uee=t=>+t||0;function H2(t,e){const r={},n=He(e),a=n?Object.keys(e):e,s=He(t)?n?i=>Fe(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of a)r[i]=Uee(s(i));return r}function X3(t){return H2(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ki(t){return H2(t,["topLeft","topRight","bottomLeft","bottomRight"])}function _r(t){const e=X3(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nr(t,e){t=t||{},e=e||Pt.font;let r=Fe(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Fe(t.style,e.style);n&&!(""+n).match(qee)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Fe(t.family,e.family),lineHeight:Vee(Fe(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Fe(t.weight,e.weight),string:""};return a.string=Dee(a),a}function sd(t,e,r,n){let a,s,i;for(a=0,s=t.length;a<s;++a)if(i=t[a],i!==void 0&&i!==void 0)return i}function zee(t,e,r){const{min:n,max:a}=t,s=L3(e,(a-n)/2),i=(l,c)=>r&&l===0?0:l+c;return{min:i(n,-Math.abs(s)),max:i(a,s)}}function qo(t,e){return Object.assign(Object.create(t),e)}function G2(t,e=[""],r,n,a=()=>t[0]){const s=r||t;typeof n>"u"&&(n=eq("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:a,override:l=>G2([l,...t],e,s,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Q3(l,c,()=>Qee(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return eD(l).includes(c)},ownKeys(l){return eD(l)},set(l,c,u){const d=l._storage||(l._storage=a());return l[c]=d[c]=u,delete l._keys,!0}})}function Sc(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:J3(t,n),setContext:s=>Sc(t,s,r,n),override:s=>Sc(t.override(s),e,r,n)};return new Proxy(a,{deleteProperty(s,i){return delete s[i],delete t[i],!0},get(s,i,l){return Q3(s,i,()=>Hee(s,i,l))},getOwnPropertyDescriptor(s,i){return s._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(s,i,l){return t[i]=l,delete s[i],!0}})}function J3(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Eo(r)?r:()=>r,isIndexable:Eo(n)?n:()=>n}}const Wee=(t,e)=>t?t+q2(e):e,Y2=(t,e)=>He(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Q3(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function Hee(t,e,r){const{_proxy:n,_context:a,_subProxy:s,_descriptors:i}=t;let l=n[e];return Eo(l)&&i.isScriptable(e)&&(l=Gee(e,l,t,r)),Ot(l)&&l.length&&(l=Yee(e,l,t,i.isIndexable)),Y2(e,l)&&(l=Sc(l,a,s&&s[e],i)),l}function Gee(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(s,i||n);return l.delete(t),Y2(t,c)&&(c=K2(a._scopes,a,t,c)),c}function Yee(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_descriptors:l}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(He(e[0])){const c=e,u=a._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=K2(u,a,t,d);e.push(Sc(f,s,i&&i[t],l))}}return e}function Z3(t,e,r){return Eo(t)?t(e,r):t}const Kee=(t,e)=>t===!0?e:typeof t=="string"?Oo(e,t):void 0;function Xee(t,e,r,n,a){for(const s of e){const i=Kee(r,s);if(i){t.add(i);const l=Z3(i._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(i===!1&&typeof n<"u"&&r!==n)return null}return!1}function K2(t,e,r,n){const a=e._rootScopes,s=Z3(e._fallback,r,n),i=[...t,...a],l=new Set;l.add(n);let c=ZP(l,i,r,s||r,n);return c===null||typeof s<"u"&&s!==r&&(c=ZP(l,i,s,c,n),c===null)?!1:G2(Array.from(l),[""],a,s,()=>Jee(e,r,n))}function ZP(t,e,r,n,a){for(;r;)r=Xee(t,e,r,n,a);return r}function Jee(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Ot(a)&&He(r)?r:a||{}}function Qee(t,e,r,n){let a;for(const s of e)if(a=eq(Wee(s,t),r),typeof a<"u")return Y2(t,a)?K2(r,n,t,a):a}function eq(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function eD(t){let e=t._keys;return e||(e=t._keys=Zee(t._scopes)),e}function Zee(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function tq(t,e,r,n){const{iScale:a}=t,{key:s="r"}=this._parsing,i=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=e[u],i[l]={r:a.parse(Oo(d,s),u)};return i}const ete=Number.EPSILON||1e-14,Ac=(t,e)=>e<t.length&&!t[e].skip&&t[e],rq=t=>t==="x"?"y":"x";function tte(t,e,r,n){const a=t.skip?e:t,s=e,i=r.skip?e:r,l=_S(s,a),c=_S(i,s);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,m=n*d;return{previous:{x:s.x-f*(i.x-a.x),y:s.y-f*(i.y-a.y)},next:{x:s.x+m*(i.x-a.x),y:s.y+m*(i.y-a.y)}}}function rte(t,e,r){const n=t.length;let a,s,i,l,c,u=Ac(t,0);for(let d=0;d<n-1;++d)if(c=u,u=Ac(t,d+1),!(!c||!u)){if(Td(e[d],0,ete)){r[d]=r[d+1]=0;continue}a=r[d]/e[d],s=r[d+1]/e[d],l=Math.pow(a,2)+Math.pow(s,2),!(l<=9)&&(i=3/Math.sqrt(l),r[d]=a*i*e[d],r[d+1]=s*i*e[d])}}function nte(t,e,r="x"){const n=rq(r),a=t.length;let s,i,l,c=Ac(t,0);for(let u=0;u<a;++u){if(i=l,l=c,c=Ac(t,u+1),!l)continue;const d=l[r],f=l[n];i&&(s=(d-i[r])/3,l[`cp1${r}`]=d-s,l[`cp1${n}`]=f-s*e[u]),c&&(s=(c[r]-d)/3,l[`cp2${r}`]=d+s,l[`cp2${n}`]=f+s*e[u])}}function ate(t,e="x"){const r=rq(e),n=t.length,a=Array(n).fill(0),s=Array(n);let i,l,c,u=Ac(t,0);for(i=0;i<n;++i)if(l=c,c=u,u=Ac(t,i+1),!!c){if(u){const d=u[e]-c[e];a[i]=d!==0?(u[r]-c[r])/d:0}s[i]=l?u?Ea(a[i-1])!==Ea(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}rte(t,a,s),nte(t,s,e)}function Ih(t,e,r){return Math.max(Math.min(t,r),e)}function ste(t,e){let r,n,a,s,i,l=ls(t[0],e);for(r=0,n=t.length;r<n;++r)i=s,s=l,l=r<n-1&&ls(t[r+1],e),s&&(a=t[r],i&&(a.cp1x=Ih(a.cp1x,e.left,e.right),a.cp1y=Ih(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Ih(a.cp2x,e.left,e.right),a.cp2y=Ih(a.cp2y,e.top,e.bottom)))}function ote(t,e,r,n,a){let s,i,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")ate(t,a);else{let u=n?t[t.length-1]:t[0];for(s=0,i=t.length;s<i;++s)l=t[s],c=tte(u,l,t[Math.min(s+1,i-(n?0:1))%i],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&ste(t,r)}function X2(){return typeof window<"u"&&typeof document<"u"}function J2(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function j0(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const mv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function ite(t,e){return mv(t).getPropertyValue(e)}const lte=["top","right","bottom","left"];function Ii(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const s=lte[a];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const cte=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function ute(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:s}=n;let i=!1,l,c;if(cte(a,s,t.target))l=a,c=s;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,i=!0}return{x:l,y:c,box:i}}function li(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=mv(r),s=a.boxSizing==="border-box",i=Ii(a,"padding"),l=Ii(a,"border","width"),{x:c,y:u,box:d}=ute(t,r),f=i.left+(d&&l.left),m=i.top+(d&&l.top);let{width:h,height:p}=e;return s&&(h-=i.width+l.width,p-=i.height+l.height),{x:Math.round((c-f)/h*r.width/n),y:Math.round((u-m)/p*r.height/n)}}function dte(t,e,r){let n,a;if(e===void 0||r===void 0){const s=t&&J2(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const i=s.getBoundingClientRect(),l=mv(s),c=Ii(l,"border","width"),u=Ii(l,"padding");e=i.width-u.width-c.width,r=i.height-u.height-c.height,n=j0(l.maxWidth,s,"clientWidth"),a=j0(l.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||x0,maxHeight:a||x0}}const Oh=t=>Math.round(t*10)/10;function fte(t,e,r,n){const a=mv(t),s=Ii(a,"margin"),i=j0(a.maxWidth,t,"clientWidth")||x0,l=j0(a.maxHeight,t,"clientHeight")||x0,c=dte(t,e,r);let{width:u,height:d}=c;if(a.boxSizing==="content-box"){const m=Ii(a,"border","width"),h=Ii(a,"padding");u-=h.width+m.width,d-=h.height+m.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=Oh(Math.min(u,i,c.maxWidth)),d=Oh(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Oh(u/2)),(e!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=Oh(Math.floor(d*n))),{width:u,height:d}}function tD(t,e,r){const n=e||1,a=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||i.height!==a||i.width!==s?(t.currentDevicePixelRatio=n,i.height=a,i.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const mte=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};X2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function rD(t,e){const r=ite(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function ci(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function hte(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function pte(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},i=ci(t,a,r),l=ci(a,s,r),c=ci(s,e,r),u=ci(i,l,r),d=ci(l,c,r);return ci(u,d,r)}const gte=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},yte=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Zl(t,e,r){return t?gte(e,r):yte()}function nq(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function aq(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function sq(t){return t==="angle"?{between:Sf,compare:bee,normalize:dn}:{between:os,compare:(e,r)=>e-r,normalize:e=>e}}function nD({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function bte(t,e,r){const{property:n,start:a,end:s}=r,{between:i,normalize:l}=sq(n),c=e.length;let{start:u,end:d,loop:f}=t,m,h;if(f){for(u+=c,d+=c,m=0,h=c;m<h&&i(l(e[u%c][n]),a,s);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function oq(t,e,r){if(!r)return[t];const{property:n,start:a,end:s}=r,i=e.length,{compare:l,between:c,normalize:u}=sq(n),{start:d,end:f,loop:m,style:h}=bte(t,e,r),p=[];let g=!1,y=null,x,b,w;const S=()=>c(a,w,x)&&l(a,w)!==0,C=()=>l(s,x)===0||c(s,w,x),j=()=>g||S(),N=()=>!g||C();for(let T=d,k=d;T<=f;++T)b=e[T%i],!b.skip&&(x=u(b[n]),x!==w&&(g=c(x,a,s),y===null&&j()&&(y=l(x,a)===0?T:k),y!==null&&N()&&(p.push(nD({start:y,end:T,loop:m,count:i,style:h})),y=null),k=T,w=x));return y!==null&&p.push(nD({start:y,end:f,loop:m,count:i,style:h})),p}function iq(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const s=oq(n[a],t.points,e);s.length&&r.push(...s)}return r}function xte(t,e,r,n){let a=0,s=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(s+=a);s>a&&t[s%e].skip;)s--;return s%=e,{start:a,end:s}}function vte(t,e,r,n){const a=t.length,s=[];let i=e,l=t[e],c;for(c=e+1;c<=r;++c){const u=t[c%a];u.skip||u.stop?l.skip||(n=!1,s.push({start:e%a,end:(c-1)%a,loop:n}),e=i=u.stop?c:null):(i=c,l.skip&&(e=c)),l=u}return i!==null&&s.push({start:e%a,end:i%a,loop:n}),s}function jte(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const s=!!t._loop,{start:i,end:l}=xte(r,a,s,n);if(n===!0)return aD(t,[{start:i,end:l,loop:s}],r,e);const c=l<i?l+a:l,u=!!t._fullLoop&&i===0&&l===a-1;return aD(t,vte(r,i,c,u),r,e)}function aD(t,e,r,n){return!n||!n.setContext||!r?e:wte(t,e,r,n)}function wte(t,e,r,n){const a=t._chart.getContext(),s=sD(t.options),{_datasetIndex:i,options:{spanGaps:l}}=t,c=r.length,u=[];let d=s,f=e[0].start,m=f;function h(p,g,y,x){const b=l?-1:1;if(p!==g){for(p+=c;r[p%c].skip;)p-=b;for(;r[g%c].skip;)g+=b;p%c!==g%c&&(u.push({start:p%c,end:g%c,loop:y,style:x}),d=x,f=g%c)}}for(const p of e){f=l?f:p.start;let g=r[f%c],y;for(m=f+1;m<=p.end;m++){const x=r[m%c];y=sD(n.setContext(qo(a,{type:"segment",p0:g,p1:x,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:i}))),Cte(y,d)&&h(f,m-1,p.loop,d),g=x,d=y}f<m-1&&h(f,m-1,p.loop,d)}return u}function sD(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Cte(t,e){if(!e)return!1;const r=[],n=function(a,s){return W2(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Eh(t,e,r){return t.options.clip?t[r]:e[r]}function Nte(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Eh(r,e,"left"),right:Eh(r,e,"right"),top:Eh(n,e,"top"),bottom:Eh(n,e,"bottom")}:e}function lq(t,e){const r=e._clip;if(r.disabled)return!1;const n=Nte(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Ste{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const s=r.listeners[a],i=r.duration;s.forEach(l=>l({chart:e,initial:r.initial,numSteps:i,currentStep:Math.min(n-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=z3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let i=s.length-1,l=!1,c;for(;i>=0;--i)c=s[i],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(s[i]=s[s.length-1],s.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ka=new Ste;const oD="transparent",Ate={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=XP(t||oD),a=n.valid&&XP(e||oD);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Tte{constructor(e,r,n,a){const s=r[n];a=sd([e.to,a,s,e.from]);const i=sd([e.from,s,a]);this._active=!0,this._fn=e.fn||Ate[e.type||typeof i],this._easing=kd[e.easing]||kd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=i,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=sd([e.to,r,a,e.from]),this._from=sd([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,s=this._from,i=this._loop,l=this._to;let c;if(this._active=s!==l&&(i||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=s;return}c=r/n%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class cq{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!He(e))return;const r=Object.keys(Pt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!He(s))return;const i={};for(const l of r)i[l]=s[l];(Ot(s.properties)&&s.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,i)})})}_animateOptions(e,r){const n=r.options,a=Ite(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&kte(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),i=Object.keys(r),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const u=i[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,d,l);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}s[u]=f=new Tte(m,e,u,d),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Ka.add(this._chart,n),!0}}function kte(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const s=t[n[a]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function Ite(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function iD(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:a,end:n?a:s}}function Ote(t,e,r){if(r===!1)return!1;const n=iD(t,r),a=iD(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Ete(t){let e,r,n,a;return He(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function uq(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,s;for(a=0,s=n.length;a<s;++a)r.push(n[a].index);return r}function lD(t,e,r,n={}){const a=t.keys,s=n.mode==="single";let i,l,c,u;if(e===null)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(c=+a[i],c===r){if(d=!0,n.all)continue;break}u=t.values[c],Ut(u)&&(s||e===0||Ea(e)===Ea(u))&&(e+=u)}return!d&&!n.all?0:e}function Pte(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",i=Object.keys(t),l=new Array(i.length);let c,u,d;for(c=0,u=i.length;c<u;++c)d=i[c],l[c]={[a]:d,[s]:t[d]};return l}function O1(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function Dte(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function _te(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function $te(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function cD(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const s=t[a.index];if(r&&s>0||!r&&s<0)return a.index}return null}function uD(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:s,vScale:i,index:l}=n,c=s.axis,u=i.axis,d=Dte(s,i,n),f=e.length;let m;for(let h=0;h<f;++h){const p=e[h],{[c]:g,[u]:y}=p,x=p._stacks||(p._stacks={});m=x[u]=$te(a,d,g),m[l]=y,m._top=cD(m,i,!0,n.type),m._bottom=cD(m,i,!1,n.type);const b=m._visualValues||(m._visualValues={});b[l]=y}}function E1(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Rte(t,e){return qo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Mte(t,e,r){return qo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Ou(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const s=a._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const P1=t=>t==="reset"||t==="none",dD=(t,e)=>e?t:Object.assign({},t),Lte=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:uq(r,!0),values:null};class da{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=O1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ou(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,m,h,p)=>f==="x"?m:f==="r"?p:h,s=r.xAxisID=Fe(n.xAxisID,E1(e,"x")),i=r.yAxisID=Fe(n.yAxisID,E1(e,"y")),l=r.rAxisID=Fe(n.rAxisID,E1(e,"r")),c=r.indexAxis,u=r.iAxisID=a(c,s,i,l),d=r.vAxisID=a(c,i,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&GP(this._data,this),e._stacked&&Ou(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(He(r)){const a=this._cachedMeta;this._data=Pte(r,a)}else if(n!==r){if(n){GP(n,this);const a=this._cachedMeta;Ou(a),a._parsed=[]}r&&Object.isExtensible(r)&&wee(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=r._stacked;r._stacked=O1(r.vScale,r),r.stack!==n.stack&&(a=!0,Ou(r),r.stack=n.stack),this._resyncElements(e),(a||s!==r._stacked)&&(uD(this,r._parsed),r._stacked=O1(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:i}=n,l=s.axis;let c=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{Ot(a[e])?m=this.parseArrayData(n,a,e,r):He(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const h=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+e]=f=m[d],c&&(h()&&(c=!1),u=f);n._sorted=c}i&&uD(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:s,vScale:i}=e,l=s.axis,c=i.axis,u=s.getLabels(),d=s===i,f=new Array(a);let m,h,p;for(m=0,h=a;m<h;++m)p=m+n,f[m]={[l]:d||s.parse(u[p],p),[c]:i.parse(r[p],p)};return f}parseArrayData(e,r,n,a){const{xScale:s,yScale:i}=e,l=new Array(a);let c,u,d,f;for(c=0,u=a;c<u;++c)d=c+n,f=r[d],l[c]={x:s.parse(f[0],d),y:i.parse(f[1],d)};return l}parseObjectData(e,r,n,a){const{xScale:s,yScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let d,f,m,h;for(d=0,f=a;d<f;++d)m=d+n,h=r[m],u[d]={x:s.parse(Oo(h,l),m),y:i.parse(Oo(h,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,s=this._cachedMeta,i=r[e.axis],l={keys:uq(a,!0),values:r._stacks[e.axis]._visualValues};return lD(l,i,s.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const s=n[r.axis];let i=s===null?NaN:s;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,i=lD(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,i=a.length,l=this._getOtherScale(e),c=Lte(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=_te(l);let m,h;function p(){h=a[m];const g=h[l.axis];return!Ut(h[e.axis])||d>g||f<g}for(m=0;m<i&&!(!p()&&(this.updateRangeFromParsed(u,e,h,c),s));++m);if(s){for(m=i-1;m>=0;--m)if(!p()){this.updateRangeFromParsed(u,e,h,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,s,i;for(a=0,s=r.length;a<s;++a)i=r[a][e.axis],Ut(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=Ete(Fe(this.options.clip,Ote(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],s=r.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const f=a[d];f.hidden||(f.active&&u?i.push(f):f.draw(e,s))}for(d=0;d<i.length;++d)i[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];s=i.$context||(i.$context=Mte(this.getContext(),e,i)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Rte(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",s=this._cachedDataOpts,i=e+"-"+r,l=s[i],c=this.enableOptionSharing&&Nf(n);if(l)return dD(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),h=Object.keys(Pt.elements[e]),p=()=>this.getContext(n,a,r),g=u.resolveNamedOptions(m,h,p,f);return g.$shared&&(g.$shared=c,s[i]=Object.freeze(dD(g,c))),g}_resolveAnimations(e,r,n){const a=this.chart,s=this._cachedDataOpts,i=`animation-${r}`,l=s[i];if(l)return l;let c;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(m,this.getContext(e,n,r))}const u=new cq(a,c&&c.animations);return c&&c._cacheable&&(s[i]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||P1(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(r,s)||s!==a;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:i}}updateElement(e,r,n,a){P1(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!P1(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const s=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=n.length,s=r.length,i=Math.min(s,a);i&&this.parse(0,i),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,r,n=!0){const a=this._cachedMeta,s=a.data,i=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=i;l--)u[l]=u[l-r]};for(c(s),l=e;l<i;++l)s[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&Ou(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}he(da,"defaults",{}),he(da,"datasetElementType",null),he(da,"dataElementType",null);function Fte(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,s=r.length;a<s;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=U3(n.sort((a,s)=>a-s))}return t._cache.$bar}function Bte(t){const e=t.iScale,r=Fte(e,t.type);let n=e._length,a,s,i,l;const c=()=>{i===32767||i===-32768||(Nf(l)&&(n=Math.min(n,Math.abs(i-l)||n)),l=i)};for(a=0,s=r.length;a<s;++a)i=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,s=e.ticks.length;a<s;++a)i=e.getPixelForTick(a),c();return n}function qte(t,e,r,n){const a=r.barThickness;let s,i;return ze(a)?(s=e.min*r.categoryPercentage,i=r.barPercentage):(s=a*n,i=1),{chunk:s/n,ratio:i,start:e.pixels[t]-s/2}}function Vte(t,e,r,n){const a=e.pixels,s=a[t];let i=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;i===null&&(i=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-i);const u=s-(s-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/n,ratio:r.barPercentage,start:u}}function Ute(t,e,r,n){const a=r.parse(t[0],n),s=r.parse(t[1],n),i=Math.min(a,s),l=Math.max(a,s);let c=i,u=l;Math.abs(i)>Math.abs(l)&&(c=l,u=i),e[r.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:s,min:i,max:l}}function dq(t,e,r,n){return Ot(t)?Ute(t,e,r,n):e[r.axis]=r.parse(t,n),e}function fD(t,e,r,n){const a=t.iScale,s=t.vScale,i=a.getLabels(),l=a===s,c=[];let u,d,f,m;for(u=r,d=r+n;u<d;++u)m=e[u],f={},f[a.axis]=l||a.parse(i[u],u),c.push(dq(m,f,s,u));return c}function D1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function zte(t,e,r){return t!==0?Ea(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function Wte(t){let e,r,n,a,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",s="start"):(a="start",s="end"),{start:r,end:n,reverse:e,top:a,bottom:s}}function Hte(t,e,r,n){let a=e.borderSkipped;const s={};if(!a){t.borderSkipped=s;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:u,bottom:d}=Wte(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=u:(r._bottom||0)===n?a=d:(s[mD(d,i,l,c)]=!0,a=u)),s[mD(a,i,l,c)]=!0,t.borderSkipped=s}function mD(t,e,r,n){return n?(t=Gte(t,e,r),t=hD(t,r,e)):t=hD(t,e,r),t}function Gte(t,e,r){return t===e?r:t===r?e:t}function hD(t,e,r){return t==="start"?e:t==="end"?r:t}function Yte(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class kp extends da{parsePrimitiveData(e,r,n,a){return fD(e,r,n,a)}parseArrayData(e,r,n,a){return fD(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:s,vScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=i.axis==="x"?l:c,f=[];let m,h,p,g;for(m=n,h=n+a;m<h;++m)g=r[m],p={},p[s.axis]=s.parse(Oo(g,u),m),f.push(dq(Oo(g,d),p,i,m));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,s=this.getParsed(e),i=s._custom,l=D1(i)?"["+i.start+", "+i.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const s=a==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(r,a);for(let h=r;h<r+n;h++){const p=this.getParsed(h),g=s||ze(p[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(h),y=this._calculateBarIndexPixels(h,d),x=(p._stacks||{})[l.axis],b={horizontal:u,base:g.base,enableBorderRadius:!x||D1(p._custom)||i===x._top||i===x._bottom,x:u?g.head:y.center,y:u?y.center:g.head,height:u?y.size:Math.abs(g.size),width:u?Math.abs(g.size):y.size};m&&(b.options=f||this.resolveDataElementOptions(h,e[h].active?"active":a));const w=b.options||e[h].options;Hte(b,w,x,i),Yte(b,w,d.ratio),this.updateElement(e[h],h,b,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=n.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(h=>h[n.axis]===c),m=f&&f[d.vScale.axis];if(ze(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&u(d))&&((s===!1||i.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&i.push(d.stack),d.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const a=this._getStacks(e,n),s=r!==void 0?a.indexOf(r):-1;return s===-1?a.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let s,i;for(s=0,i=r.data.length;s<i;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const l=e.barThickness;return{min:l||Bte(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:s,minBarLength:i}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=D1(u);let f=c[r.axis],m=0,h=n?this.applyStack(r,c,n):f,p,g;h!==f&&(m=h-f,h=f),d&&(f=u.barStart,h=u.barEnd-u.barStart,f!==0&&Ea(f)!==Ea(u.barEnd)&&(m=0),m+=f);const y=!ze(s)&&!d?s:m;let x=r.getPixelForValue(y);if(this.chart.getDataVisibility(e)?p=r.getPixelForValue(m+h):p=x,g=p-x,Math.abs(g)<i){g=zte(g,r,l)*i,f===l&&(x-=g/2);const b=r.getPixelForDecimal(0),w=r.getPixelForDecimal(1),S=Math.min(b,w),C=Math.max(b,w);x=Math.max(Math.min(x,C),S),p=x+g,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(p)-r.getValueForPixel(x))}if(x===r.getPixelForValue(l)){const b=Ea(g)*r.getLineWidthForValue(l)/2;x+=b,g-=b}return{size:g,base:x,head:p,center:p+g/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,s=a.skipNull,i=Fe(a.maxBarThickness,1/0);let l,c;if(r.grouped){const u=s?this._getStackCount(e):r.stackCount,d=a.barThickness==="flex"?Vte(e,r,a,u):qte(e,r,a,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=d.start+d.chunk*f+d.chunk/2,c=Math.min(i,d.chunk*d.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(i,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}he(kp,"id","bar"),he(kp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),he(kp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ip extends da{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const s=super.parsePrimitiveData(e,r,n,a);for(let i=0;i<s.length;i++)s[i]._custom=this.resolveDataElementOptions(i+n).radius;return s}parseArrayData(e,r,n,a){const s=super.parseArrayData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Fe(l[2],this.resolveDataElementOptions(i+n).radius)}return s}parseObjectData(e,r,n,a){const s=super.parseObjectData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Fe(l&&l.r&&+l.r,this.resolveDataElementOptions(i+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y),u=i._custom;return{label:n[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,a),d=i.axis,f=l.axis;for(let m=r;m<r+n;m++){const h=e[m],p=!s&&this.getParsed(m),g={},y=g[d]=s?i.getPixelForDecimal(.5):i.getPixelForValue(p[d]),x=g[f]=s?l.getBasePixel():l.getPixelForValue(p[f]);g.skip=isNaN(y)||isNaN(x),u&&(g.options=c||this.resolveDataElementOptions(m,h.active?"active":a),s&&(g.options.radius=0)),this.updateElement(h,m,g,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Fe(n&&n._custom,s),a}}he(Ip,"id","bubble"),he(Ip,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),he(Ip,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Kte(t,e,r){let n=1,a=1,s=0,i=0;if(e<Tt){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),m=Math.sin(c),h=(w,S,C)=>Sf(w,l,c,!0)?1:Math.max(S,S*r,C,C*r),p=(w,S,C)=>Sf(w,l,c,!0)?-1:Math.min(S,S*r,C,C*r),g=h(0,u,f),y=h(Yt,d,m),x=p(kt,u,f),b=p(kt+Yt,d,m);n=(g-x)/2,a=(y-b)/2,s=-(g+x)/2,i=-(y+b)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:i}}class vi extends da{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let s=c=>+n[c];if(He(n[e])){const{key:c="value"}=this._parsing;s=u=>+Oo(n[u],c)}let i,l;for(i=e,l=e+r;i<l;++i)a._parsed[i]=s(i)}}_getRotation(){return oa(this.options.rotation-90)}_getCircumference(){return oa(this.options.circumference)}_getRotationExtents(){let e=Tt,r=-Tt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),i=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+i)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,s=a.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-i)/2,0),c=Math.min(iee(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:h,offsetX:p,offsetY:g}=Kte(f,d,c),y=(n.width-i)/m,x=(n.height-i)/h,b=Math.max(Math.min(y,x)/2,0),w=L3(this.options.radius,b),S=Math.max(w*c,0),C=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=g*w,a.total=this.calculateTotal(),this.outerRadius=w-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/Tt)}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,l=i.chartArea,u=i.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=s&&u.animateScale,h=m?0:this.innerRadius,p=m?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(r,a);let x=this._getRotation(),b;for(b=0;b<r;++b)x+=this._circumference(b,s);for(b=r;b<r+n;++b){const w=this._circumference(b,s),S=e[b],C={x:d+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:p,innerRadius:h};y&&(C.options=g||this.resolveDataElementOptions(b,S.active?"active":a)),x+=w,this.updateElement(S,b,C,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const s=e._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Tt*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Dm(r._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,s,i,l,c;if(!e){for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){i=n.getDatasetMeta(a),e=i.data,l=i.controller;break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Fe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}he(vi,"id","doughnut"),he(vi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),he(vi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),he(vi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Op extends da{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=r,i=this.chart._animationsDisabled;let{start:l,count:c}=H3(r,a,i);this._drawStart=l,this._drawCount=c,G3(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a),m=i.axis,h=l.axis,{spanGaps:p,segment:g}=this.options,y=Nc(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||a==="none",b=r+n,w=e.length;let S=r>0&&this.getParsed(r-1);for(let C=0;C<w;++C){const j=e[C],N=x?j:{};if(C<r||C>=b){N.skip=!0;continue}const T=this.getParsed(C),k=ze(T[h]),E=N[m]=i.getPixelForValue(T[m],C),O=N[h]=s||k?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[h],C);N.skip=isNaN(E)||isNaN(O)||k,N.stop=C>0&&Math.abs(T[m]-S[m])>y,g&&(N.parsed=T,N.raw=u.data[C]),f&&(N.options=d||this.resolveDataElementOptions(C,j.active?"active":a)),x||this.updateElement(j,C,N,a),S=T}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),i=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}he(Op,"id","line"),he(Op,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),he(Op,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Od extends da{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Dm(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,r,n,a){return tq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(a/2,0),i=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-i)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,c=i.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,m=u.getIndexAngle(0)-.5*kt;let h=m,p;const g=360/this.countVisibleElements();for(p=0;p<r;++p)h+=this._computeAngle(p,a,g);for(p=r;p<r+n;p++){const y=e[p];let x=h,b=h+this._computeAngle(p,a,g),w=i.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;h=b,s&&(c.animateScale&&(w=0),c.animateRotate&&(x=b=m));const S={x:d,y:f,innerRadius:0,outerRadius:w,startAngle:x,endAngle:b,options:this.resolveDataElementOptions(p,y.active?"active":a)};this.updateElement(y,p,S,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?oa(this.resolveDataElementOptions(e,r).angle||n):0}}he(Od,"id","polarArea"),he(Od,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),he(Od,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class MS extends vi{}he(MS,"id","pie"),he(MS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ep extends da{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return tq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],s=r.iScale.getLabels();if(n.points=a,e!=="resize"){const i=this.resolveDatasetElementOptions(e);this.options.showLine||(i.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===a.length,options:i};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const s=this._cachedMeta.rScale,i=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":a),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=i?s.xCenter:d.x,m=i?s.yCenter:d.y,h={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:u};this.updateElement(c,l,h,a)}}}he(Ep,"id","radar"),he(Ep,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),he(Ep,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Pp extends da{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:s,count:i}=H3(r,n,a);if(this._drawStart=s,this._drawCount=i,G3(r)&&(s=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),h=i.axis,p=l.axis,{spanGaps:g,segment:y}=this.options,x=Nc(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||a==="none";let w=r>0&&this.getParsed(r-1);for(let S=r;S<r+n;++S){const C=e[S],j=this.getParsed(S),N=b?C:{},T=ze(j[p]),k=N[h]=i.getPixelForValue(j[h],S),E=N[p]=s||T?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,j,c):j[p],S);N.skip=isNaN(k)||isNaN(E)||T,N.stop=S>0&&Math.abs(j[h]-w[h])>x,y&&(N.parsed=j,N.raw=u.data[S]),m&&(N.options=f||this.resolveDataElementOptions(S,C.active?"active":a)),b||this.updateElement(C,S,N,a),w=j}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,s,i)/2}}he(Pp,"id","scatter"),he(Pp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),he(Pp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Xte=Object.freeze({__proto__:null,BarController:kp,BubbleController:Ip,DoughnutController:vi,LineController:Op,PieController:MS,PolarAreaController:Od,RadarController:Ep,ScatterController:Pp});function Zo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Q2{constructor(e){he(this,"options");this.options=e||{}}static override(e){Object.assign(Q2.prototype,e)}init(){}formats(){return Zo()}parse(){return Zo()}format(){return Zo()}add(){return Zo()}diff(){return Zo()}startOf(){return Zo()}endOf(){return Zo()}}var Jte={_date:Q2};function Qte(t,e,r,n){const{controller:a,data:s,_sorted:i}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&i&&s.length){const u=l._reversePixels?vee:is;if(n){if(a._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(s,e,r-f),h=u(s,e,r+f);return{lo:m.lo,hi:h.hi}}}}else{const d=u(s,e,r);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=t,h=m.slice(0,d.lo+1).reverse().findIndex(g=>!ze(g[f.axis]));d.lo-=Math.max(0,h);const p=m.slice(d.hi).findIndex(g=>!ze(g[f.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:s.length-1}}function hv(t,e,r,n,a){const s=t.getSortedVisibleDatasetMetas(),i=r[e];for(let l=0,c=s.length;l<c;++l){const{index:u,data:d}=s[l],{lo:f,hi:m}=Qte(s[l],e,i,a);for(let h=f;h<=m;++h){const p=d[h];p.skip||n(p,u,h)}}}function Zte(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const s=e?Math.abs(n.x-a.x):0,i=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}function _1(t,e,r,n,a){const s=[];return!a&&!t.isPointInArea(e)||hv(t,r,e,function(l,c,u){!a&&!ls(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&s.push({element:l,datasetIndex:c,index:u})},!0),s}function ere(t,e,r,n){let a=[];function s(i,l,c){const{startAngle:u,endAngle:d}=i.getProps(["startAngle","endAngle"],n),{angle:f}=q3(i,{x:e.x,y:e.y});Sf(f,u,d)&&a.push({element:i,datasetIndex:l,index:c})}return hv(t,r,e,s),a}function tre(t,e,r,n,a,s){let i=[];const l=Zte(r);let c=Number.POSITIVE_INFINITY;function u(d,f,m){const h=d.inRange(e.x,e.y,a);if(n&&!h)return;const p=d.getCenterPoint(a);if(!(!!s||t.isPointInArea(p))&&!h)return;const y=l(e,p);y<c?(i=[{element:d,datasetIndex:f,index:m}],c=y):y===c&&i.push({element:d,datasetIndex:f,index:m})}return hv(t,r,e,u),i}function $1(t,e,r,n,a,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?ere(t,e,r,a):tre(t,e,r,n,a,s)}function pD(t,e,r,n,a){const s=[],i=r==="x"?"inXRange":"inYRange";let l=!1;return hv(t,r,e,(c,u,d)=>{c[i]&&c[i](e[r],a)&&(s.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:s}var rre={modes:{index(t,e,r,n){const a=li(e,t),s=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?_1(t,a,s,n,i):$1(t,a,s,!1,n,i),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,r,n){const a=li(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?_1(t,a,s,n,i):$1(t,a,s,!1,n,i);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,r,n){const a=li(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return _1(t,a,s,n,i)},nearest(t,e,r,n){const a=li(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return $1(t,a,s,r.intersect,n,i)},x(t,e,r,n){const a=li(e,t);return pD(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=li(e,t);return pD(t,a,"y",r.intersect,n)}}};const fq=["left","top","right","bottom"];function Eu(t,e){return t.filter(r=>r.pos===e)}function gD(t,e){return t.filter(r=>fq.indexOf(r.pos)===-1&&r.box.axis===e)}function Pu(t,e){return t.sort((r,n)=>{const a=e?n:r,s=e?r:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function nre(t){const e=[];let r,n,a,s,i,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:s,options:{stack:i,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:l});return e}function are(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:s}=r;if(!n||!fq.includes(a))continue;const i=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return e}function sre(t,e){const r=are(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let s,i,l;for(s=0,i=t.length;s<i;++s){l=t[s];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:c&&e.availableHeight)}return r}function ore(t){const e=nre(t),r=Pu(e.filter(u=>u.box.fullSize),!0),n=Pu(Eu(e,"left"),!0),a=Pu(Eu(e,"right")),s=Pu(Eu(e,"top"),!0),i=Pu(Eu(e,"bottom")),l=gD(e,"x"),c=gD(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:a.concat(c).concat(i).concat(l),chartArea:Eu(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:s.concat(i).concat(l)}}function yD(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function mq(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ire(t,e,r,n){const{pos:a,box:s}=r,i=t.maxPadding;if(!He(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[a]+=r.size}s.getPadding&&mq(i,s.getPadding());const l=Math.max(0,e.outerWidth-yD(i,t,"left","right")),c=Math.max(0,e.outerHeight-yD(i,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function lre(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function cre(t,e){const r=e.maxPadding;function n(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(i=>{s[i]=Math.max(e[i],r[i])}),s}return n(t?["left","right"]:["top","bottom"])}function od(t,e,r,n){const a=[];let s,i,l,c,u,d;for(s=0,i=t.length,u=0;s<i;++s){l=t[s],c=l.box,c.update(l.width||e.w,l.height||e.h,cre(l.horizontal,e));const{same:f,other:m}=ire(e,r,l,n);u|=f&&a.length,d=d||m,c.fullSize||a.push(l)}return u&&od(a,e,r,n)||d}function Ph(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function bD(t,e,r,n){const a=r.padding;let{x:s,y:i}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,m=u.size||c.height;Nf(u.start)&&(i=u.start),c.fullSize?Ph(c,a.left,i,r.outerWidth-a.right-a.left,m):Ph(c,e.left+u.placed,i,f,m),u.start=i,u.placed+=f,i=c.bottom}else{const f=e.h*d,m=u.size||c.width;Nf(u.start)&&(s=u.start),c.fullSize?Ph(c,s,a.top,m,r.outerHeight-a.bottom-a.top):Ph(c,s,e.top+u.placed,m,f),u.start=s,u.placed+=f,s=c.right}}e.x=s,e.y=i}var Pr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=_r(t.options.layout.padding),s=Math.max(e-a.width,0),i=Math.max(r-a.height,0),l=ore(t.boxes),c=l.vertical,u=l.horizontal;st(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=c.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),m=Object.assign({},a);mq(m,_r(n));const h=Object.assign({maxPadding:m,w:s,h:i,x:a.left,y:a.top},a),p=sre(c.concat(u),f);od(l.fullSize,h,f,p),od(c,h,f,p),od(u,h,f,p)&&od(c,h,f,p),lre(h),bD(l.leftAndTop,h,f,p),h.x+=h.w,h.y+=h.h,bD(l.rightAndBottom,h,f,p),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},st(l.chartArea,g=>{const y=g.box;Object.assign(y,t.chartArea),y.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class hq{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class ure extends hq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Dp="$chartjs",dre={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xD=t=>t===null||t==="";function fre(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Dp]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",xD(a)){const s=rD(t,"width");s!==void 0&&(t.width=s)}if(xD(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=rD(t,"height");s!==void 0&&(t.height=s)}return t}const pq=mte?{passive:!0}:!1;function mre(t,e,r){t&&t.addEventListener(e,r,pq)}function hre(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,pq)}function pre(t,e){const r=dre[t.type]||t.type,{x:n,y:a}=li(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function w0(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function gre(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||w0(l.addedNodes,n),i=i&&!w0(l.removedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function yre(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||w0(l.removedNodes,n),i=i&&!w0(l.addedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Tf=new Map;let vD=0;function gq(){const t=window.devicePixelRatio;t!==vD&&(vD=t,Tf.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function bre(t,e){Tf.size||window.addEventListener("resize",gq),Tf.set(t,e)}function xre(t){Tf.delete(t),Tf.size||window.removeEventListener("resize",gq)}function vre(t,e,r){const n=t.canvas,a=n&&J2(n);if(!a)return;const s=W3((l,c)=>{const u=a.clientWidth;r(l,c),u<a.clientWidth&&r()},window),i=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||s(u,d)});return i.observe(a),bre(t,s),i}function R1(t,e,r){r&&r.disconnect(),e==="resize"&&xre(t)}function jre(t,e,r){const n=t.canvas,a=W3(s=>{t.ctx!==null&&r(pre(s,t))},t);return mre(n,e,a),a}class wre extends hq{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(fre(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Dp])return!1;const n=r[Dp].initial;["height","width"].forEach(s=>{const i=n[s];ze(i)?r.removeAttribute(s):r.setAttribute(s,i)});const a=n.style||{};return Object.keys(a).forEach(s=>{r.style[s]=a[s]}),r.width=r.width,delete r[Dp],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),i={attach:gre,detach:yre,resize:vre}[r]||jre;a[r]=i(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:R1,detach:R1,resize:R1}[r]||hre)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return fte(e,r,n,a)}isAttached(e){const r=e&&J2(e);return!!(r&&r.isConnected)}}function Cre(t){return!X2()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?ure:wre}var dp;let $s=(dp=class{constructor(){he(this,"x");he(this,"y");he(this,"active",!1);he(this,"options");he(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Nc(this.x)&&Nc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(s=>{a[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),a}},he(dp,"defaults",{}),he(dp,"defaultRoutes"),dp);function Nre(t,e){const r=t.options.ticks,n=Sre(t),a=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?Tre(e):[],i=s.length,l=s[0],c=s[i-1],u=[];if(i>a)return kre(e,u,s,i/a),u;const d=Are(s,e,a);if(i>0){let f,m;const h=i>1?Math.round((c-l)/(i-1)):null;for(Dh(e,u,d,ze(h)?0:l-h,l),f=0,m=i-1;f<m;f++)Dh(e,u,d,s[f],s[f+1]);return Dh(e,u,d,c,ze(h)?e.length:c+h),u}return Dh(e,u,d),u}function Sre(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function Are(t,e,r){const n=Ire(t),a=e.length/r;if(!n)return Math.max(a,1);const s=pee(n);for(let i=0,l=s.length-1;i<l;i++){const c=s[i];if(c>a)return c}return Math.max(a,1)}function Tre(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function kre(t,e,r,n){let a=0,s=r[0],i;for(n=Math.ceil(n),i=0;i<t.length;i++)i===s&&(e.push(t[i]),a++,s=r[a*n])}function Dh(t,e,r,n,a){const s=Fe(n,0),i=Math.min(Fe(a,t.length),t.length);let l=0,c,u,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=s;d<0;)l++,d=Math.round(s+l*r);for(u=Math.max(s,0);u<i;u++)u===d&&(e.push(t[u]),l++,d=Math.round(s+l*r))}function Ire(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const Ore=t=>t==="left"?"right":t==="right"?"left":t,jD=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,wD=(t,e)=>Math.min(e||t,t);function CD(t,e){const r=[],n=t.length/e,a=t.length;let s=0;for(;s<a;s+=n)r.push(t[Math.floor(s)]);return r}function Ere(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),s=t._startPixel,i=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(c-s,i-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<s-l||c>i+l)))return c}function Pre(t,e){st(t,r=>{const n=r.gc,a=n.length/2;let s;if(a>e){for(s=0;s<a;++s)delete r.data[n[s]];n.splice(0,a)}})}function Du(t){return t.drawTicks?t.tickLength:0}function ND(t,e){if(!t.display)return 0;const r=nr(t.font,e),n=_r(t.padding);return(Ot(t.text)?t.text.length:1)*r.lineHeight+n.height}function Dre(t,e){return qo(t,{scale:e,type:"scale"})}function _re(t,e,r){return qo(t,{tick:r,index:e,type:"tick"})}function $re(t,e,r){let n=z2(t);return(r&&e!=="right"||!r&&e==="right")&&(n=Ore(n)),n}function Rre(t,e,r,n){const{top:a,left:s,bottom:i,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,m,h,p;const g=i-a,y=l-s;if(t.isHorizontal()){if(h=Ir(n,s,l),He(r)){const x=Object.keys(r)[0],b=r[x];p=d[x].getPixelForValue(b)+g-e}else r==="center"?p=(u.bottom+u.top)/2+g-e:p=jD(t,r,e);m=l-s}else{if(He(r)){const x=Object.keys(r)[0],b=r[x];h=d[x].getPixelForValue(b)-y+e}else r==="center"?h=(u.left+u.right)/2-y+e:h=jD(t,r,e);p=Ir(n,i,a),f=r==="left"?-Yt:Yt}return{titleX:h,titleY:p,maxWidth:m,rotation:f}}class il extends $s{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=ln(e,Number.POSITIVE_INFINITY),r=ln(r,Number.NEGATIVE_INFINITY),n=ln(n,Number.POSITIVE_INFINITY),a=ln(a,Number.NEGATIVE_INFINITY),{min:ln(e,n),max:ln(r,a),minDefined:Ut(e),maxDefined:Ut(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds(),i;if(a&&s)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)i=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,i.min)),s||(n=Math.max(n,i.max));return r=s&&r>n?n:r,n=a&&r>n?r:n,{min:ln(r,ln(n,r)),max:ln(n,ln(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:s,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zee(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?CD(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=Nre(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yt(this.options.afterUpdate,[this])}beforeSetDimensions(){yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=yt(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=wD(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,s=r.maxRotation;let i=a,l,c,u;if(!this._isVisible()||!r.display||a>=s||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,h=dr(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:h/(n-1),f+6>l&&(l=h/(n-(e.offset?.5:1)),c=this.maxHeight-Du(e.grid)-r.padding-ND(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),i=V2(Math.min(Math.asin(dr((d.highest.height+6)/l,-1,1)),Math.asin(dr(c/u,-1,1))-Math.asin(dr(m/u,-1,1)))),i=Math.max(a,Math.min(s,i))),this.labelRotation=i}afterCalculateLabelRotation(){yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:s}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=ND(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Du(s)+c):(e.height=this.maxHeight,e.width=Du(s)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),h=n.padding*2,p=oa(this.labelRotation),g=Math.cos(p),y=Math.sin(p);if(l){const x=n.mirror?0:y*f.width+g*m.height;e.height=Math.min(this.maxHeight,e.height+x+h)}else{const x=n.mirror?0:g*f.width+y*m.height;e.width=Math.min(this.maxWidth,e.width+x+h)}this._calculatePadding(u,d,y,g)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:s,padding:i},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,h=0;c?u?(m=a*e.width,h=n*r.height):(m=n*e.height,h=a*r.width):s==="start"?h=r.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,h=r.width/2),this.paddingLeft=Math.max((m-d+i)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-f+i)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)ze(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=CD(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:s}=this,i=[],l=[],c=Math.floor(r/wD(r,n));let u=0,d=0,f,m,h,p,g,y,x,b,w,S,C;for(f=0;f<r;f+=c){if(p=e[f].label,g=this._resolveTickFontOptions(f),a.font=y=g.string,x=s[y]=s[y]||{data:{},gc:[]},b=g.lineHeight,w=S=0,!ze(p)&&!Ot(p))w=v0(a,x.data,x.gc,w,p),S=b;else if(Ot(p))for(m=0,h=p.length;m<h;++m)C=p[m],!ze(C)&&!Ot(C)&&(w=v0(a,x.data,x.gc,w,C),S+=b);i.push(w),l.push(S),u=Math.max(w,u),d=Math.max(S,d)}Pre(s,r);const j=i.indexOf(u),N=l.indexOf(d),T=k=>({width:i[k]||0,height:l[k]||0});return{first:T(0),last:T(r-1),widest:T(j),highest:T(N),widths:i,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return xee(this._alignToPixels?Qo(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=_re(this.getContext(),e,n))}return this.$context||(this.$context=Dre(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=oa(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,l=s?s.widest.width+i:0,c=s?s.highest.height+i:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:s,position:i,border:l}=a,c=s.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=Du(s),h=[],p=l.setContext(this.getContext()),g=p.display?p.width:0,y=g/2,x=function(B){return Qo(n,B,g)};let b,w,S,C,j,N,T,k,E,O,P,L;if(i==="top")b=x(this.bottom),N=this.bottom-m,k=b-y,O=x(e.top)+y,L=e.bottom;else if(i==="bottom")b=x(this.top),O=e.top,L=x(e.bottom)-y,N=b+y,k=this.top+m;else if(i==="left")b=x(this.right),j=this.right-m,T=b-y,E=x(e.left)+y,P=e.right;else if(i==="right")b=x(this.left),E=e.left,P=x(e.right)-y,j=b+y,T=this.left+m;else if(r==="x"){if(i==="center")b=x((e.top+e.bottom)/2+.5);else if(He(i)){const B=Object.keys(i)[0],U=i[B];b=x(this.chart.scales[B].getPixelForValue(U))}O=e.top,L=e.bottom,N=b+y,k=N+m}else if(r==="y"){if(i==="center")b=x((e.left+e.right)/2);else if(He(i)){const B=Object.keys(i)[0],U=i[B];b=x(this.chart.scales[B].getPixelForValue(U))}j=b-y,T=j-m,E=e.left,P=e.right}const $=Fe(a.ticks.maxTicksLimit,f),D=Math.max(1,Math.ceil(f/$));for(w=0;w<f;w+=D){const B=this.getContext(w),U=s.setContext(B),_=l.setContext(B),R=U.lineWidth,F=U.color,G=_.dash||[],W=_.dashOffset,Z=U.tickWidth,fe=U.tickColor,Te=U.tickBorderDash||[],ne=U.tickBorderDashOffset;S=Ere(this,w,c),S!==void 0&&(C=Qo(n,S,R),u?j=T=E=P=C:N=k=O=L=C,h.push({tx1:j,ty1:N,tx2:T,ty2:k,x1:E,y1:O,x2:P,y2:L,width:R,color:F,borderDash:G,borderDashOffset:W,tickWidth:Z,tickColor:fe,tickBorderDash:Te,tickBorderDashOffset:ne}))}return this._ticksLength=f,this._borderValue=b,h}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:s}=n,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=s,m=Du(n.grid),h=m+d,p=f?-d:h,g=-oa(this.labelRotation),y=[];let x,b,w,S,C,j,N,T,k,E,O,P,L="middle";if(a==="top")j=this.bottom-p,N=this._getXAxisLabelAlignment();else if(a==="bottom")j=this.top+p,N=this._getXAxisLabelAlignment();else if(a==="left"){const D=this._getYAxisLabelAlignment(m);N=D.textAlign,C=D.x}else if(a==="right"){const D=this._getYAxisLabelAlignment(m);N=D.textAlign,C=D.x}else if(r==="x"){if(a==="center")j=(e.top+e.bottom)/2+h;else if(He(a)){const D=Object.keys(a)[0],B=a[D];j=this.chart.scales[D].getPixelForValue(B)+h}N=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")C=(e.left+e.right)/2-h;else if(He(a)){const D=Object.keys(a)[0],B=a[D];C=this.chart.scales[D].getPixelForValue(B)}N=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?L="top":c==="end"&&(L="bottom"));const $=this._getLabelSizes();for(x=0,b=l.length;x<b;++x){w=l[x],S=w.label;const D=s.setContext(this.getContext(x));T=this.getPixelForTick(x)+s.labelOffset,k=this._resolveTickFontOptions(x),E=k.lineHeight,O=Ot(S)?S.length:1;const B=O/2,U=D.color,_=D.textStrokeColor,R=D.textStrokeWidth;let F=N;i?(C=T,N==="inner"&&(x===b-1?F=this.options.reverse?"left":"right":x===0?F=this.options.reverse?"right":"left":F="center"),a==="top"?u==="near"||g!==0?P=-O*E+E/2:u==="center"?P=-$.highest.height/2-B*E+E:P=-$.highest.height+E/2:u==="near"||g!==0?P=E/2:u==="center"?P=$.highest.height/2-B*E:P=$.highest.height-O*E,f&&(P*=-1),g!==0&&!D.showLabelBackdrop&&(C+=E/2*Math.sin(g))):(j=T,P=(1-O)*E/2);let G;if(D.showLabelBackdrop){const W=_r(D.backdropPadding),Z=$.heights[x],fe=$.widths[x];let Te=P-W.top,ne=0-W.left;switch(L){case"middle":Te-=Z/2;break;case"bottom":Te-=Z;break}switch(N){case"center":ne-=fe/2;break;case"right":ne-=fe;break;case"inner":x===b-1?ne-=fe:x>0&&(ne-=fe/2);break}G={left:ne,top:Te,width:fe+W.width,height:Z+W.height,color:D.backdropColor}}y.push({label:S,font:k,textOffset:P,options:{rotation:g,color:U,strokeColor:_,strokeWidth:R,textAlign:F,textBaseline:L,translation:[C,j],backdrop:G}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-oa(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,i=this._getLabelSizes(),l=e+s,c=i.widest.width;let u,d;return r==="left"?a?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?a?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:s,height:i}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,s,i),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,i=a.length;s<i;++s){const c=a[s];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=Qo(e,this.left,i)-i/2,d=Qo(e,this.right,l)+l/2,f=m=c):(f=Qo(e,this.top,i)-i/2,m=Qo(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&dv(n,a);const s=this.getLabelItems(e);for(const i of s){const l=i.options,c=i.font,u=i.label,d=i.textOffset;Yi(n,u,0,d,c,l)}a&&fv(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const s=nr(n.font),i=_r(n.padding),l=n.align;let c=s.lineHeight/2;r==="bottom"||r==="center"||He(r)?(c+=i.bottom,Ot(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=i.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=Rre(this,c,r,l);Yi(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:$re(l,r,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Fe(e.grid&&e.grid.z,-1),a=Fe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==il.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,i;for(s=0,i=r.length;s<i;++s){const l=r[s];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return nr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class _h{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;Fre(r)&&(n=this.register(r));const a=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,Mre(e,i,n),this.override&&Pt.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in Pt[a]&&(delete Pt[a][n],this.override&&delete Gi[n])}}function Mre(t,e,r){const n=Cf(Object.create(null),[r?Pt.get(r):{},Pt.get(e),t.defaults]);Pt.set(e,n),t.defaultRoutes&&Lre(e,t.defaultRoutes),t.descriptors&&Pt.describe(e,t.descriptors)}function Lre(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),s=[t].concat(n).join("."),i=e[r].split("."),l=i.pop(),c=i.join(".");Pt.route(s,a,c,l)})}function Fre(t){return"id"in t&&"defaults"in t}class Bre{constructor(){this.controllers=new _h(da,"datasets",!0),this.elements=new _h($s,"elements"),this.plugins=new _h(Object,"plugins"),this.scales=new _h(il,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const s=n||this._getRegistryForType(a);n||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):st(a,i=>{const l=n||this._getRegistryForType(i);this._exec(e,l,i)})})}_exec(e,r,n){const a=q2(e);yt(n["before"+a],[],n),r[e](n),yt(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var wa=new Bre;class qre{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),i=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,r,n,a){a=a||{};for(const s of e){const i=s.plugin,l=i[n],c=[r,a,s.options];if(yt(l,c,i)===!1&&a.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Fe(n.options&&n.options.plugins,{}),s=Vre(n);return a===!1&&!r?[]:zre(e,s,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(s,i)=>s.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function Vre(t){const e={},r=[],n=Object.keys(wa.plugins.items);for(let s=0;s<n.length;s++)r.push(wa.getPlugin(n[s]));const a=t.plugins||[];for(let s=0;s<a.length;s++){const i=a[s];r.indexOf(i)===-1&&(r.push(i),e[i.id]=!0)}return{plugins:r,localIds:e}}function Ure(t,e){return!e&&t===!1?null:t===!0?{}:t}function zre(t,{plugins:e,localIds:r},n,a){const s=[],i=t.getContext();for(const l of e){const c=l.id,u=Ure(n[c],a);u!==null&&s.push({plugin:l,options:Wre(t.config,{plugin:l,local:r[c]},u,i)})}return s}function Wre(t,{plugin:e,local:r},n,a){const s=t.pluginScopeKeys(e),i=t.getOptionScopes(n,s);return r&&e.defaults&&i.push(e.defaults),t.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function LS(t,e){const r=Pt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function Hre(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function Gre(t,e){return t===e?"_index_":"_value_"}function SD(t){if(t==="x"||t==="y"||t==="r")return t}function Yre(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function FS(t,...e){if(SD(t))return t;for(const r of e){const n=r.axis||Yre(r.position)||t.length>1&&SD(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function AD(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function Kre(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return AD(t,"x",r[0])||AD(t,"y",r[0])}return{}}function Xre(t,e){const r=Gi[t.type]||{scales:{}},n=e.scales||{},a=LS(t.type,e),s=Object.create(null);return Object.keys(n).forEach(i=>{const l=n[i];if(!He(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=FS(i,l,Kre(i,t),Pt.scales[l.type]),u=Gre(c,a),d=r.scales||{};s[i]=Ad(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(i=>{const l=i.type||t.type,c=i.indexAxis||LS(l,e),d=(Gi[l]||{}).scales||{};Object.keys(d).forEach(f=>{const m=Hre(f,c),h=i[m+"AxisID"]||m;s[h]=s[h]||Object.create(null),Ad(s[h],[{axis:m},n[h],d[f]])})}),Object.keys(s).forEach(i=>{const l=s[i];Ad(l,[Pt.scales[l.type],Pt.scale])}),s}function yq(t){const e=t.options||(t.options={});e.plugins=Fe(e.plugins,{}),e.scales=Xre(t,e)}function bq(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Jre(t){return t=t||{},t.data=bq(t.data),yq(t),t}const TD=new Map,xq=new Set;function $h(t,e){let r=TD.get(t);return r||(r=e(),TD.set(t,r),xq.add(r)),r}const _u=(t,e,r)=>{const n=Oo(e,r);n!==void 0&&t.add(n)};class Qre{constructor(e){this._config=Jre(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=bq(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),yq(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return $h(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return $h(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return $h(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return $h(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:s}=this,i=this._cachedScopes(e,n),l=i.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(f=>_u(c,e,f))),d.forEach(f=>_u(c,a,f)),d.forEach(f=>_u(c,Gi[s]||{},f)),d.forEach(f=>_u(c,Pt,f)),d.forEach(f=>_u(c,$S,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),xq.has(r)&&i.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,Gi[r]||{},Pt.datasets[r]||{},{type:r},Pt,$S]}resolveNamedOptions(e,r,n,a=[""]){const s={$shared:!0},{resolver:i,subPrefixes:l}=kD(this._resolverCache,e,a);let c=i;if(ene(i,r)){s.$shared=!1,n=Eo(n)?n():n;const u=this.createResolver(e,n,l);c=Sc(i,n,u)}for(const u of r)s[u]=c[u];return s}createResolver(e,r,n=[""],a){const{resolver:s}=kD(this._resolverCache,e,n);return He(r)?Sc(s,r,void 0,a):s}}function kD(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let s=n.get(a);return s||(s={resolver:G2(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,s)),s}const Zre=t=>He(t)&&Object.getOwnPropertyNames(t).some(e=>Eo(t[e]));function ene(t,e){const{isScriptable:r,isIndexable:n}=J3(t);for(const a of e){const s=r(a),i=n(a),l=(i||s)&&t[a];if(s&&(Eo(l)||Zre(l))||i&&Ot(l))return!0}return!1}var tne="4.4.9";const rne=["top","bottom","left","right","chartArea"];function ID(t,e){return t==="top"||t==="bottom"||rne.indexOf(t)===-1&&e==="x"}function OD(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function ED(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),yt(r&&r.onComplete,[t],e)}function nne(t){const e=t.chart,r=e.options.animation;yt(r&&r.onProgress,[t],e)}function vq(t){return X2()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const _p={},PD=t=>{const e=vq(t);return Object.values(_p).filter(r=>r.canvas===e).pop()};function ane(t,e,r){const n=Object.keys(t);for(const a of n){const s=+a;if(s>=e){const i=t[a];delete t[a],(r>0||s>e)&&(t[s+r]=i)}}}function sne(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class Xs{static register(...e){wa.add(...e),DD()}static unregister(...e){wa.remove(...e),DD()}constructor(e,r){const n=this.config=new Qre(r),a=vq(e),s=PD(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Cre(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,i.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=oee(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qre,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Cee(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],_p[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ka.listen(this,"complete",ED),Ka.listen(this,"progress",nne),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:s}=this;return ze(e)?r&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return QP(this.canvas,this.ctx),this}stop(){return Ka.stop(this),this}resize(e,r){Ka.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(a,e,r,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,tD(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),yt(n.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};st(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((i,l)=>(i[l]=!1,i),{});let s=[];r&&(s=s.concat(Object.keys(r).map(i=>{const l=r[i],c=FS(i,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),st(s,i=>{const l=i.options,c=l.id,u=FS(c,l),d=Fe(l.type,i.dtype);(l.position===void 0||ID(l.position,u)!==ID(i.dposition))&&(l.position=i.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const m=wa.getScale(d);f=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),st(a,(i,l)=>{i||delete n[l]}),st(n,i=>{Pr.configure(this,i,i.options),Pr.addBox(this,i)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,s)=>a.index-s.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(OD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const s=r[n];let i=this.getDatasetMeta(n);const l=s.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=l,i.indexAxis=s.indexAxis||LS(l,this.options),i.order=s.order||0,i.index=n,i.label=""+s.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const c=wa.getController(l),{datasetElementType:u,dataElementType:d}=Pt.datasets[l];Object.assign(c,{dataElementType:wa.getElement(d),datasetElementType:u&&wa.getElement(u)}),i.controller=new c(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){st(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!a&&s.indexOf(f)===-1;f.buildOrUpdateElements(m),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),a||st(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(OD("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){st(this.scales,e=>{Pr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!UP(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of r){const i=n==="_removeElements"?-s:s;ane(e,a,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(i=>i[0]===s).map((i,l)=>l+","+i.splice(1).join(","))),a=n(0);for(let s=1;s<r;s++)if(!UP(a,n(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pr.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],st(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Eo(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ka.has(this)?this.attached&&!Ka.running(this)&&Ka.start(this):(this.draw(),ED({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,s;for(a=0,s=r.length;a<s;++a){const i=r[a];(!e||i.visible)&&n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=lq(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&dv(r,a),e.controller.draw(),a&&fv(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ls(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const s=rre.modes[r];return typeof s=="function"?s(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(s=>s&&s._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=qo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,a);Nf(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Ka.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),QP(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete _p[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,i)=>{r.addEventListener(this,s,i),e[s]=i},a=(s,i,l)=>{s.offsetX=i,s.offsetY=l,this._eventHandler(s)};st(this.options.events,s=>n(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)};let i;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():i()}unbindEvents(){st(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},st(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let s,i,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){i=e[l];const u=i&&this.getDatasetMeta(i.datasetIndex).controller;u&&u[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:i})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[i],index:i}});!y0(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),i=s(r,e),l=n?e:s(e,r);i.length&&this.updateHoverStyle(i,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:s}=this,i=r,l=this._getActiveElements(e,a,n,i),c=fee(e),u=sne(e,this._lastEvent,n,c);n&&(this._lastEvent=null,yt(s.onHover,[e,l,this],this),c&&yt(s.onClick,[e,l,this],this));const d=!y0(l,a);return(d||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}he(Xs,"defaults",Pt),he(Xs,"instances",_p),he(Xs,"overrides",Gi),he(Xs,"registry",wa),he(Xs,"version",tne),he(Xs,"getChart",PD);function DD(){return st(Xs.instances,t=>t._plugins.invalidate())}function one(t,e,r){const{startAngle:n,pixelMargin:a,x:s,y:i,outerRadius:l,innerRadius:c}=e;let u=a/l;t.beginPath(),t.arc(s,i,l,n-u,r+u),c>a?(u=a/c,t.arc(s,i,c,r+u,n-u,!0)):t.arc(s,i,a,r+Yt,n-Yt),t.closePath(),t.clip()}function ine(t){return H2(t,["outerStart","outerEnd","innerStart","innerEnd"])}function lne(t,e,r,n){const a=ine(t.options.borderRadius),s=(r-e)/2,i=Math.min(s,n*e/2),l=c=>{const u=(r-Math.min(s,c))*n/2;return dr(c,0,Math.min(s,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:dr(a.innerStart,0,i),innerEnd:dr(a.innerEnd,0,i)}}function wl(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function C0(t,e,r,n,a,s){const{x:i,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+n+r-u,0),m=d>0?d+n+r+u:0;let h=0;const p=a-c;if(n){const D=d>0?d-n:0,B=f>0?f-n:0,U=(D+B)/2,_=U!==0?p*U/(U+n):p;h=(p-_)/2}const g=Math.max(.001,p*f-r/kt)/f,y=(p-g)/2,x=c+y+h,b=a-y-h,{outerStart:w,outerEnd:S,innerStart:C,innerEnd:j}=lne(e,m,f,b-x),N=f-w,T=f-S,k=x+w/N,E=b-S/T,O=m+C,P=m+j,L=x+C/O,$=b-j/P;if(t.beginPath(),s){const D=(k+E)/2;if(t.arc(i,l,f,k,D),t.arc(i,l,f,D,E),S>0){const R=wl(T,E,i,l);t.arc(R.x,R.y,S,E,b+Yt)}const B=wl(P,b,i,l);if(t.lineTo(B.x,B.y),j>0){const R=wl(P,$,i,l);t.arc(R.x,R.y,j,b+Yt,$+Math.PI)}const U=(b-j/m+(x+C/m))/2;if(t.arc(i,l,m,b-j/m,U,!0),t.arc(i,l,m,U,x+C/m,!0),C>0){const R=wl(O,L,i,l);t.arc(R.x,R.y,C,L+Math.PI,x-Yt)}const _=wl(N,x,i,l);if(t.lineTo(_.x,_.y),w>0){const R=wl(N,k,i,l);t.arc(R.x,R.y,w,x-Yt,k)}}else{t.moveTo(i,l);const D=Math.cos(k)*f+i,B=Math.sin(k)*f+l;t.lineTo(D,B);const U=Math.cos(E)*f+i,_=Math.sin(E)*f+l;t.lineTo(U,_)}t.closePath()}function cne(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l}=e;let c=e.endAngle;if(s){C0(t,e,r,n,c,a);for(let u=0;u<s;++u)t.fill();isNaN(l)||(c=i+(l%Tt||Tt))}return C0(t,e,r,n,c,a),t.fill(),c}function une(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:m}=c,h=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,h?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let p=e.endAngle;if(s){C0(t,e,r,n,p,a);for(let g=0;g<s;++g)t.stroke();isNaN(l)||(p=i+(l%Tt||Tt))}h&&one(t,e,p),s||(C0(t,e,r,n,p,a),t.stroke())}class id extends $s{constructor(r){super();he(this,"circumference");he(this,"endAngle");he(this,"fullCircles");he(this,"innerRadius");he(this,"outerRadius");he(this,"pixelMargin");he(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.getProps(["x","y"],a),{angle:i,distance:l}=q3(s,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),h=(this.options.spacing+this.options.borderWidth)/2,p=Fe(m,u-c),g=Sf(i,c,u)&&c!==u,y=p>=Tt||g,x=os(l,d+h,f+h);return y&&x}getCenterPoint(r){const{x:n,y:a,startAngle:s,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(s+i)/2,m=(l+c+d+u)/2;return{x:n+Math.cos(f)*m,y:a+Math.sin(f)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Tt?Math.floor(a/Tt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(kt,a||0)),d=s*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,cne(r,this,d,i,l),une(r,this,d,i,l),r.restore()}}he(id,"id","arc"),he(id,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),he(id,"defaultRoutes",{backgroundColor:"backgroundColor"}),he(id,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function jq(t,e,r=e){t.lineCap=Fe(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Fe(r.borderDash,e.borderDash)),t.lineDashOffset=Fe(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Fe(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Fe(r.borderWidth,e.borderWidth),t.strokeStyle=Fe(r.borderColor,e.borderColor)}function dne(t,e,r){t.lineTo(r.x,r.y)}function fne(t){return t.stepped?$ee:t.tension||t.cubicInterpolationMode==="monotone"?Ree:dne}function wq(t,e,r={}){const n=t.length,{start:a=0,end:s=n-1}=r,{start:i,end:l}=e,c=Math.max(a,i),u=Math.min(s,l),d=a<i&&s<i||a>l&&s>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function mne(t,e,r,n){const{points:a,options:s}=e,{count:i,start:l,loop:c,ilen:u}=wq(a,r,n),d=fne(s);let{move:f=!0,reverse:m}=n||{},h,p,g;for(h=0;h<=u;++h)p=a[(l+(m?u-h:h))%i],!p.skip&&(f?(t.moveTo(p.x,p.y),f=!1):d(t,g,p,m,s.stepped),g=p);return c&&(p=a[(l+(m?u:0))%i],d(t,g,p,m,s.stepped)),!!c}function hne(t,e,r,n){const a=e.points,{count:s,start:i,ilen:l}=wq(a,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,m,h,p,g,y,x;const b=S=>(i+(u?l-S:S))%s,w=()=>{g!==y&&(t.lineTo(d,y),t.lineTo(d,g),t.lineTo(d,x))};for(c&&(h=a[b(0)],t.moveTo(h.x,h.y)),m=0;m<=l;++m){if(h=a[b(m)],h.skip)continue;const S=h.x,C=h.y,j=S|0;j===p?(C<g?g=C:C>y&&(y=C),d=(f*d+S)/++f):(w(),t.lineTo(S,C),p=j,f=0,g=y=C),x=C}w()}function BS(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?hne:mne}function pne(t){return t.stepped?hte:t.tension||t.cubicInterpolationMode==="monotone"?pte:ci}function gne(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),jq(t,e.options),t.stroke(a)}function yne(t,e,r,n){const{segments:a,options:s}=e,i=BS(e);for(const l of a)jq(t,s,l.style),t.beginPath(),i(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const bne=typeof Path2D=="function";function xne(t,e,r,n){bne&&!e.options.segment?gne(t,e,r,n):yne(t,e,r,n)}class lo extends $s{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;ote(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=jte(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],s=this.points,i=iq(this,{property:r,start:a,end:a});if(!i.length)return;const l=[],c=pne(n);let u,d;for(u=0,d=i.length;u<d;++u){const{start:f,end:m}=i[u],h=s[f],p=s[m];if(h===p){l.push(h);continue}const g=Math.abs((a-h[r])/(p[r]-h[r])),y=c(h,p,g,n.stepped);y[r]=e[r],l.push(y)}return l.length===1?l[0]:l}pathSegment(e,r,n){return BS(this)(e,this,r,n)}path(e,r,n){const a=this.segments,s=BS(this);let i=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)i&=s(e,this,l,{start:r,end:r+n-1});return!!i}draw(e,r,n,a){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),xne(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}he(lo,"id","line"),he(lo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),he(lo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),he(lo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function _D(t,e,r,n){const a=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<a.radius+a.hitRadius}class $p extends $s{constructor(r){super();he(this,"parsed");he(this,"skip");he(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.options,{x:i,y:l}=this.getProps(["x","y"],a);return Math.pow(r-i,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return _D(this,r,"x",n)}inYRange(r,n){return _D(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!ls(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,RS(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}he($p,"id","point"),he($p,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),he($p,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Cq(t,e){const{x:r,y:n,base:a,width:s,height:i}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=i/2,l=Math.min(r,a),c=Math.max(r,a),u=n-f,d=n+f):(f=s/2,l=r-f,c=r+f,u=Math.min(n,a),d=Math.max(n,a)),{left:l,top:u,right:c,bottom:d}}function co(t,e,r,n){return t?0:dr(e,r,n)}function vne(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,s=X3(n);return{t:co(a.top,s.top,0,r),r:co(a.right,s.right,0,e),b:co(a.bottom,s.bottom,0,r),l:co(a.left,s.left,0,e)}}function jne(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=ki(a),i=Math.min(e,r),l=t.borderSkipped,c=n||He(a);return{topLeft:co(!c||l.top||l.left,s.topLeft,0,i),topRight:co(!c||l.top||l.right,s.topRight,0,i),bottomLeft:co(!c||l.bottom||l.left,s.bottomLeft,0,i),bottomRight:co(!c||l.bottom||l.right,s.bottomRight,0,i)}}function wne(t){const e=Cq(t),r=e.right-e.left,n=e.bottom-e.top,a=vne(t,r/2,n/2),s=jne(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function M1(t,e,r,n){const a=e===null,s=r===null,l=t&&!(a&&s)&&Cq(t,n);return l&&(a||os(e,l.left,l.right))&&(s||os(r,l.top,l.bottom))}function Cne(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Nne(t,e){t.rect(e.x,e.y,e.w,e.h)}function L1(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,i=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+s,h:t.h+i,radius:t.radius}}class Rp extends $s{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:i}=wne(this),l=Cne(i.radius)?Af:Nne;e.save(),(i.w!==s.w||i.h!==s.h)&&(e.beginPath(),l(e,L1(i,r,s)),e.clip(),l(e,L1(s,-r,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,L1(s,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return M1(this,e,r,n)}inXRange(e,r){return M1(this,e,null,r)}inYRange(e,r){return M1(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+a)/2:r,y:s?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}he(Rp,"id","bar"),he(Rp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),he(Rp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Sne=Object.freeze({__proto__:null,ArcElement:id,BarElement:Rp,LineElement:lo,PointElement:$p});const qS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],$D=qS.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Nq(t){return qS[t%qS.length]}function Sq(t){return $D[t%$D.length]}function Ane(t,e){return t.borderColor=Nq(e),t.backgroundColor=Sq(e),++e}function Tne(t,e){return t.backgroundColor=t.data.map(()=>Nq(e++)),e}function kne(t,e){return t.backgroundColor=t.data.map(()=>Sq(e++)),e}function Ine(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof vi?e=Tne(r,e):a instanceof Od?e=kne(r,e):a&&(e=Ane(r,e))}}function RD(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function One(t){return t&&(t.borderColor||t.backgroundColor)}function Ene(){return Pt.borderColor!=="rgba(0,0,0,0.1)"||Pt.backgroundColor!=="rgba(0,0,0,0.1)"}var Pne={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:s}=a,i=RD(n)||One(a)||s&&RD(s)||Ene();if(!r.forceOverride&&i)return;const l=Ine(t);n.forEach(l)}};function Dne(t,e,r,n,a){const s=a.samples||n;if(s>=r)return t.slice(e,e+r);const i=[],l=(r-2)/(s-2);let c=0;const u=e+r-1;let d=e,f,m,h,p,g;for(i[c++]=t[d],f=0;f<s-2;f++){let y=0,x=0,b;const w=Math.floor((f+1)*l)+1+e,S=Math.min(Math.floor((f+2)*l)+1,r)+e,C=S-w;for(b=w;b<S;b++)y+=t[b].x,x+=t[b].y;y/=C,x/=C;const j=Math.floor(f*l)+1+e,N=Math.min(Math.floor((f+1)*l)+1,r)+e,{x:T,y:k}=t[d];for(h=p=-1,b=j;b<N;b++)p=.5*Math.abs((T-y)*(t[b].y-k)-(T-t[b].x)*(x-k)),p>h&&(h=p,m=t[b],g=b);i[c++]=m,d=g}return i[c++]=t[u],i}function _ne(t,e,r,n){let a=0,s=0,i,l,c,u,d,f,m,h,p,g;const y=[],x=e+r-1,b=t[e].x,S=t[x].x-b;for(i=e;i<e+r;++i){l=t[i],c=(l.x-b)/S*n,u=l.y;const C=c|0;if(C===d)u<p?(p=u,f=i):u>g&&(g=u,m=i),a=(s*a+l.x)/++s;else{const j=i-1;if(!ze(f)&&!ze(m)){const N=Math.min(f,m),T=Math.max(f,m);N!==h&&N!==j&&y.push({...t[N],x:a}),T!==h&&T!==j&&y.push({...t[T],x:a})}i>0&&j!==h&&y.push(t[j]),y.push(l),d=C,s=0,p=g=u,f=m=h=i}}return y}function Aq(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function MD(t){t.data.datasets.forEach(e=>{Aq(e)})}function $ne(t,e){const r=e.length;let n=0,a;const{iScale:s}=t,{min:i,max:l,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(n=dr(is(e,s.axis,i).lo,0,r-1)),u?a=dr(is(e,s.axis,l).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var Rne={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){MD(t);return}const n=t.width;t.data.datasets.forEach((a,s)=>{const{_data:i,indexAxis:l}=a,c=t.getDatasetMeta(s),u=i||a.data;if(sd([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:m}=$ne(c,u);const h=r.threshold||4*n;if(m<=h){Aq(a);return}ze(i)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(r.algorithm){case"lttb":p=Dne(u,f,m,n,r);break;case"min-max":p=_ne(u,f,m,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=p})},destroy(t){MD(t)}};function Mne(t,e,r){const n=t.segments,a=t.points,s=e.points,i=[];for(const l of n){let{start:c,end:u}=l;u=Z2(c,u,a);const d=VS(r,a[c],a[u],l.loop);if(!e.segments){i.push({source:l,target:d,start:a[c],end:a[u]});continue}const f=iq(e,d);for(const m of f){const h=VS(r,s[m.start],s[m.end],m.loop),p=oq(l,a,h);for(const g of p)i.push({source:g,target:m,start:{[r]:LD(d,h,"start",Math.max)},end:{[r]:LD(d,h,"end",Math.min)}})}}return i}function VS(t,e,r,n){if(n)return;let a=e[t],s=r[t];return t==="angle"&&(a=dn(a),s=dn(s)),{property:t,start:a,end:s}}function Lne(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,s=[];return e.segments.forEach(({start:i,end:l})=>{l=Z2(i,l,a);const c=a[i],u=a[l];n!==null?(s.push({x:c.x,y:n}),s.push({x:u.x,y:n})):r!==null&&(s.push({x:r,y:c.y}),s.push({x:r,y:u.y}))}),s}function Z2(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function LD(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function Tq(t,e){let r=[],n=!1;return Ot(t)?(n=!0,r=t):r=Lne(t,e),r.length?new lo({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function FD(t){return t&&t.fill!==!1}function Fne(t,e,r){let a=t[e].fill;const s=[e];let i;if(!r)return a;for(;a!==!1&&s.indexOf(a)===-1;){if(!Ut(a))return a;if(i=t[a],!i)return!1;if(i.visible)return a;s.push(a),a=i.fill}return!1}function Bne(t,e,r){const n=zne(t);if(He(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Ut(a)&&Math.floor(a)===a?qne(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function qne(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function Vne(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:He(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function Une(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:He(t)?n=t.value:n=e.getBaseValue(),n}function zne(t){const e=t.options,r=e.fill;let n=Fe(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Wne(t){const{scale:e,index:r,line:n}=t,a=[],s=n.segments,i=n.points,l=Hne(e,r);l.push(Tq({x:null,y:e.bottom},n));for(let c=0;c<s.length;c++){const u=s[c];for(let d=u.start;d<=u.end;d++)Gne(a,i[d],l)}return new lo({points:a,options:{}})}function Hne(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const s=n[a];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function Gne(t,e,r){const n=[];for(let a=0;a<r.length;a++){const s=r[a],{first:i,last:l,point:c}=Yne(s,e,"x");if(!(!c||i&&l)){if(i)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function Yne(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],s=t.segments,i=t.points;let l=!1,c=!1;for(let u=0;u<s.length;u++){const d=s[u],f=i[d.start][r],m=i[d.end][r];if(os(a,f,m)){l=a===f,c=a===m;break}}return{first:l,last:c,point:n}}class kq{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:s,radius:i}=this;return r=r||{start:0,end:Tt},e.arc(a,s,i,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,s=e.angle;return{x:r+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}}function Kne(t){const{chart:e,fill:r,line:n}=t;if(Ut(r))return Xne(e,r);if(r==="stack")return Wne(t);if(r==="shape")return!0;const a=Jne(t);return a instanceof kq?a:Tq(a,n)}function Xne(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function Jne(t){return(t.scale||{}).getPointPositionForValue?Zne(t):Qne(t)}function Qne(t){const{scale:e={},fill:r}=t,n=Vne(r,e);if(Ut(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function Zne(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,i=Une(r,e,s),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,s);return new kq({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(i)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,i));return l}function F1(t,e,r){const n=Kne(e),{chart:a,index:s,line:i,scale:l,axis:c}=e,u=i.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:h=f}=d||{},p=a.getDatasetMeta(s),g=lq(a,p);n&&i.points.length&&(dv(t,r),eae(t,{line:i,target:n,above:m,below:h,area:r,scale:l,axis:c,clip:g}),fv(t))}function eae(t,e){const{line:r,target:n,above:a,below:s,area:i,scale:l,clip:c}=e,u=r._loop?"angle":e.axis;t.save(),u==="x"&&s!==a&&(BD(t,n,i.top),qD(t,{line:r,target:n,color:a,scale:l,property:u,clip:c}),t.restore(),t.save(),BD(t,n,i.bottom)),qD(t,{line:r,target:n,color:s,scale:l,property:u,clip:c}),t.restore()}function BD(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[Z2(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,r),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function qD(t,e){const{line:r,target:n,property:a,color:s,scale:i,clip:l}=e,c=Mne(r,n,a);for(const{source:u,target:d,start:f,end:m}of c){const{style:{backgroundColor:h=s}={}}=u,p=n!==!0;t.save(),t.fillStyle=h,tae(t,i,l,p&&VS(a,f,m)),t.beginPath();const g=!!r.pathSegment(t,u);let y;if(p){g?t.closePath():VD(t,n,m,a);const x=!!n.pathSegment(t,d,{move:g,reverse:!0});y=g&&x,y||VD(t,n,f,a)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function tae(t,e,r,n){const a=e.chart.chartArea,{property:s,start:i,end:l}=n||{};if(s==="x"||s==="y"){let c,u,d,f;s==="x"?(c=i,u=a.top,d=l,f=a.bottom):(c=a.left,u=i,d=a.right,f=l),t.beginPath(),r&&(c=Math.max(c,r.left),d=Math.min(d,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function VD(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var rae={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let s,i,l,c;for(i=0;i<n;++i)s=t.getDatasetMeta(i),l=s.dataset,c=null,l&&l.options&&l instanceof lo&&(c={visible:t.isDatasetVisible(i),index:i,fill:Bne(l,i,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,a.push(c);for(i=0;i<n;++i)c=a[i],!(!c||c.fill===!1)&&(c.fill=Fne(a,i,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let i=a.length-1;i>=0;--i){const l=a[i].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&F1(t.ctx,l,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const s=n[a].$filler;FD(s)&&F1(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!FD(n)||r.drawTime!=="beforeDatasetDraw"||F1(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const UD=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},nae=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let zD=class extends $s{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=yt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=nr(n.font),s=a.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=UD(n,s);let u,d;r.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(i,s,l,c)+10):(d=this.maxHeight,u=this._fitCols(i,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:s,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+l;let f=e;s.textAlign="left",s.textBaseline="middle";let m=-1,h=-d;return this.legendItems.forEach((p,g)=>{const y=n+r/2+s.measureText(p.text).width;(g===0||u[u.length-1]+y+2*l>i)&&(f+=d,u[u.length-(g>0?0:1)]=0,h+=d,m++),c[g]={left:0,top:h,row:m,width:y,height:a},u[u.length-1]+=y+l}),f}_fitCols(e,r,n,a){const{ctx:s,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=i-e;let f=l,m=0,h=0,p=0,g=0;return this.legendItems.forEach((y,x)=>{const{itemWidth:b,itemHeight:w}=aae(n,r,s,y,a);x>0&&h+w+2*l>d&&(f+=m+l,u.push({width:m,height:h}),p+=m+l,g++,m=h=0),c[x]={left:p,top:h,col:g,width:b,height:w},m=Math.max(m,b),h+=w+l}),f+=m,u.push({width:m,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:s}}=this,i=Zl(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=Ir(n,this.left+a,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=Ir(n,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=i.leftForLtr(i.x(c),u.width),c+=u.width+a}else{let l=0,c=Ir(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=Ir(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=i.leftForLtr(i.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;dv(e,this),this._draw(),fv(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:s,labels:i}=e,l=Pt.color,c=Zl(e.rtl,this.left,this.width),u=nr(i.font),{padding:d}=i,f=u.size,m=f/2;let h;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:p,boxHeight:g,itemHeight:y}=UD(i,f),x=function(j,N,T){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;a.save();const k=Fe(T.lineWidth,1);if(a.fillStyle=Fe(T.fillStyle,l),a.lineCap=Fe(T.lineCap,"butt"),a.lineDashOffset=Fe(T.lineDashOffset,0),a.lineJoin=Fe(T.lineJoin,"miter"),a.lineWidth=k,a.strokeStyle=Fe(T.strokeStyle,l),a.setLineDash(Fe(T.lineDash,[])),i.usePointStyle){const E={radius:g*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:k},O=c.xPlus(j,p/2),P=N+m;K3(a,E,O,P,i.pointStyleWidth&&p)}else{const E=N+Math.max((f-g)/2,0),O=c.leftForLtr(j,p),P=ki(T.borderRadius);a.beginPath(),Object.values(P).some(L=>L!==0)?Af(a,{x:O,y:E,w:p,h:g,radius:P}):a.rect(O,E,p,g),a.fill(),k!==0&&a.stroke()}a.restore()},b=function(j,N,T){Yi(a,T.text,j,N+y/2,u,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?h={x:Ir(s,this.left+d,this.right-n[0]),y:this.top+d+S,line:0}:h={x:this.left+d,y:Ir(s,this.top+S+d,this.bottom-r[0].height),line:0},nq(this.ctx,e.textDirection);const C=y+d;this.legendItems.forEach((j,N)=>{a.strokeStyle=j.fontColor,a.fillStyle=j.fontColor;const T=a.measureText(j.text).width,k=c.textAlign(j.textAlign||(j.textAlign=i.textAlign)),E=p+m+T;let O=h.x,P=h.y;c.setWidth(this.width),w?N>0&&O+E+d>this.right&&(P=h.y+=C,h.line++,O=h.x=Ir(s,this.left+d,this.right-n[h.line])):N>0&&P+C>this.bottom&&(O=h.x=O+r[h.line].width+d,h.line++,P=h.y=Ir(s,this.top+S+d,this.bottom-r[h.line].height));const L=c.x(O);if(x(L,P,j),O=Nee(k,O+p+m,w?O+E:this.right,e.rtl),b(c.x(O),P,j),w)h.x+=E+d;else if(typeof j.text!="string"){const $=u.lineHeight;h.y+=Iq(j,$)+d}else h.y+=C}),aq(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=nr(r.font),a=_r(r.padding);if(!r.display)return;const s=Zl(e.rtl,this.left,this.width),i=this.ctx,l=r.position,c=n.size/2,u=a.top+c;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=Ir(e.align,f,this.right-m);else{const p=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);d=u+Ir(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const h=Ir(l,f,f+m);i.textAlign=s.textAlign(z2(l)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=n.string,Yi(i,r.text,h,d,n)}_computeTitleHeight(){const e=this.options.title,r=nr(e.font),n=_r(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,s;if(os(e,this.left,this.right)&&os(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],os(e,a.left,a.left+a.width)&&os(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!iae(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,s=nae(a,n);a&&!s&&yt(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&yt(r.onHover,[e,n,this],this)}else n&&yt(r.onClick,[e,n,this],this)}};function aae(t,e,r,n,a){const s=sae(n,t,e,r),i=oae(a,n,e.lineHeight);return{itemWidth:s,itemHeight:i}}function sae(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((s,i)=>s.length>i.length?s:i)),e+r.size/2+n.measureText(a).width}function oae(t,e,r){let n=t;return typeof e.text!="string"&&(n=Iq(e,r)),n}function Iq(t,e){const r=t.text?t.text.length:0;return e*r}function iae(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var lae={id:"legend",_element:zD,start(t,e,r){const n=t.legend=new zD({ctx:t.ctx,options:r,chart:t});Pr.configure(t,n,r),Pr.addBox(t,n)},stop(t){Pr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Pr.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:s,useBorderRadius:i,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=_r(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:i&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class eI extends $s{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=Ot(n.text)?n.text.length:1;this._padding=_r(n.padding);const s=a*nr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:s,options:i}=this,l=i.align;let c=0,u,d,f;return this.isHorizontal()?(d=Ir(l,n,s),f=r+e,u=s-n):(i.position==="left"?(d=n+e,f=Ir(l,a,r),c=kt*-.5):(d=s-e,f=Ir(l,r,a),c=kt*.5),u=a-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=nr(r.font),s=n.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(s);Yi(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:z2(r.align),textBaseline:"middle",translation:[i,l]})}}function cae(t,e){const r=new eI({ctx:t.ctx,options:e,chart:t});Pr.configure(t,r,e),Pr.addBox(t,r),t.titleBlock=r}var uae={id:"title",_element:eI,start(t,e,r){cae(t,r)},stop(t){const e=t.titleBlock;Pr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Pr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rh=new WeakMap;var dae={id:"subtitle",start(t,e,r){const n=new eI({ctx:t.ctx,options:r,chart:t});Pr.configure(t,n,r),Pr.addBox(t,n),Rh.set(t,n)},stop(t){Pr.removeBox(t,Rh.get(t)),Rh.delete(t)},beforeUpdate(t,e,r){const n=Rh.get(t);Pr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ld={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,s=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,s,i,l;for(s=0,i=t.length;s<i;++s){const c=t[s].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=_S(e,u);d<a&&(a=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function va(t,e){return e&&(Ot(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Xa(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function fae(t,e){const{element:r,datasetIndex:n,index:a}=e,s=t.getDatasetMeta(n).controller,{label:i,value:l}=s.getLabelAndValue(a);return{chart:t,label:i,parsed:s.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function WD(t,e){const r=t.chart.ctx,{body:n,footer:a,title:s}=t,{boxWidth:i,boxHeight:l}=e,c=nr(e.bodyFont),u=nr(e.titleFont),d=nr(e.footerFont),f=s.length,m=a.length,h=n.length,p=_r(e.padding);let g=p.height,y=0,x=n.reduce((S,C)=>S+C.before.length+C.lines.length+C.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(g+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const S=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;g+=h*S+(x-h)*c.lineHeight+(x-1)*e.bodySpacing}m&&(g+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let b=0;const w=function(S){y=Math.max(y,r.measureText(S).width+b)};return r.save(),r.font=u.string,st(t.title,w),r.font=c.string,st(t.beforeBody.concat(t.afterBody),w),b=e.displayColors?i+2+e.boxPadding:0,st(n,S=>{st(S.before,w),st(S.lines,w),st(S.after,w)}),b=0,r.font=d.string,st(t.footer,w),r.restore(),y+=p.width,{width:y,height:g}}function mae(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function hae(t,e,r,n){const{x:a,width:s}=n,i=r.caretSize+r.caretPadding;if(t==="left"&&a+s+i>e.width||t==="right"&&a-s-i<0)return!0}function pae(t,e,r,n){const{x:a,width:s}=r,{width:i,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=a<=(l+c)/2?"left":"right":a<=s/2?u="left":a>=i-s/2&&(u="right"),hae(u,t,e,r)&&(u="center"),u}function HD(t,e,r){const n=r.yAlign||e.yAlign||mae(t,r);return{xAlign:r.xAlign||e.xAlign||pae(t,e,r,n),yAlign:n}}function gae(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function yae(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function GD(t,e,r,n){const{caretSize:a,caretPadding:s,cornerRadius:i}=t,{xAlign:l,yAlign:c}=r,u=a+s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:h}=ki(i);let p=gae(e,l);const g=yae(e,c,u);return c==="center"?l==="left"?p+=u:l==="right"&&(p-=u):l==="left"?p-=Math.max(d,m)+a:l==="right"&&(p+=Math.max(f,h)+a),{x:dr(p,0,n.width-e.width),y:dr(g,0,n.height-e.height)}}function Mh(t,e,r){const n=_r(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function YD(t){return va([],Xa(t))}function bae(t,e,r){return qo(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function KD(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const Oq={beforeTitle:Ha,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Ha,beforeBody:Ha,beforeLabel:Ha,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return ze(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Ha,afterBody:Ha,beforeFooter:Ha,footer:Ha,afterFooter:Ha};function Vr(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?Oq[e].call(r,n):a}var bN;let XD=(bN=class extends $s{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,s=new cq(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=bae(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=Vr(n,"beforeTitle",this,e),s=Vr(n,"title",this,e),i=Vr(n,"afterTitle",this,e);let l=[];return l=va(l,Xa(a)),l=va(l,Xa(s)),l=va(l,Xa(i)),l}getBeforeBody(e,r){return YD(Vr(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return st(e,s=>{const i={before:[],lines:[],after:[]},l=KD(n,s);va(i.before,Xa(Vr(l,"beforeLabel",this,s))),va(i.lines,Vr(l,"label",this,s)),va(i.after,Xa(Vr(l,"afterLabel",this,s))),a.push(i)}),a}getAfterBody(e,r){return YD(Vr(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=Vr(n,"beforeFooter",this,e),s=Vr(n,"footer",this,e),i=Vr(n,"afterFooter",this,e);let l=[];return l=va(l,Xa(a)),l=va(l,Xa(s)),l=va(l,Xa(i)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],s=[],i=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(fae(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,m)=>e.filter(d,f,m,n))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,n))),st(l,d=>{const f=KD(e.callbacks,d);a.push(Vr(f,"labelColor",this,d)),s.push(Vr(f,"labelPointStyle",this,d)),i.push(Vr(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let s,i=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{const l=ld[n.position].call(this,a,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const c=this._size=WD(this,n),u=Object.assign({},l,c),d=HD(this.chart,n,u),f=GD(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const s=this.getCaretPosition(e,n,a);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:s}=this,{caretSize:i,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=ki(l),{x:m,y:h}=e,{width:p,height:g}=r;let y,x,b,w,S,C;return s==="center"?(S=h+g/2,a==="left"?(y=m,x=y-i,w=S+i,C=S-i):(y=m+p,x=y+i,w=S-i,C=S+i),b=y):(a==="left"?x=m+Math.max(c,d)+i:a==="right"?x=m+p-Math.max(u,f)-i:x=this.caretX,s==="top"?(w=h,S=w-i,y=x-i,b=x+i):(w=h+g,S=w+i,y=x+i,b=x-i),C=w),{x1:y,x2:x,x3:b,y1:w,y2:S,y3:C}}drawTitle(e,r,n){const a=this.title,s=a.length;let i,l,c;if(s){const u=Zl(n.rtl,this.x,this.width);for(e.x=Mh(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",i=nr(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=i.string,c=0;c<s;++c)r.fillText(a[c],u.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,s){const i=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=s,d=nr(s.bodyFont),f=Mh(this,"left",s),m=a.x(f),h=c<d.lineHeight?(d.lineHeight-c)/2:0,p=r.y+h;if(s.usePointStyle){const g={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=a.leftForLtr(m,u)+u/2,x=p+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,RS(e,g,y,x),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,RS(e,g,y,x)}else{e.lineWidth=He(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const g=a.leftForLtr(m,u),y=a.leftForLtr(a.xPlus(m,1),u-2),x=ki(i.borderRadius);Object.values(x).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Af(e,{x:g,y:p,w:u,h:c,radius:x}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),Af(e,{x:y,y:p+1,w:u-2,h:c-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,p,u,c),e.strokeRect(g,p,u,c),e.fillStyle=i.backgroundColor,e.fillRect(y,p+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:s,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=nr(n.bodyFont);let m=f.lineHeight,h=0;const p=Zl(n.rtl,this.x,this.width),g=function(T){r.fillText(T,p.x(e.x+h),e.y+m/2),e.y+=m+s},y=p.textAlign(i);let x,b,w,S,C,j,N;for(r.textAlign=i,r.textBaseline="middle",r.font=f.string,e.x=Mh(this,y,n),r.fillStyle=n.bodyColor,st(this.beforeBody,g),h=l&&y!=="right"?i==="center"?u/2+d:u+2+d:0,S=0,j=a.length;S<j;++S){for(x=a[S],b=this.labelTextColors[S],r.fillStyle=b,st(x.before,g),w=x.lines,l&&w.length&&(this._drawColorBox(r,e,S,p,n),m=Math.max(f.lineHeight,c)),C=0,N=w.length;C<N;++C)g(w[C]),m=f.lineHeight;st(x.after,g)}h=0,m=f.lineHeight,st(this.afterBody,g),e.y-=s}drawFooter(e,r,n){const a=this.footer,s=a.length;let i,l;if(s){const c=Zl(n.rtl,this.x,this.width);for(e.x=Mh(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",i=nr(n.footerFont),r.fillStyle=n.footerColor,r.font=i.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:s,yAlign:i}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:f,topRight:m,bottomLeft:h,bottomRight:p}=ki(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+f,c),i==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+u-m,c),r.quadraticCurveTo(l+u,c,l+u,c+m),i==="center"&&s==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+u,c+d-p),r.quadraticCurveTo(l+u,c+d,l+u-p,c+d),i==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+h,c+d),r.quadraticCurveTo(l,c+d,l,c+d-h),i==="center"&&s==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const i=ld[e.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=WD(this,e),c=Object.assign({},i,this._size),u=HD(r,e,c),d=GD(e,c,u,r);(a._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=_r(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,r),nq(e,r.textDirection),s.y+=i.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),aq(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!y0(n,a),i=this._positionChanged(a,r);(s||i)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],i=this._getActiveElements(e,s,r,n),l=this._positionChanged(i,e),c=r||!y0(i,s)||l;return c&&(this._active=i,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const s=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,r){const{caretX:n,caretY:a,options:s}=this,i=ld[s.position].call(this,e,r);return i!==!1&&(n!==i.x||a!==i.y)}},he(bN,"positioners",ld),bN);var xae={id:"tooltip",_element:XD,positioners:ld,afterInit(t,e,r){r&&(t.tooltip=new XD({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Oq},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},vae=Object.freeze({__proto__:null,Colors:Pne,Decimation:Rne,Filler:rae,Legend:lae,SubTitle:dae,Title:uae,Tooltip:xae});const jae=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function wae(t,e,r,n){const a=t.indexOf(e);if(a===-1)return jae(t,e,r,n);const s=t.lastIndexOf(e);return a!==s?r:a}const Cae=(t,e)=>t===null?null:dr(Math.round(t),0,e);function JD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class US extends il{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:s}of r)n[a]===s&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(ze(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:wae(n,e,Fe(r,e),this._addedLabels),Cae(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=r;i++)a.push({value:i});return a}getLabelForValue(e){return JD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}he(US,"id","category"),he(US,"defaults",{ticks:{callback:JD}});function Nae(t,e){const r=[],{bounds:a,step:s,min:i,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,h=s||1,p=d-1,{min:g,max:y}=e,x=!ze(i),b=!ze(l),w=!ze(u),S=(y-g)/(f+1);let C=WP((y-g)/p/h)*h,j,N,T,k;if(C<1e-14&&!x&&!b)return[{value:g},{value:y}];k=Math.ceil(y/C)-Math.floor(g/C),k>p&&(C=WP(k*C/p/h)*h),ze(c)||(j=Math.pow(10,c),C=Math.ceil(C*j)/j),a==="ticks"?(N=Math.floor(g/C)*C,T=Math.ceil(y/C)*C):(N=g,T=y),x&&b&&s&&yee((l-i)/s,C/1e3)?(k=Math.round(Math.min((l-i)/C,d)),C=(l-i)/k,N=i,T=l):w?(N=x?i:N,T=b?l:T,k=u-1,C=(T-N)/k):(k=(T-N)/C,Td(k,Math.round(k),C/1e3)?k=Math.round(k):k=Math.ceil(k));const E=Math.max(HP(C),HP(N));j=Math.pow(10,ze(c)?E:c),N=Math.round(N*j)/j,T=Math.round(T*j)/j;let O=0;for(x&&(m&&N!==i?(r.push({value:i}),N<i&&O++,Td(Math.round((N+O*C)*j)/j,i,QD(i,S,t))&&O++):N<i&&O++);O<k;++O){const P=Math.round((N+O*C)*j)/j;if(b&&P>l)break;r.push({value:P})}return b&&m&&T!==l?r.length&&Td(r[r.length-1].value,l,QD(l,S,t))?r[r.length-1].value=l:r.push({value:l}):(!b||T===l)&&r.push({value:T}),r}function QD(t,e,{horizontal:r,minRotation:n}){const a=oa(n),s=(r?Math.sin(a):Math.cos(a))||.001,i=.75*e*(""+t).length;return Math.min(e/s,i)}class N0 extends il{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const i=c=>a=r?a:c,l=c=>s=n?s:c;if(e){const c=Ea(a),u=Ea(s);c<0&&u<0?l(0):c>0&&u>0&&i(0)}if(a===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||i(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,i=Nae(a,s);return e.bounds==="ticks"&&B3(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Dm(e,this.chart.options.locale,this.options.ticks.format)}}class zS extends N0{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ut(e)?e:0,this.max=Ut(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=oa(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}he(zS,"id","linear"),he(zS,"defaults",{ticks:{callback:uv.formatters.numeric}});const kf=t=>Math.floor(io(t)),ei=(t,e)=>Math.pow(10,kf(t)+e);function ZD(t){return t/Math.pow(10,kf(t))===1}function e_(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function Sae(t,e){const r=e-t;let n=kf(r);for(;e_(t,e,n)>10;)n++;for(;e_(t,e,n)<10;)n--;return Math.min(n,kf(t))}function Aae(t,{min:e,max:r}){e=ln(t.min,e);const n=[],a=kf(e);let s=Sae(e,r),i=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,u=Math.round((e-c)*i)/i,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,s)),m=ln(t.min,Math.round((c+d+f*Math.pow(10,s))*i)/i);for(;m<r;)n.push({value:m,major:ZD(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,i=s>=0?1:i),m=Math.round((c+d+f*Math.pow(10,s))*i)/i;const h=ln(t.max,m);return n.push({value:h,major:ZD(h),significand:f}),n}class WS extends il{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=N0.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Ut(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ut(e)?Math.max(0,e):null,this.max=Ut(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ut(this._userMin)&&(this.min=e===ei(this.min,0)?ei(this.min,-1):ei(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const s=l=>n=e?n:l,i=l=>a=r?a:l;n===a&&(n<=0?(s(1),i(10)):(s(ei(n,-1)),i(ei(a,1)))),n<=0&&s(ei(a,-1)),a<=0&&i(ei(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=Aae(r,this);return e.bounds==="ticks"&&B3(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Dm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=io(e),this._valueRange=io(this.max)-io(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(io(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}he(WS,"id","logarithmic"),he(WS,"defaults",{ticks:{callback:uv.formatters.logarithmic,major:{enabled:!0}}});function HS(t){const e=t.ticks;if(e.display&&t.display){const r=_r(e.backdropPadding);return Fe(e.font&&e.font.size,Pt.font.size)+r.height}return 0}function Tae(t,e,r){return r=Ot(r)?r:[r],{w:_ee(t,e.string,r),h:r.length*e.lineHeight}}function t_(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function kae(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],s=t._pointLabels.length,i=t.options.pointLabels,l=i.centerPointLabels?kt/s:0;for(let c=0;c<s;c++){const u=i.setContext(t.getPointLabelContext(c));a[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+a[c],l),f=nr(u.font),m=Tae(t.ctx,f,t._pointLabels[c]);n[c]=m;const h=dn(t.getIndexAngle(c)+l),p=Math.round(V2(h)),g=t_(p,d.x,m.w,0,180),y=t_(p,d.y,m.h,90,270);Iae(r,e,h,g,y)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=Pae(t,n,a)}function Iae(t,e,r,n,a){const s=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/i,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/i,t.b=Math.max(t.b,e.b+c))}function Oae(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:s,padding:i,size:l}=r,c=t.getPointPosition(e,n+a+i,s),u=Math.round(V2(dn(c.angle+Yt))),d=$ae(c.y,l.h,u),f=Dae(u),m=_ae(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:m,top:d,right:m+l.w,bottom:d+l.h}}function Eae(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:s}=t;return!(ls({x:r,y:n},e)||ls({x:r,y:s},e)||ls({x:a,y:n},e)||ls({x:a,y:s},e))}function Pae(t,e,r){const n=[],a=t._pointLabels.length,s=t.options,{centerPointLabels:i,display:l}=s.pointLabels,c={extra:HS(s)/2,additionalAngle:i?kt/a:0};let u;for(let d=0;d<a;d++){c.padding=r[d],c.size=e[d];const f=Oae(t,d,c);n.push(f),l==="auto"&&(f.visible=Eae(f,u),f.visible&&(u=f))}return n}function Dae(t){return t===0||t===180?"center":t<180?"left":"right"}function _ae(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function $ae(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function Rae(t,e,r){const{left:n,top:a,right:s,bottom:i}=r,{backdropColor:l}=e;if(!ze(l)){const c=ki(e.borderRadius),u=_r(e.backdropPadding);t.fillStyle=l;const d=n-u.left,f=a-u.top,m=s-n+u.width,h=i-a+u.height;Object.values(c).some(p=>p!==0)?(t.beginPath(),Af(t,{x:d,y:f,w:m,h,radius:c}),t.fill()):t.fillRect(d,f,m,h)}}function Mae(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const s=t._pointLabelItems[a];if(!s.visible)continue;const i=n.setContext(t.getPointLabelContext(a));Rae(r,i,s);const l=nr(i.font),{x:c,y:u,textAlign:d}=s;Yi(r,t._pointLabels[a],c,u+l.lineHeight/2,l,{color:i.color,textAlign:d,textBaseline:"middle"})}}function Eq(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Tt);else{let s=t.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let i=1;i<n;i++)s=t.getPointPosition(i,e),a.lineTo(s.x,s.y)}}function Lae(t,e,r,n,a){const s=t.ctx,i=e.circular,{color:l,lineWidth:c}=e;!i&&!n||!l||!c||r<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),Eq(t,r,i,n),s.closePath(),s.stroke(),s.restore())}function Fae(t,e,r){return qo(t,{label:r,index:e,type:"pointLabel"})}class cd extends N0{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=_r(HS(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Ut(e)&&!isNaN(e)?e:0,this.max=Ut(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/HS(this.options))}generateTickLabels(e){N0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=yt(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?kae(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Tt/(this._pointLabels.length||1),n=this.options.startAngle||0;return dn(e*r+oa(n))}getDistanceFromCenterForValue(e){if(ze(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(ze(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return Fae(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-Yt+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Eq(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:s}=r,i=this._pointLabels.length;let l,c,u;if(r.pointLabels.display&&Mae(this,i),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(f),h=a.setContext(m),p=s.setContext(m);Lae(this,h,c,i,p)}}),n.display){for(e.save(),l=i-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=d;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let s,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(c)),d=nr(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,i=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=_r(u.backdropPadding);e.fillRect(-i/2-f.left,-s-d.size/2-f.top,i+f.width,d.size+f.height)}Yi(e,l.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}he(cd,"id","radialLinear"),he(cd,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:uv.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),he(cd,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),he(cd,"descriptors",{angleLines:{_fallback:"grid"}});const pv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gr=Object.keys(pv);function r_(t,e){return t-e}function n_(t,e){if(ze(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:s}=t._parseOpts;let i=e;return typeof n=="function"&&(i=n(i)),Ut(i)||(i=typeof n=="string"?r.parse(i,n):r.parse(i)),i===null?null:(a&&(i=a==="week"&&(Nc(s)||s===!0)?r.startOf(i,"isoWeek",s):r.startOf(i,a)),+i)}function a_(t,e,r,n){const a=Gr.length;for(let s=Gr.indexOf(t);s<a-1;++s){const i=pv[Gr[s]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-e)/(l*i.size))<=n)return Gr[s]}return Gr[a-1]}function Bae(t,e,r,n,a){for(let s=Gr.length-1;s>=Gr.indexOf(r);s--){const i=Gr[s];if(pv[i].common&&t._adapter.diff(a,n,i)>=e-1)return i}return Gr[r?Gr.indexOf(r):0]}function qae(t){for(let e=Gr.indexOf(t)+1,r=Gr.length;e<r;++e)if(pv[Gr[e]].common)return Gr[e]}function s_(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=U2(r,e),s=r[n]>=e?r[n]:r[a];t[s]=!0}}function Vae(t,e,r,n){const a=t._adapter,s=+a.startOf(e[0].value,n),i=e[e.length-1].value;let l,c;for(l=s;l<=i;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function o_(t,e,r){const n=[],a={},s=e.length;let i,l;for(i=0;i<s;++i)l=e[i],a[l]=i,n.push({value:l,major:!1});return s===0||!r?n:Vae(t,n,a,r)}class If extends il{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new Jte._date(e.adapters.date);a.init(r),Ad(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:n_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:i,maxDefined:l}=this.getUserBounds();function c(u){!i&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!i||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Ut(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),s=Ut(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,i=this.max,l=jee(a,s,i);return this._unit=r.unit||(n.autoSkip?a_(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):Bae(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:qae(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),o_(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,s;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;r=dr(r,0,i),n=dr(n,0,i),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,s=a.time,i=s.unit||a_(s.minUnit,r,n,this._getLabelCapacity(r)),l=Fe(a.ticks.stepSize,1),c=i==="week"?s.isoWeekday:!1,u=Nc(c)||c===!0,d={};let f=r,m,h;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":i),e.diff(n,r,i)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+i);const p=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,h=0;m<n;m=+e.add(m,l,i),h++)s_(d,m,p);return(m===n||a.bounds==="ticks"||h===1)&&s_(d,m,p),Object.keys(d).sort(r_).map(g=>+g)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,s=this._unit,i=r||a[s];return this._adapter.format(e,i)}_tickFormatFunction(e,r,n,a){const s=this.options,i=s.ticks.callback;if(i)return yt(i,[e,r,n],this);const l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],m=n[r],h=u&&f&&m&&m.major;return this._adapter.format(e,a||(h?f:d))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=oa(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(a),i=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*i,h:n*i+l*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,o_(this,[e],this._majorUnit),a),i=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(n_(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return U3(e.sort(r_))}}he(If,"id","time"),he(If,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Lh(t,e,r){let n=0,a=t.length-1,s,i,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=is(t,"pos",e)),{pos:s,time:l}=t[n],{pos:i,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=is(t,"time",e)),{time:s,pos:l}=t[n],{time:i,pos:c}=t[a]);const u=i-s;return u?l+(c-l)*(e-s)/u:l}class GS extends If{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Lh(r,this.min),this._tableRange=Lh(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],s=[];let i,l,c,u,d;for(i=0,l=e.length;i<l;++i)u=e[i],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(i=0,l=a.length;i<l;++i)d=a[i+1],c=a[i-1],u=a[i],Math.round((d+c)/2)!==u&&s.push({time:u,pos:i/(l-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Lh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Lh(this._table,n*this._tableRange+this._minPos,!0)}}he(GS,"id","timeseries"),he(GS,"defaults",If.defaults);var Uae=Object.freeze({__proto__:null,CategoryScale:US,LinearScale:zS,LogarithmicScale:WS,RadialLinearScale:cd,TimeScale:If,TimeSeriesScale:GS});const zae=[Xte,Sne,vae,Uae];Xs.register(...zae);const Wae=[{name:"Settings",icon:o.jsx(t3,{className:"h-6 w-6"}),path:"/settings/departments"},{name:"Disbursement",icon:o.jsx(ZK,{className:"h-6 w-6"}),path:"/disbursement/obligation-requests"},{name:"Collections",icon:o.jsx(gX,{className:"h-6 w-6"}),path:"/collections/community-tax"},{name:"Budget",icon:o.jsx(SP,{className:"h-6 w-6"}),path:"/budget/details"},{name:"Applications",icon:o.jsx(SP,{className:"h-6 w-6"}),path:"/applications/business-permits"},{name:"Reports",icon:o.jsx(CS,{className:"h-6 w-6"}),path:"/reports/general-ledger"},{name:"BIR Reports",icon:o.jsx(r3,{className:"h-6 w-6"}),path:"/reports/bir"}];function Hae(){const{user:t}=V(n=>n.auth),[e,r]=v.useState(!0);return v.useEffect(()=>{const n=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(n)},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Welcome back"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Wae.map(n=>o.jsxs(Ql,{to:n.path,className:"bg-white hover:bg-blue-50 border border-gray-200 rounded-xl shadow-md p-5 flex items-center gap-4 transition-transform transform hover:scale-105",children:[o.jsx("div",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:n.icon}),o.jsx("span",{className:"text-lg font-medium text-gray-800",children:n.name})]},n.name))})]})}function Gae(){return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-white py-8 px-4 shadow-md sm:rounded-lg sm:px-10 text-center",children:[o.jsx("div",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),o.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Page Not Found"}),o.jsx("p",{className:"text-neutral-600 mb-6",children:"The page you are looking for doesn't exist or has been moved."}),o.jsx(Ql,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Return to Dashboard"})]})})})}var Yae=function(e){return Kae(e)&&!Xae(e)};function Kae(t){return!!t&&typeof t=="object"}function Xae(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Zae(t)}var Jae=typeof Symbol=="function"&&Symbol.for,Qae=Jae?Symbol.for("react.element"):60103;function Zae(t){return t.$$typeof===Qae}function ese(t){return Array.isArray(t)?[]:{}}function S0(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Of(ese(t),t,e):t}function tse(t,e,r){return t.concat(e).map(function(n){return S0(n,r)})}function rse(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){n[a]=S0(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?n[a]=S0(e[a],r):n[a]=Of(t[a],e[a],r)}),n}function Of(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||tse,r.isMergeableObject=r.isMergeableObject||Yae;var n=Array.isArray(e),a=Array.isArray(t),s=n===a;return s?n?r.arrayMerge(t,e,r):rse(t,e,r):S0(e,r)}Of.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,a){return Of(n,a,r)},{})};var YS=Of,Pq=typeof global=="object"&&global&&global.Object===Object&&global,nse=typeof self=="object"&&self&&self.Object===Object&&self,qa=Pq||nse||Function("return this")(),Po=qa.Symbol,Dq=Object.prototype,ase=Dq.hasOwnProperty,sse=Dq.toString,$u=Po?Po.toStringTag:void 0;function ose(t){var e=ase.call(t,$u),r=t[$u];try{t[$u]=void 0;var n=!0}catch{}var a=sse.call(t);return n&&(e?t[$u]=r:delete t[$u]),a}var ise=Object.prototype,lse=ise.toString;function cse(t){return lse.call(t)}var use="[object Null]",dse="[object Undefined]",i_=Po?Po.toStringTag:void 0;function ll(t){return t==null?t===void 0?dse:use:i_&&i_ in Object(t)?ose(t):cse(t)}function _q(t,e){return function(r){return t(e(r))}}var tI=_q(Object.getPrototypeOf,Object);function cl(t){return t!=null&&typeof t=="object"}var fse="[object Object]",mse=Function.prototype,hse=Object.prototype,$q=mse.toString,pse=hse.hasOwnProperty,gse=$q.call(Object);function l_(t){if(!cl(t)||ll(t)!=fse)return!1;var e=tI(t);if(e===null)return!0;var r=pse.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&$q.call(r)==gse}function yse(){this.__data__=[],this.size=0}function Rq(t,e){return t===e||t!==t&&e!==e}function gv(t,e){for(var r=t.length;r--;)if(Rq(t[r][0],e))return r;return-1}var bse=Array.prototype,xse=bse.splice;function vse(t){var e=this.__data__,r=gv(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():xse.call(e,r,1),--this.size,!0}function jse(t){var e=this.__data__,r=gv(e,t);return r<0?void 0:e[r][1]}function wse(t){return gv(this.__data__,t)>-1}function Cse(t,e){var r=this.__data__,n=gv(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Rs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Rs.prototype.clear=yse;Rs.prototype.delete=vse;Rs.prototype.get=jse;Rs.prototype.has=wse;Rs.prototype.set=Cse;function Nse(){this.__data__=new Rs,this.size=0}function Sse(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Ase(t){return this.__data__.get(t)}function Tse(t){return this.__data__.has(t)}function _m(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kse="[object AsyncFunction]",Ise="[object Function]",Ose="[object GeneratorFunction]",Ese="[object Proxy]";function Mq(t){if(!_m(t))return!1;var e=ll(t);return e==Ise||e==Ose||e==kse||e==Ese}var B1=qa["__core-js_shared__"],c_=function(){var t=/[^.]+$/.exec(B1&&B1.keys&&B1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Pse(t){return!!c_&&c_ in t}var Dse=Function.prototype,_se=Dse.toString;function ul(t){if(t!=null){try{return _se.call(t)}catch{}try{return t+""}catch{}}return""}var $se=/[\\^$.*+?()[\]{}|]/g,Rse=/^\[object .+?Constructor\]$/,Mse=Function.prototype,Lse=Object.prototype,Fse=Mse.toString,Bse=Lse.hasOwnProperty,qse=RegExp("^"+Fse.call(Bse).replace($se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vse(t){if(!_m(t)||Pse(t))return!1;var e=Mq(t)?qse:Rse;return e.test(ul(t))}function Use(t,e){return t==null?void 0:t[e]}function dl(t,e){var r=Use(t,e);return Vse(r)?r:void 0}var Ef=dl(qa,"Map"),Pf=dl(Object,"create");function zse(){this.__data__=Pf?Pf(null):{},this.size=0}function Wse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Hse="__lodash_hash_undefined__",Gse=Object.prototype,Yse=Gse.hasOwnProperty;function Kse(t){var e=this.__data__;if(Pf){var r=e[t];return r===Hse?void 0:r}return Yse.call(e,t)?e[t]:void 0}var Xse=Object.prototype,Jse=Xse.hasOwnProperty;function Qse(t){var e=this.__data__;return Pf?e[t]!==void 0:Jse.call(e,t)}var Zse="__lodash_hash_undefined__";function eoe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Pf&&e===void 0?Zse:e,this}function Ki(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ki.prototype.clear=zse;Ki.prototype.delete=Wse;Ki.prototype.get=Kse;Ki.prototype.has=Qse;Ki.prototype.set=eoe;function toe(){this.size=0,this.__data__={hash:new Ki,map:new(Ef||Rs),string:new Ki}}function roe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function yv(t,e){var r=t.__data__;return roe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function noe(t){var e=yv(this,t).delete(t);return this.size-=e?1:0,e}function aoe(t){return yv(this,t).get(t)}function soe(t){return yv(this,t).has(t)}function ooe(t,e){var r=yv(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Vo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vo.prototype.clear=toe;Vo.prototype.delete=noe;Vo.prototype.get=aoe;Vo.prototype.has=soe;Vo.prototype.set=ooe;var ioe=200;function loe(t,e){var r=this.__data__;if(r instanceof Rs){var n=r.__data__;if(!Ef||n.length<ioe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Vo(n)}return r.set(t,e),this.size=r.size,this}function nu(t){var e=this.__data__=new Rs(t);this.size=e.size}nu.prototype.clear=Nse;nu.prototype.delete=Sse;nu.prototype.get=Ase;nu.prototype.has=Tse;nu.prototype.set=loe;function coe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var u_=function(){try{var t=dl(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Lq(t,e,r){e=="__proto__"&&u_?u_(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var uoe=Object.prototype,doe=uoe.hasOwnProperty;function Fq(t,e,r){var n=t[e];(!(doe.call(t,e)&&Rq(n,r))||r===void 0&&!(e in t))&&Lq(t,e,r)}function bv(t,e,r,n){var a=!r;r||(r={});for(var s=-1,i=e.length;++s<i;){var l=e[s],c=void 0;c===void 0&&(c=t[l]),a?Lq(r,l,c):Fq(r,l,c)}return r}function foe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var moe="[object Arguments]";function d_(t){return cl(t)&&ll(t)==moe}var Bq=Object.prototype,hoe=Bq.hasOwnProperty,poe=Bq.propertyIsEnumerable,goe=d_(function(){return arguments}())?d_:function(t){return cl(t)&&hoe.call(t,"callee")&&!poe.call(t,"callee")},$m=Array.isArray;function yoe(){return!1}var qq=typeof pn=="object"&&pn&&!pn.nodeType&&pn,f_=qq&&typeof gn=="object"&&gn&&!gn.nodeType&&gn,boe=f_&&f_.exports===qq,m_=boe?qa.Buffer:void 0,xoe=m_?m_.isBuffer:void 0,Vq=xoe||yoe,voe=9007199254740991,joe=/^(?:0|[1-9]\d*)$/;function woe(t,e){var r=typeof t;return e=e??voe,!!e&&(r=="number"||r!="symbol"&&joe.test(t))&&t>-1&&t%1==0&&t<e}var Coe=9007199254740991;function Uq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Coe}var Noe="[object Arguments]",Soe="[object Array]",Aoe="[object Boolean]",Toe="[object Date]",koe="[object Error]",Ioe="[object Function]",Ooe="[object Map]",Eoe="[object Number]",Poe="[object Object]",Doe="[object RegExp]",_oe="[object Set]",$oe="[object String]",Roe="[object WeakMap]",Moe="[object ArrayBuffer]",Loe="[object DataView]",Foe="[object Float32Array]",Boe="[object Float64Array]",qoe="[object Int8Array]",Voe="[object Int16Array]",Uoe="[object Int32Array]",zoe="[object Uint8Array]",Woe="[object Uint8ClampedArray]",Hoe="[object Uint16Array]",Goe="[object Uint32Array]",wt={};wt[Foe]=wt[Boe]=wt[qoe]=wt[Voe]=wt[Uoe]=wt[zoe]=wt[Woe]=wt[Hoe]=wt[Goe]=!0;wt[Noe]=wt[Soe]=wt[Moe]=wt[Aoe]=wt[Loe]=wt[Toe]=wt[koe]=wt[Ioe]=wt[Ooe]=wt[Eoe]=wt[Poe]=wt[Doe]=wt[_oe]=wt[$oe]=wt[Roe]=!1;function Yoe(t){return cl(t)&&Uq(t.length)&&!!wt[ll(t)]}function rI(t){return function(e){return t(e)}}var zq=typeof pn=="object"&&pn&&!pn.nodeType&&pn,Ed=zq&&typeof gn=="object"&&gn&&!gn.nodeType&&gn,Koe=Ed&&Ed.exports===zq,q1=Koe&&Pq.process,Tc=function(){try{var t=Ed&&Ed.require&&Ed.require("util").types;return t||q1&&q1.binding&&q1.binding("util")}catch{}}(),h_=Tc&&Tc.isTypedArray,Xoe=h_?rI(h_):Yoe,Joe=Object.prototype,Qoe=Joe.hasOwnProperty;function Wq(t,e){var r=$m(t),n=!r&&goe(t),a=!r&&!n&&Vq(t),s=!r&&!n&&!a&&Xoe(t),i=r||n||a||s,l=i?foe(t.length,String):[],c=l.length;for(var u in t)(e||Qoe.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||woe(u,c)))&&l.push(u);return l}var Zoe=Object.prototype;function nI(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Zoe;return t===r}var eie=_q(Object.keys,Object),tie=Object.prototype,rie=tie.hasOwnProperty;function nie(t){if(!nI(t))return eie(t);var e=[];for(var r in Object(t))rie.call(t,r)&&r!="constructor"&&e.push(r);return e}function Hq(t){return t!=null&&Uq(t.length)&&!Mq(t)}function aI(t){return Hq(t)?Wq(t):nie(t)}function aie(t,e){return t&&bv(e,aI(e),t)}function sie(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var oie=Object.prototype,iie=oie.hasOwnProperty;function lie(t){if(!_m(t))return sie(t);var e=nI(t),r=[];for(var n in t)n=="constructor"&&(e||!iie.call(t,n))||r.push(n);return r}function sI(t){return Hq(t)?Wq(t,!0):lie(t)}function cie(t,e){return t&&bv(e,sI(e),t)}var Gq=typeof pn=="object"&&pn&&!pn.nodeType&&pn,p_=Gq&&typeof gn=="object"&&gn&&!gn.nodeType&&gn,uie=p_&&p_.exports===Gq,g_=uie?qa.Buffer:void 0,y_=g_?g_.allocUnsafe:void 0;function die(t,e){if(e)return t.slice();var r=t.length,n=y_?y_(r):new t.constructor(r);return t.copy(n),n}function Yq(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function fie(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}function Kq(){return[]}var mie=Object.prototype,hie=mie.propertyIsEnumerable,b_=Object.getOwnPropertySymbols,oI=b_?function(t){return t==null?[]:(t=Object(t),fie(b_(t),function(e){return hie.call(t,e)}))}:Kq;function pie(t,e){return bv(t,oI(t),e)}function Xq(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var gie=Object.getOwnPropertySymbols,Jq=gie?function(t){for(var e=[];t;)Xq(e,oI(t)),t=tI(t);return e}:Kq;function yie(t,e){return bv(t,Jq(t),e)}function Qq(t,e,r){var n=e(t);return $m(t)?n:Xq(n,r(t))}function bie(t){return Qq(t,aI,oI)}function xie(t){return Qq(t,sI,Jq)}var KS=dl(qa,"DataView"),XS=dl(qa,"Promise"),JS=dl(qa,"Set"),QS=dl(qa,"WeakMap"),x_="[object Map]",vie="[object Object]",v_="[object Promise]",j_="[object Set]",w_="[object WeakMap]",C_="[object DataView]",jie=ul(KS),wie=ul(Ef),Cie=ul(XS),Nie=ul(JS),Sie=ul(QS),rs=ll;(KS&&rs(new KS(new ArrayBuffer(1)))!=C_||Ef&&rs(new Ef)!=x_||XS&&rs(XS.resolve())!=v_||JS&&rs(new JS)!=j_||QS&&rs(new QS)!=w_)&&(rs=function(t){var e=ll(t),r=e==vie?t.constructor:void 0,n=r?ul(r):"";if(n)switch(n){case jie:return C_;case wie:return x_;case Cie:return v_;case Nie:return j_;case Sie:return w_}return e});var Aie=Object.prototype,Tie=Aie.hasOwnProperty;function kie(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Tie.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var N_=qa.Uint8Array;function iI(t){var e=new t.constructor(t.byteLength);return new N_(e).set(new N_(t)),e}function Iie(t,e){var r=e?iI(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Oie=/\w*$/;function Eie(t){var e=new t.constructor(t.source,Oie.exec(t));return e.lastIndex=t.lastIndex,e}var S_=Po?Po.prototype:void 0,A_=S_?S_.valueOf:void 0;function Pie(t){return A_?Object(A_.call(t)):{}}function Die(t,e){var r=e?iI(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var _ie="[object Boolean]",$ie="[object Date]",Rie="[object Map]",Mie="[object Number]",Lie="[object RegExp]",Fie="[object Set]",Bie="[object String]",qie="[object Symbol]",Vie="[object ArrayBuffer]",Uie="[object DataView]",zie="[object Float32Array]",Wie="[object Float64Array]",Hie="[object Int8Array]",Gie="[object Int16Array]",Yie="[object Int32Array]",Kie="[object Uint8Array]",Xie="[object Uint8ClampedArray]",Jie="[object Uint16Array]",Qie="[object Uint32Array]";function Zie(t,e,r){var n=t.constructor;switch(e){case Vie:return iI(t);case _ie:case $ie:return new n(+t);case Uie:return Iie(t,r);case zie:case Wie:case Hie:case Gie:case Yie:case Kie:case Xie:case Jie:case Qie:return Die(t,r);case Rie:return new n;case Mie:case Bie:return new n(t);case Lie:return Eie(t);case Fie:return new n;case qie:return Pie(t)}}var T_=Object.create,ele=function(){function t(){}return function(e){if(!_m(e))return{};if(T_)return T_(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function tle(t){return typeof t.constructor=="function"&&!nI(t)?ele(tI(t)):{}}var rle="[object Map]";function nle(t){return cl(t)&&rs(t)==rle}var k_=Tc&&Tc.isMap,ale=k_?rI(k_):nle,sle="[object Set]";function ole(t){return cl(t)&&rs(t)==sle}var I_=Tc&&Tc.isSet,ile=I_?rI(I_):ole,lle=1,cle=2,ule=4,Zq="[object Arguments]",dle="[object Array]",fle="[object Boolean]",mle="[object Date]",hle="[object Error]",e6="[object Function]",ple="[object GeneratorFunction]",gle="[object Map]",yle="[object Number]",t6="[object Object]",ble="[object RegExp]",xle="[object Set]",vle="[object String]",jle="[object Symbol]",wle="[object WeakMap]",Cle="[object ArrayBuffer]",Nle="[object DataView]",Sle="[object Float32Array]",Ale="[object Float64Array]",Tle="[object Int8Array]",kle="[object Int16Array]",Ile="[object Int32Array]",Ole="[object Uint8Array]",Ele="[object Uint8ClampedArray]",Ple="[object Uint16Array]",Dle="[object Uint32Array]",pt={};pt[Zq]=pt[dle]=pt[Cle]=pt[Nle]=pt[fle]=pt[mle]=pt[Sle]=pt[Ale]=pt[Tle]=pt[kle]=pt[Ile]=pt[gle]=pt[yle]=pt[t6]=pt[ble]=pt[xle]=pt[vle]=pt[jle]=pt[Ole]=pt[Ele]=pt[Ple]=pt[Dle]=!0;pt[hle]=pt[e6]=pt[wle]=!1;function Pd(t,e,r,n,a,s){var i,l=e&lle,c=e&cle,u=e&ule;if(i!==void 0)return i;if(!_m(t))return t;var d=$m(t);if(d){if(i=kie(t),!l)return Yq(t,i)}else{var f=rs(t),m=f==e6||f==ple;if(Vq(t))return die(t,l);if(f==t6||f==Zq||m&&!a){if(i=c||m?{}:tle(t),!l)return c?yie(t,cie(i,t)):pie(t,aie(i,t))}else{if(!pt[f])return a?t:{};i=Zie(t,f,l)}}s||(s=new nu);var h=s.get(t);if(h)return h;s.set(t,i),ile(t)?t.forEach(function(y){i.add(Pd(y,e,r,y,t,s))}):ale(t)&&t.forEach(function(y,x){i.set(x,Pd(y,e,r,x,t,s))});var p=u?c?xie:bie:c?sI:aI,g=d?void 0:p(t);return coe(g||t,function(y,x){g&&(x=y,y=t[x]),Fq(i,x,Pd(y,e,r,x,t,s))}),i}var _le=1,$le=4;function ud(t){return Pd(t,_le|$le)}var O_=Array.isArray,E_=Object.keys,Rle=Object.prototype.hasOwnProperty,Mle=typeof Element<"u";function ZS(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=O_(t),n=O_(e),a,s,i;if(r&&n){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!ZS(t[a],e[a]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=E_(t);if(s=f.length,s!==E_(e).length)return!1;for(a=s;a--!==0;)if(!Rle.call(e,f[a]))return!1;if(Mle&&t instanceof Element&&e instanceof Element)return t===e;for(a=s;a--!==0;)if(i=f[a],!(i==="_owner"&&t.$$typeof)&&!ZS(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var Lle=function(e,r){try{return ZS(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Js=Ze(Lle);var Fle=4;function P_(t){return Pd(t,Fle)}function r6(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Ble="[object Symbol]";function lI(t){return typeof t=="symbol"||cl(t)&&ll(t)==Ble}var qle="Expected a function";function cI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qle);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(cI.Cache||Vo),r}cI.Cache=Vo;var Vle=500;function Ule(t){var e=cI(t,function(n){return r.size===Vle&&r.clear(),n}),r=e.cache;return e}var zle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wle=/\\(\\)?/g,Hle=Ule(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zle,function(r,n,a,s){e.push(a?s.replace(Wle,"$1"):n||r)}),e});function Gle(t){if(typeof t=="string"||lI(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var D_=Po?Po.prototype:void 0,__=D_?D_.toString:void 0;function n6(t){if(typeof t=="string")return t;if($m(t))return r6(t,n6)+"";if(lI(t))return __?__.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Yle(t){return t==null?"":n6(t)}function a6(t){return $m(t)?r6(t,Gle):lI(t)?[t]:Yq(Hle(Yle(t)))}var s6={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr=typeof Symbol=="function"&&Symbol.for,uI=mr?Symbol.for("react.element"):60103,dI=mr?Symbol.for("react.portal"):60106,xv=mr?Symbol.for("react.fragment"):60107,vv=mr?Symbol.for("react.strict_mode"):60108,jv=mr?Symbol.for("react.profiler"):60114,wv=mr?Symbol.for("react.provider"):60109,Cv=mr?Symbol.for("react.context"):60110,fI=mr?Symbol.for("react.async_mode"):60111,Nv=mr?Symbol.for("react.concurrent_mode"):60111,Sv=mr?Symbol.for("react.forward_ref"):60112,Av=mr?Symbol.for("react.suspense"):60113,Kle=mr?Symbol.for("react.suspense_list"):60120,Tv=mr?Symbol.for("react.memo"):60115,kv=mr?Symbol.for("react.lazy"):60116,Xle=mr?Symbol.for("react.block"):60121,Jle=mr?Symbol.for("react.fundamental"):60117,Qle=mr?Symbol.for("react.responder"):60118,Zle=mr?Symbol.for("react.scope"):60119;function Tn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case uI:switch(t=t.type,t){case fI:case Nv:case xv:case jv:case vv:case Av:return t;default:switch(t=t&&t.$$typeof,t){case Cv:case Sv:case kv:case Tv:case wv:return t;default:return e}}case dI:return e}}}function o6(t){return Tn(t)===Nv}ct.AsyncMode=fI;ct.ConcurrentMode=Nv;ct.ContextConsumer=Cv;ct.ContextProvider=wv;ct.Element=uI;ct.ForwardRef=Sv;ct.Fragment=xv;ct.Lazy=kv;ct.Memo=Tv;ct.Portal=dI;ct.Profiler=jv;ct.StrictMode=vv;ct.Suspense=Av;ct.isAsyncMode=function(t){return o6(t)||Tn(t)===fI};ct.isConcurrentMode=o6;ct.isContextConsumer=function(t){return Tn(t)===Cv};ct.isContextProvider=function(t){return Tn(t)===wv};ct.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===uI};ct.isForwardRef=function(t){return Tn(t)===Sv};ct.isFragment=function(t){return Tn(t)===xv};ct.isLazy=function(t){return Tn(t)===kv};ct.isMemo=function(t){return Tn(t)===Tv};ct.isPortal=function(t){return Tn(t)===dI};ct.isProfiler=function(t){return Tn(t)===jv};ct.isStrictMode=function(t){return Tn(t)===vv};ct.isSuspense=function(t){return Tn(t)===Av};ct.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xv||t===Nv||t===jv||t===vv||t===Av||t===Kle||typeof t=="object"&&t!==null&&(t.$$typeof===kv||t.$$typeof===Tv||t.$$typeof===wv||t.$$typeof===Cv||t.$$typeof===Sv||t.$$typeof===Jle||t.$$typeof===Qle||t.$$typeof===Zle||t.$$typeof===Xle)};ct.typeOf=Tn;s6.exports=ct;var ece=s6.exports,mI=ece,tce={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rce={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hI={};hI[mI.ForwardRef]=nce;hI[mI.Memo]=i6;function $_(t){return mI.isMemo(t)?i6:hI[t.$$typeof]||tce}var ace=Object.defineProperty,sce=Object.getOwnPropertyNames,R_=Object.getOwnPropertySymbols,oce=Object.getOwnPropertyDescriptor,ice=Object.getPrototypeOf,M_=Object.prototype;function l6(t,e,r){if(typeof e!="string"){if(M_){var n=ice(e);n&&n!==M_&&l6(t,n,r)}var a=sce(e);R_&&(a=a.concat(R_(e)));for(var s=$_(t),i=$_(e),l=0;l<a.length;++l){var c=a[l];if(!rce[c]&&!(r&&r[c])&&!(i&&i[c])&&!(s&&s[c])){var u=oce(e,c);try{ace(t,c,u)}catch{}}}}return t}var lce=l6;const cce=Ze(lce);function Ft(){return Ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ft.apply(this,arguments)}function uce(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function pI(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function L_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Iv=v.createContext(void 0);Iv.displayName="FormikContext";var gI=Iv.Provider,dce=Iv.Consumer;function c6(){var t=v.useContext(Iv);return t}var F_=function(e){return Array.isArray(e)&&e.length===0},zr=function(e){return typeof e=="function"},Rm=function(e){return e!==null&&typeof e=="object"},fce=function(e){return String(Math.floor(Number(e)))===e},V1=function(e){return Object.prototype.toString.call(e)==="[object String]"},u6=function(e){return v.Children.count(e)===0},U1=function(e){return Rm(e)&&zr(e.then)};function lr(t,e,r,n){n===void 0&&(n=0);for(var a=a6(e);t&&n<a.length;)t=t[a[n++]];return n!==a.length&&!t||t===void 0?r:t}function Pa(t,e,r){for(var n=P_(t),a=n,s=0,i=a6(e);s<i.length-1;s++){var l=i[s],c=lr(t,i.slice(0,s+1));if(c&&(Rm(c)||Array.isArray(c)))a=a[l]=P_(c);else{var u=i[s+1];a=a[l]=fce(u)&&Number(u)>=0?[]:{}}}return(s===0?t:a)[i[s]]===r?t:(r===void 0?delete a[i[s]]:a[i[s]]=r,s===0&&r===void 0&&delete n[i[s]],n)}function d6(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var a=0,s=Object.keys(t);a<s.length;a++){var i=s[a],l=t[i];Rm(l)?r.get(l)||(r.set(l,!0),n[i]=Array.isArray(l)?[]:{},d6(l,e,r,n[i])):n[i]=e}return n}function mce(t,e){switch(e.type){case"SET_VALUES":return Ft({},t,{values:e.payload});case"SET_TOUCHED":return Ft({},t,{touched:e.payload});case"SET_ERRORS":return Js(t.errors,e.payload)?t:Ft({},t,{errors:e.payload});case"SET_STATUS":return Ft({},t,{status:e.payload});case"SET_ISSUBMITTING":return Ft({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Ft({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Ft({},t,{values:Pa(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Ft({},t,{touched:Pa(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Ft({},t,{errors:Pa(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Ft({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Ft({},t,{touched:d6(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Ft({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Ft({},t,{isSubmitting:!1});default:return t}}var ti={},Fh={};function et(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,a=n===void 0?!0:n,s=t.validateOnMount,i=s===void 0?!1:s,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=pI(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=Ft({validateOnChange:r,validateOnBlur:a,validateOnMount:i,onSubmit:d},f),h=v.useRef(m.initialValues),p=v.useRef(m.initialErrors||ti),g=v.useRef(m.initialTouched||Fh),y=v.useRef(m.initialStatus),x=v.useRef(!1),b=v.useRef({});v.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var w=v.useState(0),S=w[1],C=v.useRef({values:ud(m.initialValues),errors:ud(m.initialErrors)||ti,touched:ud(m.initialTouched)||Fh,status:ud(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),j=C.current,N=v.useCallback(function(X){var Y=C.current;C.current=mce(Y,X),Y!==C.current&&S(function(de){return de+1})},[]),T=v.useCallback(function(X,Y){return new Promise(function(de,ue){var Ce=m.validate(X,Y);Ce==null?de(ti):U1(Ce)?Ce.then(function(De){de(De||ti)},function(De){ue(De)}):de(Ce)})},[m.validate]),k=v.useCallback(function(X,Y){var de=m.validationSchema,ue=zr(de)?de(Y):de,Ce=Y&&ue.validateAt?ue.validateAt(Y,X):pce(X,ue);return new Promise(function(De,Ue){Ce.then(function(){De(ti)},function(Lt){Lt.name==="ValidationError"?De(hce(Lt)):Ue(Lt)})})},[m.validationSchema]),E=v.useCallback(function(X,Y){return new Promise(function(de){return de(b.current[X].validate(Y))})},[]),O=v.useCallback(function(X){var Y=Object.keys(b.current).filter(function(ue){return zr(b.current[ue].validate)}),de=Y.length>0?Y.map(function(ue){return E(ue,lr(X,ue))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(de).then(function(ue){return ue.reduce(function(Ce,De,Ue){return De==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||De&&(Ce=Pa(Ce,Y[Ue],De)),Ce},{})})},[E]),P=v.useCallback(function(X){return Promise.all([O(X),m.validationSchema?k(X):{},m.validate?T(X):{}]).then(function(Y){var de=Y[0],ue=Y[1],Ce=Y[2],De=YS.all([de,ue,Ce],{arrayMerge:gce});return De})},[m.validate,m.validationSchema,O,T,k]),L=Pn(function(X){return X===void 0&&(X=j.values),N({type:"SET_ISVALIDATING",payload:!0}),P(X).then(function(Y){return x.current&&(N({type:"SET_ISVALIDATING",payload:!1}),N({type:"SET_ERRORS",payload:Y})),Y})});v.useEffect(function(){i&&x.current===!0&&Js(h.current,m.initialValues)&&L(h.current)},[i,L]);var $=v.useCallback(function(X){var Y=X&&X.values?X.values:h.current,de=X&&X.errors?X.errors:p.current?p.current:m.initialErrors||{},ue=X&&X.touched?X.touched:g.current?g.current:m.initialTouched||{},Ce=X&&X.status?X.status:y.current?y.current:m.initialStatus;h.current=Y,p.current=de,g.current=ue,y.current=Ce;var De=function(){N({type:"RESET_FORM",payload:{isSubmitting:!!X&&!!X.isSubmitting,errors:de,touched:ue,status:Ce,values:Y,isValidating:!!X&&!!X.isValidating,submitCount:X&&X.submitCount&&typeof X.submitCount=="number"?X.submitCount:0}})};if(m.onReset){var Ue=m.onReset(j.values,me);U1(Ue)?Ue.then(De):De()}else De()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);v.useEffect(function(){x.current===!0&&!Js(h.current,m.initialValues)&&u&&(h.current=m.initialValues,$(),i&&L(h.current))},[u,m.initialValues,$,i,L]),v.useEffect(function(){u&&x.current===!0&&!Js(p.current,m.initialErrors)&&(p.current=m.initialErrors||ti,N({type:"SET_ERRORS",payload:m.initialErrors||ti}))},[u,m.initialErrors]),v.useEffect(function(){u&&x.current===!0&&!Js(g.current,m.initialTouched)&&(g.current=m.initialTouched||Fh,N({type:"SET_TOUCHED",payload:m.initialTouched||Fh}))},[u,m.initialTouched]),v.useEffect(function(){u&&x.current===!0&&!Js(y.current,m.initialStatus)&&(y.current=m.initialStatus,N({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var D=Pn(function(X){if(b.current[X]&&zr(b.current[X].validate)){var Y=lr(j.values,X),de=b.current[X].validate(Y);return U1(de)?(N({type:"SET_ISVALIDATING",payload:!0}),de.then(function(ue){return ue}).then(function(ue){N({type:"SET_FIELD_ERROR",payload:{field:X,value:ue}}),N({type:"SET_ISVALIDATING",payload:!1})})):(N({type:"SET_FIELD_ERROR",payload:{field:X,value:de}}),Promise.resolve(de))}else if(m.validationSchema)return N({type:"SET_ISVALIDATING",payload:!0}),k(j.values,X).then(function(ue){return ue}).then(function(ue){N({type:"SET_FIELD_ERROR",payload:{field:X,value:lr(ue,X)}}),N({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=v.useCallback(function(X,Y){var de=Y.validate;b.current[X]={validate:de}},[]),U=v.useCallback(function(X){delete b.current[X]},[]),_=Pn(function(X,Y){N({type:"SET_TOUCHED",payload:X});var de=Y===void 0?a:Y;return de?L(j.values):Promise.resolve()}),R=v.useCallback(function(X){N({type:"SET_ERRORS",payload:X})},[]),F=Pn(function(X,Y){var de=zr(X)?X(j.values):X;N({type:"SET_VALUES",payload:de});var ue=Y===void 0?r:Y;return ue?L(de):Promise.resolve()}),G=v.useCallback(function(X,Y){N({type:"SET_FIELD_ERROR",payload:{field:X,value:Y}})},[]),W=Pn(function(X,Y,de){N({type:"SET_FIELD_VALUE",payload:{field:X,value:Y}});var ue=de===void 0?r:de;return ue?L(Pa(j.values,X,Y)):Promise.resolve()}),Z=v.useCallback(function(X,Y){var de=Y,ue=X,Ce;if(!V1(X)){X.persist&&X.persist();var De=X.target?X.target:X.currentTarget,Ue=De.type,Lt=De.name,Vs=De.id,za=De.value,Ko=De.checked;De.outerHTML;var Us=De.options,Xo=De.multiple;de=Y||Lt||Vs,ue=/number|range/.test(Ue)?(Ce=parseFloat(za),isNaN(Ce)?"":Ce):/checkbox/.test(Ue)?bce(lr(j.values,de),Ko,za):Us&&Xo?yce(Us):za}de&&W(de,ue)},[W,j.values]),fe=Pn(function(X){if(V1(X))return function(Y){return Z(Y,X)};Z(X)}),Te=Pn(function(X,Y,de){Y===void 0&&(Y=!0),N({type:"SET_FIELD_TOUCHED",payload:{field:X,value:Y}});var ue=de===void 0?a:de;return ue?L(j.values):Promise.resolve()}),ne=v.useCallback(function(X,Y){X.persist&&X.persist();var de=X.target,ue=de.name,Ce=de.id;de.outerHTML;var De=Y||ue||Ce;Te(De,!0)},[Te]),K=Pn(function(X){if(V1(X))return function(Y){return ne(Y,X)};ne(X)}),le=v.useCallback(function(X){zr(X)?N({type:"SET_FORMIK_STATE",payload:X}):N({type:"SET_FORMIK_STATE",payload:function(){return X}})},[]),J=v.useCallback(function(X){N({type:"SET_STATUS",payload:X})},[]),ee=v.useCallback(function(X){N({type:"SET_ISSUBMITTING",payload:X})},[]),H=Pn(function(){return N({type:"SUBMIT_ATTEMPT"}),L().then(function(X){var Y=X instanceof Error,de=!Y&&Object.keys(X).length===0;if(de){var ue;try{if(ue=we(),ue===void 0)return}catch(Ce){throw Ce}return Promise.resolve(ue).then(function(Ce){return x.current&&N({type:"SUBMIT_SUCCESS"}),Ce}).catch(function(Ce){if(x.current)throw N({type:"SUBMIT_FAILURE"}),Ce})}else if(x.current&&(N({type:"SUBMIT_FAILURE"}),Y))throw X})}),z=Pn(function(X){X&&X.preventDefault&&zr(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&zr(X.stopPropagation)&&X.stopPropagation(),H().catch(function(Y){console.warn("Warning: An unhandled error was caught from submitForm()",Y)})}),me={resetForm:$,validateForm:L,validateField:D,setErrors:R,setFieldError:G,setFieldTouched:Te,setFieldValue:W,setStatus:J,setSubmitting:ee,setTouched:_,setValues:F,setFormikState:le,submitForm:H},we=Pn(function(){return d(j.values,me)}),Ie=Pn(function(X){X&&X.preventDefault&&zr(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&zr(X.stopPropagation)&&X.stopPropagation(),$()}),Ne=v.useCallback(function(X){return{value:lr(j.values,X),error:lr(j.errors,X),touched:!!lr(j.touched,X),initialValue:lr(h.current,X),initialTouched:!!lr(g.current,X),initialError:lr(p.current,X)}},[j.errors,j.touched,j.values]),ir=v.useCallback(function(X){return{setValue:function(de,ue){return W(X,de,ue)},setTouched:function(de,ue){return Te(X,de,ue)},setError:function(de){return G(X,de)}}},[W,Te,G]),kn=v.useCallback(function(X){var Y=Rm(X),de=Y?X.name:X,ue=lr(j.values,de),Ce={name:de,value:ue,onChange:fe,onBlur:K};if(Y){var De=X.type,Ue=X.value,Lt=X.as,Vs=X.multiple;De==="checkbox"?Ue===void 0?Ce.checked=!!ue:(Ce.checked=!!(Array.isArray(ue)&&~ue.indexOf(Ue)),Ce.value=Ue):De==="radio"?(Ce.checked=ue===Ue,Ce.value=Ue):Lt==="select"&&Vs&&(Ce.value=Ce.value||[],Ce.multiple=!0)}return Ce},[K,fe,j.values]),In=v.useMemo(function(){return!Js(h.current,j.values)},[h.current,j.values]),qs=v.useMemo(function(){return typeof l<"u"?In?j.errors&&Object.keys(j.errors).length===0:l!==!1&&zr(l)?l(m):l:j.errors&&Object.keys(j.errors).length===0},[l,In,j.errors,m]),On=Ft({},j,{initialValues:h.current,initialErrors:p.current,initialTouched:g.current,initialStatus:y.current,handleBlur:K,handleChange:fe,handleReset:Ie,handleSubmit:z,resetForm:$,setErrors:R,setFormikState:le,setFieldTouched:Te,setFieldValue:W,setFieldError:G,setStatus:J,setSubmitting:ee,setTouched:_,setValues:F,submitForm:H,validateForm:L,validateField:D,isValid:qs,dirty:In,unregisterField:U,registerField:B,getFieldProps:kn,getFieldMeta:Ne,getFieldHelpers:ir,validateOnBlur:a,validateOnChange:r,validateOnMount:i});return On}function $e(t){var e=et(t),r=t.component,n=t.children,a=t.render,s=t.innerRef;return v.useImperativeHandle(s,function(){return e}),v.createElement(gI,{value:e},r?v.createElement(r,e):a?a(e):n?zr(n)?n(e):u6(n)?null:v.Children.only(n):null)}function hce(t){var e={};if(t.inner){if(t.inner.length===0)return Pa(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),n=0,a=r?a:a[Symbol.iterator]();;){var s;if(r){if(n>=a.length)break;s=a[n++]}else{if(n=a.next(),n.done)break;s=n.value}var i=s;lr(e,i.path)||(e=Pa(e,i.path,i.message))}}return e}function pce(t,e,r,n){r===void 0&&(r=!1);var a=eA(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function eA(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(a){return Array.isArray(a)===!0||l_(a)?eA(a):a!==""?a:void 0}):l_(t[n])?e[n]=eA(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function gce(t,e,r){var n=t.slice();return e.forEach(function(s,i){if(typeof n[i]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(s);n[i]=c?YS(Array.isArray(s)?[]:{},s,r):s}else r.isMergeableObject(s)?n[i]=YS(t[i],s,r):t.indexOf(s)===-1&&n.push(s)}),n}function yce(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function bce(t,e,r){if(typeof t=="boolean")return!!e;var n=[],a=!1,s=-1;if(Array.isArray(t))n=t,s=t.indexOf(r),a=s>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?n.concat(r):a?n.slice(0,s).concat(n.slice(s+1)):n}var xce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;function Pn(t){var e=v.useRef(t);return xce(function(){e.current=t}),v.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current.apply(void 0,n)},[])}var Be=v.forwardRef(function(t,e){var r=t.action,n=pI(t,["action"]),a=r??"#",s=c6(),i=s.handleReset,l=s.handleSubmit;return v.createElement("form",Ft({onSubmit:l,ref:e,onReset:i,action:a},n))});Be.displayName="Form";function vce(t){var e=function(a){return v.createElement(dce,null,function(s){return v.createElement(t,Ft({},a,{formik:s}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",cce(e,t)}var jce=function(e,r,n){var a=Xi(e),s=a[r];return a.splice(r,1),a.splice(n,0,s),a},wce=function(e,r,n){var a=Xi(e),s=a[r];return a[r]=a[n],a[n]=s,a},z1=function(e,r,n){var a=Xi(e);return a.splice(r,0,n),a},Cce=function(e,r,n){var a=Xi(e);return a[r]=n,a},Xi=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,a){return a>n?a:n},0);return Array.from(Ft({},e,{length:r+1}))}else return[]},B_=function(e,r){var n=typeof e=="function"?e:r;return function(a){if(Array.isArray(a)||Rm(a)){var s=Xi(a);return n(s)}return a}},f6=function(t){uce(e,t);function e(n){var a;return a=t.call(this,n)||this,a.updateArrayField=function(s,i,l){var c=a.props,u=c.name,d=c.formik.setFormikState;d(function(f){var m=B_(l,s),h=B_(i,s),p=Pa(f.values,u,s(lr(f.values,u))),g=l?m(lr(f.errors,u)):void 0,y=i?h(lr(f.touched,u)):void 0;return F_(g)&&(g=void 0),F_(y)&&(y=void 0),Ft({},f,{values:p,errors:l?Pa(f.errors,u,g):f.errors,touched:i?Pa(f.touched,u,y):f.touched})})},a.push=function(s){return a.updateArrayField(function(i){return[].concat(Xi(i),[ud(s)])},!1,!1)},a.handlePush=function(s){return function(){return a.push(s)}},a.swap=function(s,i){return a.updateArrayField(function(l){return wce(l,s,i)},!0,!0)},a.handleSwap=function(s,i){return function(){return a.swap(s,i)}},a.move=function(s,i){return a.updateArrayField(function(l){return jce(l,s,i)},!0,!0)},a.handleMove=function(s,i){return function(){return a.move(s,i)}},a.insert=function(s,i){return a.updateArrayField(function(l){return z1(l,s,i)},function(l){return z1(l,s,null)},function(l){return z1(l,s,null)})},a.handleInsert=function(s,i){return function(){return a.insert(s,i)}},a.replace=function(s,i){return a.updateArrayField(function(l){return Cce(l,s,i)},!1,!1)},a.handleReplace=function(s,i){return function(){return a.replace(s,i)}},a.unshift=function(s){var i=-1;return a.updateArrayField(function(l){var c=l?[s].concat(l):[s];return i=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),i},a.handleUnshift=function(s){return function(){return a.unshift(s)}},a.handleRemove=function(s){return function(){return a.remove(s)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(L_(a)),a.pop=a.pop.bind(L_(a)),a}var r=e.prototype;return r.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Js(lr(a.formik.values,a.name),lr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(a){var s;return this.updateArrayField(function(i){var l=i?Xi(i):[];return s||(s=l[a]),zr(l.splice)&&l.splice(a,1),zr(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),s},r.pop=function(){var a;return this.updateArrayField(function(s){var i=s.slice();return a||(a=i&&i.pop&&i.pop()),i},!0,!0),a},r.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,i=s.component,l=s.render,c=s.children,u=s.name,d=s.formik,f=pI(d,["validate","validationSchema"]),m=Ft({},a,{form:f,name:u});return i?v.createElement(i,m):l?l(m):c?typeof c=="function"?c(m):u6(c)?null:v.Children.only(c):null},e}(v.Component);f6.defaultProps={validateOnChange:!0};var Kr=vce(f6);function fl(t){this._maxSize=t,this.clear()}fl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};fl.prototype.get=function(t){return this._values[t]};fl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Nce=/[^.^\]^[]+|(?=\[\]|\.\.)/g,m6=/^\d+$/,Sce=/^\d/,Ace=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Tce=/^\s*(['"]?)(.*?)(\1)\s*$/,yI=512,q_=new fl(yI),V_=new fl(yI),U_=new fl(yI),Oi={Cache:fl,split:tA,normalizePath:W1,setter:function(t){var e=W1(t);return V_.get(t)||V_.set(t,function(n,a){for(var s=0,i=e.length,l=n;s<i-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[s++]]}l[e[s]]=a})},getter:function(t,e){var r=W1(t);return U_.get(t)||U_.set(t,function(a){for(var s=0,i=r.length;s<i;)if(a!=null||!e)a=a[r[s++]];else return;return a})},join:function(t){return t.reduce(function(e,r){return e+(bI(r)||m6.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){kce(Array.isArray(t)?t:tA(t),e,r)}};function W1(t){return q_.get(t)||q_.set(t,tA(t).map(function(e){return e.replace(Tce,"$2")}))}function tA(t){return t.match(Nce)||[""]}function kce(t,e,r){var n=t.length,a,s,i,l;for(s=0;s<n;s++)a=t[s],a&&(Ece(a)&&(a='"'+a+'"'),l=bI(a),i=!l&&/^\d+$/.test(a),e.call(r,a,l,i,s,t))}function bI(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Ice(t){return t.match(Sce)&&!t.match(m6)}function Oce(t){return Ace.test(t)}function Ece(t){return!bI(t)&&(Ice(t)||Oce(t))}const Pce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Ov=t=>t.match(Pce)||[],Ev=t=>t[0].toUpperCase()+t.slice(1),xI=(t,e)=>Ov(t).join(e).toLowerCase(),h6=t=>Ov(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Dce=t=>Ev(h6(t)),_ce=t=>xI(t,"_"),$ce=t=>xI(t,"-"),Rce=t=>Ev(xI(t," ")),Mce=t=>Ov(t).map(Ev).join(" ");var H1={words:Ov,upperFirst:Ev,camelCase:h6,pascalCase:Dce,snakeCase:_ce,kebabCase:$ce,sentenceCase:Rce,titleCase:Mce},vI={exports:{}};vI.exports=function(t){return p6(Lce(t),t)};vI.exports.array=p6;function p6(t,e){var r=t.length,n=new Array(r),a={},s=r,i=Fce(e),l=Bce(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(t[s],s,new Set);return n;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[d]){a[d]=!0;var h=i.get(u)||new Set;if(h=Array.from(h),d=h.length){f.add(u);do{var p=h[--d];c(p,l.get(p),f)}while(d);f.delete(u)}n[--r]=u}}}function Lce(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var a=t[r];e.add(a[0]),e.add(a[1])}return Array.from(e)}function Fce(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var a=t[r];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function Bce(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var qce=vI.exports;const Vce=Ze(qce),Uce=Object.prototype.toString,zce=Error.prototype.toString,Wce=RegExp.prototype.toString,Hce=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Gce=/^Symbol\((.*)\)(.*)$/;function Yce(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function z_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return Yce(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Hce.call(t).replace(Gce,"Symbol($1)");const n=Uce.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+zce.call(t)+"]":n==="RegExp"?Wce.call(t):null}function hs(t,e){let r=z_(t,e);return r!==null?r:JSON.stringify(t,function(n,a){let s=z_(this[n],e);return s!==null?s:a},2)}function g6(t){return t==null?[]:[].concat(t)}let y6,b6,x6,Kce=/\$\{\s*(\w+)\s*\}/g;y6=Symbol.toStringTag;class W_{constructor(e,r,n,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[y6]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],g6(e).forEach(s=>{if(Hr.isError(s)){this.errors.push(...s.errors);const i=s.inner.length?s.inner:[s];this.inner.push(...i)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}b6=Symbol.hasInstance;x6=Symbol.toStringTag;class Hr extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(Kce,(a,s)=>hs(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,a,s){const i=new W_(e,r,n,a);if(s)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[x6]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Hr)}static[b6](e){return W_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ca={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const a=n!=null&&n!==r?` (cast from the value \`${hs(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${hs(r,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${hs(r,!0)}\``+a}},Ur={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Gs={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},rA={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},nA={isValue:"${path} field must be ${value}"},Mp={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Lp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Xce={notType:t=>{const{path:e,value:r,spec:n}=t,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${r.length} for value: \`${hs(r,!0)}\``;if(r.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${r.length} for value: \`${hs(r,!0)}\``}return Hr.formatError(Ca.notType,t)}};Object.assign(Object.create(null),{mixed:Ca,string:Ur,number:Gs,date:rA,object:Mp,array:Lp,boolean:nA,tuple:Xce});const Pv=t=>t&&t.__isYupSchema__;class A0{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,i=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new A0(e,(l,c)=>{var u;let d=i(...l)?a:s;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn(n,e,r);if(a===void 0||a===e)return e;if(!Pv(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}const Bh={context:"$",value:"."};function Df(t,e){return new Uo(t,e)}class Uo{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Bh.context,this.isValue=this.key[0]===Bh.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Bh.context:this.isValue?Bh.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Oi.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let a=this.isContext?n:this.isValue?e:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Uo.prototype.__isYupRef=!0;const ia=t=>t==null;function Cl(t){function e({value:r,path:n="",options:a,originalValue:s,schema:i},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:h}=t;let{parent:p,context:g,abortEarly:y=i.spec.abortEarly,disableStackTrace:x=i.spec.disableStackTrace}=a;function b(O){return Uo.isRef(O)?O.getValue(r,p,g):O}function w(O={}){const P=Object.assign({value:r,originalValue:s,label:i.spec.label,path:O.path||n,spec:i.spec,disableStackTrace:O.disableStackTrace||x},f,O.params);for(const $ of Object.keys(P))P[$]=b(P[$]);const L=new Hr(Hr.formatError(O.message||m,P),r,P.path,O.type||u,P.disableStackTrace);return L.params=P,L}const S=y?l:c;let C={path:n,parent:p,type:u,from:a.from,createError:w,resolve:b,options:a,originalValue:s,schema:i};const j=O=>{Hr.isError(O)?S(O):O?c(null):S(w())},N=O=>{Hr.isError(O)?S(O):l(O)};if(h&&ia(r))return j(!0);let k;try{var E;if(k=d.call(C,r,C),typeof((E=k)==null?void 0:E.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(k).then(j,N)}}catch(O){N(O);return}j(k)}return e.OPTIONS=t,e}function Jce(t,e,r,n=r){let a,s,i;return e?(Oi.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:a,value:r});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);a=r,r=r&&r[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);a=r,r=r&&r[d],t=t.fields[d]}s=d,i=c?"["+l+"]":"."+l}),{schema:t,parent:a,parentPath:s}):{parent:a,parentPath:e,schema:t}}class T0 extends Set{describe(){const e=[];for(const r of this.values())e.push(Uo.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new T0(this.values())}merge(e,r){const n=this.clone();return e.forEach(a=>n.add(a)),r.forEach(a=>n.delete(a)),n}}function ql(t,e=new Map){if(Pv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=ql(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,a]of t.entries())r.set(n,ql(a,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(ql(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,a]of Object.entries(t))r[n]=ql(a,e)}else throw Error(`Unable to clone ${t}`);return r}class Cn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new T0,this._blacklist=new T0,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ca.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=ql(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const a=Object.assign({},r.spec,n.spec);return n.spec=a,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,a,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),a=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(a&&ia(s))return s;let i=hs(e),l=hs(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((a,s)=>s.call(this,a,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,a){let{path:s,originalValue:i=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:c,originalValue:i,options:r,tests:u},n,d=>{if(d.length)return a(d,c);this.runTests({path:s,value:c,originalValue:i,options:r,tests:this.tests},n,a)})}runTests(e,r,n){let a=!1,{tests:s,value:i,originalValue:l,path:c,options:u}=e,d=g=>{a||(a=!0,r(g,i))},f=g=>{a||(a=!0,n(g,i))},m=s.length,h=[];if(!m)return f([]);let p={value:i,originalValue:l,path:c,options:u,schema:this};for(let g=0;g<s.length;g++){const y=s[g];y(p,d,function(b){b&&(Array.isArray(b)?h.push(...b):h.push(b)),--m<=0&&f(h)})}}asNestedTest({key:e,index:r,parent:n,parentPath:a,originalParent:s,options:i}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:s[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${a||""}[${c?l:`"${l}"`}]`:(a?`${a}.`:"")+e});return(f,m,h)=>this.resolve(d)._validate(u,d,m,h)}validate(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return new Promise((i,l)=>a._validate(e,r,(c,u)=>{Hr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Hr(c,u,void 0,void 0,s)):i(u)}))}validateSync(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s,i=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw Hr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Hr(l,e,void 0,void 0,i);s=c}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Hr.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Hr.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):ql(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Cl({message:r,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Cl({message:r,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Ca.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ca.notNull){return this.nullability(!1,e)}required(e=Ca.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Ca.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=Cl(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(s||i.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),a=g6(e).map(s=>new Uo(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new A0(a,r):A0.fromOptions(a,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Cl({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Ca.oneOf){let n=this.clone();return e.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n.internalTests.whiteList=Cl({message:r,name:"oneOf",skipAbsent:!0,test(a){let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(a)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:i}})}}),n}notOneOf(e,r=Ca.notOneOf){let n=this.clone();return e.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n.internalTests.blacklist=Cl({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(a)?this.createError({params:{values:Array.from(s).join(", "),resolved:i}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:a,optional:s,nullable:i}=r.spec;return{meta:a,label:n,optional:s,nullable:i,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,d)=>d.findIndex(f=>f.name===c.name)===u)}}}Cn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Cn.prototype[`${t}At`]=function(e,r,n={}){const{parent:a,parentPath:s,schema:i}=Jce(this,e,r,n.context);return i[t](a&&a[s],Object.assign({},n,{parent:a,path:e}))};for(const t of["equals","is"])Cn.prototype[t]=Cn.prototype.oneOf;for(const t of["not","nope"])Cn.prototype[t]=Cn.prototype.notOneOf;function Ji(){return new v6}class v6 extends Cn{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=nA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return ia(r)||r===!0}})}isFalse(e=nA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return ia(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Ji.prototype=v6.prototype;const Qce=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Zce(t){const e=aA(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function aA(t){var e,r;const n=Qce.exec(t);return n?{year:Ga(n[1]),month:Ga(n[2],1)-1,day:Ga(n[3],1),hour:Ga(n[4]),minute:Ga(n[5]),second:Ga(n[6]),millisecond:n[7]?Ga(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Ga(n[10]),minuteOffset:Ga(n[11])}:null}function Ga(t,e=0){return Number(t)||e}let eue=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tue=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,rue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,nue="^\\d{4}-\\d{2}-\\d{2}",aue="\\d{2}:\\d{2}:\\d{2}",sue="(([+-]\\d{2}(:?\\d{2})?)|Z)",oue=new RegExp(`${nue}T${aue}(\\.\\d+)?${sue}$`),iue=t=>ia(t)||t===t.trim(),lue={}.toString();function I(){return new j6}class j6 extends Cn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===lue?e:a})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Ca.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=Ur.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=Ur.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=Ur.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||Ur.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&n||i.search(e)!==-1})}email(e=Ur.email){return this.matches(eue,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ur.url){return this.matches(tue,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ur.uuid){return this.matches(rue,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,a;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:a=void 0}=e:r=e),this.matches(oue,{name:"datetime",message:r||Ur.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Ur.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const i=aA(s);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||Ur.datetime_precision,params:{precision:a},skipAbsent:!0,test:s=>{if(!s||a==null)return!0;const i=aA(s);return i?i.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ur.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:iue})}lowercase(e=Ur.lowercase){return this.transform(r=>ia(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ia(r)||r===r.toLowerCase()})}uppercase(e=Ur.uppercase){return this.transform(r=>ia(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ia(r)||r===r.toUpperCase()})}}I.prototype=j6.prototype;let cue=t=>t!=+t;function te(){return new w6}class w6 extends Cn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!cue(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return n.isType(a)||a===null?a:parseFloat(a)})})}min(e,r=Gs.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=Gs.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=Gs.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=Gs.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Gs.positive){return this.moreThan(0,e)}negative(e=Gs.negative){return this.lessThan(0,e)}integer(e=Gs.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>ia(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(a=>ia(a)?a:Math[e](a))}}te.prototype=w6.prototype;let C6=new Date(""),uue=t=>Object.prototype.toString.call(t)==="[object Date]";function Re(){return new Mm}class Mm extends Cn{constructor(){super({type:"date",check(e){return uue(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=Zce(e),isNaN(e)?Mm.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Uo.isRef(e))n=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(e,r=rA.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(n)}})}max(e,r=rA.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(n)}})}}Mm.INVALID_DATE=C6;Re.prototype=Mm.prototype;Re.INVALID_DATE=C6;function due(t,e=[]){let r=[],n=new Set,a=new Set(e.map(([i,l])=>`${i}-${l}`));function s(i,l){let c=Oi.split(i)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const i of Object.keys(t)){let l=t[i];n.add(i),Uo.isRef(l)&&l.isSibling?s(l.path,i):Pv(l)&&"deps"in l&&l.deps.forEach(c=>s(c,i))}return Vce.array(Array.from(n),r).reverse()}function H_(t,e){let r=1/0;return t.some((n,a)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=a,!0}),r}function N6(t){return(e,r)=>H_(t,e)-H_(t,r)}const S6=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function Fp(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=Fp(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Fp(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Fp)}):"optional"in t?t.optional():t}const fue=(t,e)=>{const r=[...Oi.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),a=Oi.getter(Oi.join(r),!0)(t);return!!(a&&n in a)};let G_=t=>Object.prototype.toString.call(t)==="[object Object]";function Y_(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const mue=N6([]);function oe(t){return new A6(t)}class A6 extends Cn{constructor(e){super({type:"object",check(r){return G_(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=mue,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let a=super._cast(e,r);if(a===void 0)return this.getDefault(r);if(!this._typeCheck(a))return a;let s=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(a).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of l){let m=s[f],h=f in a;if(m){let p,g=a[f];u.path=(r.path?`${r.path}.`:"")+f,m=m.resolve({value:g,context:r.context,parent:c});let y=m instanceof Cn?m.spec:void 0,x=y==null?void 0:y.strict;if(y!=null&&y.strip){d=d||f in a;continue}p=!r.__validating||!x?m.cast(a[f],u):a[f],p!==void 0&&(c[f]=p)}else h&&!i&&(c[f]=a[f]);(h!==f in c||c[f]!==a[f])&&(d=!0)}return d?c:a}_validate(e,r={},n,a){let{from:s=[],originalValue:i=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:i},...s],r.__validating=!0,r.originalValue=i,super._validate(e,r,n,(c,u)=>{if(!l||!G_(u)){a(c,u);return}i=i||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||Uo.isRef(m)||d.push(m.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:u,originalValue:i,options:r},n,f=>{a(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const i=n[a];n[a]=i===void 0?s:i}return r.withMutation(a=>a.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var a;const s=this.fields[n];let i=e;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(i):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=due(e,r),n._sortErrors=N6(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let a=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),a=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),a)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Fp(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,a])=>e.includes(n)&&e.includes(a)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let a=Oi.getter(e,!0);return this.transform(s=>{if(!s)return s;let i=s;return fue(s,e)&&(i=Object.assign({},s),n||delete i[e],i[r]=a(s)),i})}json(){return this.transform(S6)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Mp.exact,test(r){if(r==null)return!0;const n=Y_(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=Mp.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=Y_(this.schema,a);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=Mp.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const a of Object.keys(r))n[e(a)]=r[a];return n})}camelCase(){return this.transformKeys(H1.camelCase)}snakeCase(){return this.transformKeys(H1.snakeCase)}constantCase(){return this.transformKeys(e=>H1.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,i]of Object.entries(r.fields)){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),n.fields[s]=i.describe(l)}return n}}oe.prototype=A6.prototype;function tn(t){return new T6(t)}class T6 extends Cn{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let a=!1;const s=n.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},r,{path:`${r.path||""}[${l}]`}));return c!==i&&(a=!0),c});return a?s:n}_validate(e,r={},n,a){var s;let i=this.innerType,l=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!i||!this._typeCheck(u)){a(c,u);return}let f=new Array(u.length);for(let h=0;h<u.length;h++){var m;f[h]=i.asNestedTest({options:r,index:h,parent:u,parentPath:r.path,originalParent:(m=r.originalValue)!=null?m:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,h=>a(h.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(S6)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!Pv(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+hs(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=Lp.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||Lp.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||Lp.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,a,s)=>!e(n,a,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var a;let s=e;(a=s)!=null&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}tn.prototype=T6.prototype;function hue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const pue=v.forwardRef(hue);function gue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const yue=v.forwardRef(gue);function bue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const xue=v.forwardRef(bue);function vue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const jue=v.forwardRef(vue);function wue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),v.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Cue=v.forwardRef(wue);function Nue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const Sue=v.forwardRef(Nue);function Aue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Tue=v.forwardRef(Aue);function kue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Iue=v.forwardRef(kue);function Oue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Eue=v.forwardRef(Oue);function ge({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:a=[],loading:s=!1,onRowClick:i=null,emptyMessage:l="No data available"}){const[c,u]=v.useState(1),[d,f]=v.useState(10),[m,h]=v.useState(""),[p,g]=v.useState({key:null,direction:"asc"}),y=Array.isArray(e)?e:[],b=[...y.filter(k=>Object.values(k).some(E=>E!=null&&E.toString().toLowerCase().includes(m.toLowerCase())))].sort((k,E)=>{if(!p.key)return 0;const O=k[p.key],P=E[p.key];return O==null?1:P==null?-1:typeof O=="string"&&typeof P=="string"?p.direction==="asc"?O.localeCompare(P):P.localeCompare(O):p.direction==="asc"?O-P:P-O}),w=Math.ceil(b.length/d),S=b.slice((c-1)*d,c*d),C=k=>{let E="asc";p.key===k&&p.direction==="asc"&&(E="desc"),g({key:k,direction:E})},j=k=>{u(k)},N=k=>{f(Number(k.target.value)),u(1)},T=k=>{h(k.target.value),u(1)};return s?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):y.length===0?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:l})]})}):o.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 overflow-hidden",children:[n&&o.jsx("div",{className:"px-4 py-3 border-b border-neutral-200 bg-neutral-50",children:o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Sue,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 sm:text-sm border-neutral-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",value:m,onChange:T})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[o.jsx("thead",{className:"bg-neutral-50",children:o.jsxs("tr",{children:[t.map(k=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",onClick:()=>k.sortable!==!1&&C(k.key),children:o.jsxs("div",{className:"flex items-center gap-1",children:[" ",o.jsx("span",{children:k.header}),k.sortable!==!1&&o.jsxs("span",{className:"flex flex-col shrink-0",children:[" ",o.jsx(xue,{className:`h-3 w-3 ${p.key===k.key&&p.direction==="asc"?"text-primary-600":"text-neutral-400"}`}),o.jsx(yue,{className:`h-3 w-3 -mt-1 ${p.key===k.key&&p.direction==="desc"?"text-primary-600":"text-neutral-400"}`})]})]})},k.key)),a.length>0&&o.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",children:o.jsx("span",{children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:S.map((k,E)=>o.jsxs("tr",{className:i?"hover:bg-neutral-50 cursor-pointer":"",onClick:i?()=>i(k):void 0,children:[t.map(O=>o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${O.className||"text-neutral-500"}`,children:O.render?O.render(k[O.key],k):k[O.key]},`${k.id||E}-${O.key}`)),typeof a=="function"?(()=>{const O=a(k);return(O==null?void 0:O.length)>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:O.map((P,L)=>o.jsx("button",{onClick:$=>{$.stopPropagation(),P.onClick(k)},className:P.className||"text-primary-600 hover:text-primary-900",title:P.title,children:P.icon?o.jsx(P.icon,{className:"h-5 w-5","aria-hidden":"true"}):P.label},L))})})():a.length>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a.map((O,P)=>o.jsx("button",{onClick:L=>{L.stopPropagation(),O.onClick(k)},className:O.className||"text-primary-600 hover:text-primary-900",title:O.title,children:O.icon?o.jsx(O.icon,{className:"h-5 w-5","aria-hidden":"true"}):O.label},P))})]},k.id||E))})]})}),r&&w>0&&o.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[o.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:Math.min((c-1)*d+1,b.length)})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(c*d,b.length)})," ","of ",o.jsx("span",{className:"font-medium",children:b.length})," results"]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),o.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:d,onChange:N,children:[5,10,25,50].map(k=>o.jsx("option",{value:k,children:k},k))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>j(c-1),disabled:c===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Pue,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>j(c+1),disabled:c===w,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Due,{className:"h-5 w-5"})})]})]})]})]})}function Pue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function Due(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function A({label:t,name:e,type:r="text",placeholder:n="",required:a=!1,disabled:s=!1,readOnly:i=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:f,error:m,touched:h,helperText:p,...g}){const y=m&&h,x=()=>{switch(r){case"textarea":return o.jsx("textarea",{id:e,name:e,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,rows:g.rows||3,className:_e("form-textarea border border-gray-300 px-4 py-2",y&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...g});case"multiselect":return o.jsx("select",{id:e,name:e,disabled:s,multiple:!0,value:u||[],onChange:b=>{const w=Array.from(b.target.selectedOptions).map(S=>S.value);d({target:{name:e,value:w}})},onBlur:f,className:_e("form-select border border-gray-300 px-4 py-2 h-auto",y&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...g,children:c.map(b=>o.jsx("option",{value:b.value,children:b.label},b.value))});case"select":return o.jsxs("select",{id:e,name:e,disabled:s,value:u,onChange:d,onBlur:f,className:_e("form-select border border-gray-300 px-4 py-2",y&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...g,children:[o.jsx("option",{value:"",children:g.defaultOption||"Select"}),c.map(b=>o.jsx("option",{value:b.value,children:b.label},b.value))]});case"checkbox":return o.jsx("div",{className:"flex items-center h-full",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:e,name:e,type:"checkbox",disabled:s,checked:u,onChange:d,onBlur:f,className:_e("form-checkbox",y&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...g}),o.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return o.jsx("div",{className:"space-y-2",children:c.map(b=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:`${e}-${b.value}`,name:e,type:"radio",value:b.value,disabled:s,checked:u===b.value,onChange:d,onBlur:f,className:_e("form-radio ",y&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...g}),o.jsx("label",{htmlFor:`${e}-${b.value}`,className:"ml-2 block text-sm text-neutral-700",children:b.label})]},b.value))});case"date":case"number":case"email":case"password":case"text":default:return o.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:_e("form-input border border-gray-300 px-4 py-2",y&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...g})}};return o.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&o.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",a&&o.jsx("span",{className:"text-error-500",children:"*"})]}),x(),y?o.jsx("div",{className:"mt-1 text-error-600 text-sm",children:m}):p?o.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:p}):null]})}function ae({isOpen:t,onClose:e,title:r,size:n="md",children:a,footer:s=null}){const i={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return o.jsx(Tp.Root,{show:t,as:v.Fragment,children:o.jsx(C1,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0",children:[o.jsx(Tp.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx(C1.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),o.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),o.jsx(Tp.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 ${i[n]}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[o.jsx(C1.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),o.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(a3,{className:"h-6 w-6","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:a}),s&&o.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:s})]})})]})})})}const Dv="https://staging-engine.testthelink.online",_ue=[],$ue={departments:_ue,department:null,isLoading:!1,error:null},Cr=M("departments/fetchDepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Dv}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Bp=M("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${Dv}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),qp=M("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${Dv}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Vp=M("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${Dv}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),k6=ye({name:"departments",initialState:$ue,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(Cr.pending,e=>{e.isLoading=!0}).addCase(Cr.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(Cr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Bp.pending,e=>{e.isLoading=!0}).addCase(Bp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(Bp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(qp.pending,e=>{e.isLoading=!0}).addCase(qp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase(qp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Vp.pending,e=>{e.isLoading=!0}).addCase(Vp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Vp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:u7e,resetDepartmentState:d7e}=k6.actions,Rue=k6.reducer;function Mue(){const t=ie(),{departments:e,isLoading:r,error:n}=V(S=>S.departments),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(Cr())},[t]);const m=oe().shape({Code:I().required("Department code is required").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(S){return S?!e.some(j=>j.Code.trim().toLowerCase()===S.trim().toLowerCase()&&(!i||j.ID!==i.ID)):!0}),Name:I().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(S){return S?!e.some(j=>j.Name.trim().toLowerCase()===S.trim().toLowerCase()&&(!i||j.ID!==i.ID)):!0})}),h=()=>{l(null),s(!0)},p=S=>{l(S),s(!0)},g=S=>{f(S),u(!0)},y=()=>{d&&(t(Vp(d.ID)),u(!1),f(null))},x=(S,{resetForm:C})=>{t(i?qp({...S,ID:i.ID}):Bp(S)),s(!1),C()},b=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],w=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Departments"}),o.jsx("p",{children:"Manage LGU departments and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:b,data:e,actions:w,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Department":"Add Department",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:m,onSubmit:x,children:({values:S,errors:C,touched:j,handleChange:N,handleBlur:T,isSubmitting:k})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:S.Code,onChange:N,onBlur:T,error:C.Code,touched:j.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:S.Name,onChange:N,onBlur:T,error:C.Name,touched:j.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.departmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const _v="https://staging-engine.testthelink.online",Lue=[],Fue={currencies:Lue,currency:null,isLoading:!1,error:null},Dd=M("currencies/fetchCurrencies",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_v}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Up=M("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${_v}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),zp=M("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${_v}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Wp=M("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${_v}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),I6=ye({name:"currencies",initialState:Fue,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(Dd.pending,e=>{e.isLoading=!0}).addCase(Dd.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(Dd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Up.pending,e=>{e.isLoading=!0}).addCase(Up.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(Up.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(zp.pending,e=>{e.isLoading=!0}).addCase(zp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(zp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Wp.pending,e=>{e.isLoading=!0}).addCase(Wp.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Wp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:f7e,resetCurrencyState:m7e}=I6.actions,Bue=I6.reducer,que=oe().shape({Code:I().required("Code is required").max(10,"Code must be at most 10 characters"),Name:I().required("Name is required").max(100,"Name must be at most 100 characters")});function Vue(){const t=ie(),{currencies:e,isLoading:r,error:n}=V(w=>w.currencies),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(Dd())},[t]);const m=()=>{l(null),s(!0)},h=w=>{l(w),s(!0)},p=w=>{f(w),u(!0)},g=()=>{d&&(t(Wp(d.ID)),u(!1),f(null))},y=(w,{resetForm:S})=>{t(i?zp({...w,ID:i.ID}):Up(w)),s(!1),S()},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],b=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Currencies"}),o.jsx("p",{children:"Manage LGU currencies and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x,data:e,actions:b,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Currency":"Add Currency",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:que,onSubmit:y,children:({values:w,errors:S,touched:C,handleChange:j,handleBlur:N,isSubmitting:T})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:w.Code,onChange:j,onBlur:N,error:S.Code,touched:C.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:w.Name,onChange:j,onBlur:N,error:S.Name,touched:C.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const $v="https://staging-engine.testthelink.online",Uue=[],zue={subdepartments:Uue,subdepartment:null,isLoading:!1,error:null},wo=M("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$v}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch departments");return a.items}catch(r){return e.rejectWithValue(r.message)}}),Hp=M("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${$v}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),Gp=M("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${$v}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),Yp=M("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${$v}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),O6=ye({name:"subdepartments",initialState:zue,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(wo.pending,e=>{e.isLoading=!0}).addCase(wo.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(wo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Hp.pending,e=>{e.isLoading=!0}).addCase(Hp.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(Hp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Gp.pending,e=>{e.isLoading=!0}).addCase(Gp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(Gp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Yp.pending,e=>{e.isLoading=!0}).addCase(Yp.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Yp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:h7e,resetSubdepartmentState:p7e}=O6.actions,Wue=O6.reducer;function Hue(){const t=ie(),{subdepartments:e,isLoading:r}=V(C=>C.subdepartments||{}),{departments:n}=V(C=>C.departments),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(wo()),t(Cr())},[t]);const m=oe().shape({Code:I().required("Subdepartment code is required").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(C){if(!C||!this.parent.DepartmentID)return!0;const j=C.trim().toLowerCase();return!(e==null?void 0:e.some(T=>T.Code.trim().toLowerCase()===j&&T.DepartmentID===this.parent.DepartmentID&&(!i||T.ID!==i.ID)))}),Name:I().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(C){if(!C||!this.parent.DepartmentID)return!0;const j=C.trim().toLowerCase();return!(e==null?void 0:e.some(T=>T.Name.trim().toLowerCase()===j&&T.DepartmentID===this.parent.DepartmentID&&(!i||T.ID!==i.ID)))}),DepartmentID:te().required("Department is required")}),h=e.map(C=>{var j;return{...C,departmentName:((j=n.find(N=>N.ID===C.DepartmentID))==null?void 0:j.Name)||"N/A"}}),p=()=>{l(null),s(!0)},g=C=>{l(C),s(!0)},y=C=>{f(C),u(!0)},x=()=>{d&&(t(Yp(d.ID)),u(!1),f(null))},b=(C,{resetForm:j})=>{var k;const N=((k=n.find(E=>E.ID===Number(C.DepartmentID)))==null?void 0:k.Name)||"",T={...C,departmentName:N};t(i?Gp({...T,ID:i.ID}):Hp(T)),s(!1),j()},w=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],S=[{icon:Ae,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:y,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Subdepartments"}),o.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:w,data:h,actions:S,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Subdepartment":"Add Subdepartment",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",DepartmentID:(i==null?void 0:i.DepartmentID)||""},validationSchema:m,onSubmit:b,children:({values:C,errors:j,touched:N,handleChange:T,handleBlur:k,isSubmitting:E})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:C.Code,onChange:T,onBlur:k,error:j.Code,touched:N.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:C.Name,onChange:T,onBlur:k,error:j.Name,touched:N.Name}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Department",name:"DepartmentID",type:"select",required:!0,value:C.DepartmentID,onChange:T,onBlur:k,error:j.DepartmentID,touched:N.DepartmentID,options:n.map(O=>({value:O.ID,label:O.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:E,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.subdepartmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const Rv="https://staging-engine.testthelink.online",Gue=[],Yue={users:Gue,user:null,isLoading:!1,error:null},Kp=M("users/fetchUsers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Rv}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a.items}catch(r){return e.rejectWithValue(r.message)}}),ec=M("users/addUser",async(t,e)=>{try{const r=await fetch(`${Rv}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),tc=M("users/updateUser",async(t,e)=>{try{const r=await fetch(`${Rv}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),Xp=M("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${Rv}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),E6=ye({name:"users",initialState:Yue,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(Kp.pending,e=>{e.isLoading=!0}).addCase(Kp.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload,e.error=null}).addCase(Kp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ec.pending,e=>{e.isLoading=!0}).addCase(ec.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(ec.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(tc.pending,e=>{e.isLoading=!0}).addCase(tc.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(tc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Xp.pending,e=>{e.isLoading=!0}).addCase(Xp.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Xp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:g7e,resetUserState:y7e}=E6.actions,Kue=E6.reducer,Mv="https://staging-engine.testthelink.online",Xue=[],Jue={employees:Xue,employee:null,isLoading:!1,error:null},Un=M("employees/fetchEmployees",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Mv}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Jp=M("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${Mv}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),Qp=M("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${Mv}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Zp=M("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${Mv}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),P6=ye({name:"employees",initialState:Jue,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(Un.pending,e=>{e.isLoading=!0}).addCase(Un.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(Un.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Jp.pending,e=>{e.isLoading=!0}).addCase(Jp.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(Jp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Qp.pending,e=>{e.isLoading=!0}).addCase(Qp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(Qp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zp.pending,e=>{e.isLoading=!0}).addCase(Zp.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Zp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:b7e,resetEmployeeState:x7e}=P6.actions,Que=P6.reducer,Lv="https://staging-engine.testthelink.online",Zue=[],rc=M("userroles/fetchUserroles",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Lv}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),eg=M("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${Lv}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),sA=M("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${Lv}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),tg=M("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${Lv}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ede=ye({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(rc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rc.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(rc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=Zue}).addCase(eg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase(sA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(tg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),tde=ede.reducer,rde=oe().shape({UserName:I().required("User name is required"),UserAccessID:I().required("User Access is required"),Password:I().required("Password is required").min(6,"Password must be at least 6 characters"),ConfirmPassword:I().oneOf([Df("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:I().required("Choose Employee is required")});function nde(){const t=ie(),{users:e,isLoading:r}=V(L=>L.users),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,p]=v.useState(null),{userroles:g,isLoading:y}=V(L=>L.userroles),x=g.map(L=>({value:L.ID,label:L.Description})),{employees:b,isLoading:w}=V(L=>L.employees),S=b.map(L=>({value:L.ID,label:`${L.FirstName} ${L.LastName}`}));v.useEffect(()=>{t(Kp()),t(Un()),t(rc())},[t]);const C=()=>{i(null),a(!0)},j=L=>{i(L),a(!0)},N=L=>{d(L),c(!0)},T=()=>{u&&(t(Xp(u.ID)),c(!1),d(null))},k=async(L,{resetForm:$,setErrors:D,setSubmitting:B})=>{const U={...L};try{if(s){const _=await t(tc({...U,ID:s.ID})).unwrap();tc.fulfilled.match(_)?(a(!1),$()):tc.rejected.match(_)&&D({general:_.payload||"Failed to update user."})}else{const _=await t(ec(U)).unwrap();ec.fulfilled.match(_)?(a(!1),$()):ec.rejected.match(_)&&D({general:_.payload||"Failed to add user."})}}catch(_){console.log(_),D({general:"Unexpected error occurred."})}finally{B(!1)}},E=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessValue",header:"User Access",sortable:!0}],O=[{icon:Ae,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:N,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],P=e.map(L=>{var $;return{...L,UserAccessValue:($=g.find(D=>D.ID===L.UserAccessID))==null?void 0:$.Description}});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Users"}),o.jsx("p",{children:"Manage system users and their access rights"})]}),o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:E,data:P,actions:O,loading:r||y||w})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User":"Add User",children:o.jsx($e,{initialValues:{UserName:(s==null?void 0:s.UserName)||"",UserAccessID:(s==null?void 0:s.UserAccessID)||"",Password:"",ConfirmPassword:"",EmployeeID:(s==null?void 0:s.EmployeeID)||""},validationSchema:rde,onSubmit:k,children:({values:L,errors:$,touched:D,handleChange:B,handleBlur:U,isSubmitting:_})=>o.jsxs(Be,{className:"space-y-4",children:[$.general&&o.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:$.general}),o.jsx(A,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:L.UserName,onChange:B,onBlur:U,error:$.UserName,touched:D.UserName}),o.jsx(A,{className:"p-3 focus:outline-none",label:"User Access",name:"UserAccessID",type:"select",required:!0,value:L.UserAccessID,onChange:B,onBlur:U,error:$.UserAccessID,touched:D.UserAccessID,options:x}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:L.Password,onChange:B,onBlur:U,error:$.Password,touched:D.Password}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:L.ConfirmPassword,onChange:B,onBlur:U,error:$.ConfirmPassword,touched:D.ConfirmPassword}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:L.EmployeeID,onChange:B,onBlur:U,error:$.EmployeeID,touched:D.EmployeeID,options:S}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:_,className:"btn btn-primary",children:_?"Saving...":s?"Update":"Save"})]})]})})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.UserName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:T,className:"btn btn-danger",children:"Delete"})]})]})]})}const Fv="https://staging-engine.testthelink.online",ade=[],sde={accounts:ade,account:null,isLoading:!1,error:null},Nr=M("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Fv}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),rg=M("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${Fv}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ng=M("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${Fv}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ag=M("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${Fv}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),D6=ye({name:"chartOfAccounts",initialState:sde,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(Nr.pending,e=>{e.isLoading=!0}).addCase(Nr.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(Nr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(rg.pending,e=>{e.isLoading=!0}).addCase(rg.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ng.pending,e=>{e.isLoading=!0}).addCase(ng.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ag.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ag.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:v7e,resetAccountState:j7e}=D6.actions,ode=D6.reducer,Bv="https://staging-engine.testthelink.online",ide=[],lde={accountGroups:ide,accountGroup:null,isLoading:!1,error:null},nc=M("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Bv}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),sg=M("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${Bv}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),og=M("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${Bv}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ig=M("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${Bv}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),_6=ye({name:"accountGroups",initialState:lde,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(nc.pending,e=>{e.isLoading=!0}).addCase(nc.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(nc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sg.pending,e=>{e.isLoading=!0}).addCase(sg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(og.pending,e=>{e.isLoading=!0}).addCase(og.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ig.pending,e=>{e.isLoading=!0}).addCase(ig.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:w7e,resetAccountGroupState:C7e}=_6.actions,cde=_6.reducer,qv="https://staging-engine.testthelink.online",ude=[],dde={majorAccountGroups:ude,majorAccountGroup:null,isLoading:!1,error:null},ac=M("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qv}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),lg=M("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${qv}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),cg=M("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${qv}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),ug=M("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${qv}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),$6=ye({name:"majorAccountGroups",initialState:dde,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(ac.pending,e=>{e.isLoading=!0}).addCase(ac.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase(ac.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lg.pending,e=>{e.isLoading=!0}).addCase(lg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cg.pending,e=>{e.isLoading=!0}).addCase(cg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase(cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ug.pending,e=>{e.isLoading=!0}).addCase(ug.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:N7e,resetMajorAccountGroupState:S7e}=$6.actions,fde=$6.reducer,Vv="https://staging-engine.testthelink.online",mde=[],hde={subMajorAccountGroups:mde,subMajorAccountGroup:null,isLoading:!1,error:null},_d=M("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vv}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched sub major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch sub major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),dg=M("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Vv}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),fg=M("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Vv}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),mg=M("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Vv}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),R6=ye({name:"subMajorAccountGroups",initialState:hde,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(_d.pending,e=>{e.isLoading=!0}).addCase(_d.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase(_d.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dg.pending,e=>{e.isLoading=!0}).addCase(dg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fg.pending,e=>{e.isLoading=!0}).addCase(fg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase(fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mg.pending,e=>{e.isLoading=!0}).addCase(mg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:A7e,resetSubMajorAccountGroupState:T7e}=R6.actions,pde=R6.reducer;var M6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},K_=q.createContext&&q.createContext(M6),gde=["attr","size","title"];function yde(t,e){if(t==null)return{};var r=bde(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k0.apply(this,arguments)}function X_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function I0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X_(Object(r),!0).forEach(function(n){xde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xde(t,e,r){return e=vde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vde(t){var e=jde(t,"string");return typeof e=="symbol"?e:e+""}function jde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L6(t){return t&&t.map((e,r)=>q.createElement(e.tag,I0({key:r},e.attr),L6(e.child)))}function jI(t){return e=>q.createElement(wde,k0({attr:I0({},t.attr)},e),L6(t.child))}function wde(t){var e=r=>{var{attr:n,size:a,title:s}=t,i=yde(t,gde),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),q.createElement("svg",k0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:I0(I0({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&q.createElement("title",null,s),t.children)};return K_!==void 0?q.createElement(K_.Consumer,null,r=>e(r)):e(M6)}function Cde(t){return jI({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Nde(t){return jI({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function Sde(t){return jI({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Rr=({options:t,label:e,placeholder:r="Search...",error:n,touched:a,required:s=!1,onSelect:i,selectedValue:l})=>{const[c,u]=v.useState(""),d=c===""?t:t.filter(m=>m.label.toLowerCase().includes(c.toLowerCase())),f=()=>{i(""),u("")};return o.jsx("div",{className:"w-full max-w-xs",children:o.jsx(xl,{value:l,onChange:i,children:({open:m})=>o.jsxs(o.Fragment,{children:[o.jsxs(xl.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,s&&o.jsx("span",{className:"text-red-500",children:" *"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left shadow-sm sm:text-sm transition-all duration-200 ${a&&n?"border border-red-500":"border border-gray-300"}`,children:[o.jsx(xl.Input,{className:"w-full py-2.5 pl-3 pr-10 text-sm leading-5 focus-visible:outline-none text-gray-900",placeholder:r,displayValue:h=>{var p;return((p=t.find(g=>g.value===h))==null?void 0:p.label)||""},onChange:h=>u(h.target.value)}),o.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&o.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(Sde,{className:"h-4 w-4"})}),o.jsx(xl.Button,{className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(Cde,{className:`h-5 w-5 transition-transform duration-200 ${m?"rotate-180":""}`})})]})]}),a&&n&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),o.jsx(xl.Options,{className:"absolute z-50 mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:d.length===0&&c!==""?o.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-500",children:"No results found"}):d.map(h=>o.jsx(xl.Option,{className:({active:p,selected:g})=>`relative cursor-default select-none py-2 pl-2 pr-4 transition-colors ${p?"bg-blue-50 text-blue-700":""}
                         ${g?"font-medium text-blue-900 bg-blue-100":"font-normal text-gray-900"}
                         `,value:h.value,children:o.jsx("span",{children:h.label})},h.value))})]})]})})})},Ade=({accountGroups:t,majorAccountGroups:e,subMajorAccountGroups:r})=>{var i,l;const{values:n,setFieldValue:a}=c6(),s=(c,u)=>{const d=u.find(f=>f.ID===c);return d?d.Code:""};return v.useEffect(()=>{if(n.AccountTypeID&&n.AccountSubTypeID&&n.AccountCategoryID&&n.Code){const c=s(n.AccountTypeID,t),u=s(n.AccountSubTypeID,e),d=s(n.AccountCategoryID,r),f=`${c}-${u}-${d}-${n.Code}`;a("AccountCode",f)}},[n.AccountTypeID,n.AccountSubTypeID,n.AccountCategoryID,n.Code]),o.jsx(A,{className:"p-3 focus:outline-none bg-gray-200 cursor-not-allowed",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 03-02-02-65465",value:n.AccountCode,readOnly:!0,error:(i=n.errors)==null?void 0:i.AccountCode,touched:(l=n.touched)==null?void 0:l.AccountCode})},Tde=oe().shape({AccountCode:I().required("Account no is required").max(20,"Account no must be at most 20 characters"),Code:I().required("General Ledger Code is required").max(10,"General Ledger Code must be at most 10 characters"),Name:I().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:I().max(250,"Description must be at most 250 characters"),AccountTypeID:I().required("Account group is required"),AccountSubTypeID:I().required("Major account group is required"),AccountCategoryID:I().required("Sub Major account group is required"),NormalBalance:I().required("Normal balance is required")});function kde({initialData:t,onClose:e}){const r=ie(),{accountGroups:n}=V(d=>d.accountGroups),{majorAccountGroups:a}=V(d=>d.majorAccountGroups),{subMajorAccountGroups:s}=V(d=>d.subMajorAccountGroups),[i,l]=v.useState(!1);v.useEffect(()=>{r(nc()),r(ac()),r(_d())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=d=>{l(!0);const f=t?ng({...d,ID:t.ID}):rg(d);r(f).unwrap().then(()=>{e()}).catch(m=>{console.error("Error submitting account:",m)}).finally(()=>{l(!1)})};return o.jsx($e,{initialValues:c,validationSchema:Tde,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isValid:g,setFieldValue:y})=>{var x;return o.jsxs(Be,{className:"space-y-4",children:[o.jsx("div",{className:"",children:o.jsx(Ade,{accountGroups:n,majorAccountGroups:a,subMajorAccountGroups:s})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 65465",value:d.Code,onChange:h,onBlur:p,error:f.Code,touched:m.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:h,onBlur:p,error:f.Name,touched:m.Name}),o.jsx(Rr,{label:"Account Group",options:n.map(b=>({label:`${b.Name} (${b.Code})`,value:b.ID})),placeholder:"Select Account Group",onSelect:b=>{y("AccountTypeID",b||"")},selectedValue:d.AccountTypeID||"",required:!0,error:f.AccountTypeID,touched:m.AccountTypeID}),o.jsx(Rr,{label:"Major Account Group",options:a.map(b=>({label:`${b.Name} (${b.Code})`,value:b.ID})),placeholder:"Select Major Account Group",onSelect:b=>{y("AccountSubTypeID",b||"")},selectedValue:((x=a.find(b=>b.ID===d.AccountSubTypeID))==null?void 0:x.ID)||"",required:!0,error:f.AccountSubTypeID,touched:m.AccountSubTypeID}),o.jsx(Rr,{label:"Sub Major Account Group",options:s.map(b=>({label:`${b.Name} (${b.Code})`,value:b.ID})),placeholder:"Select Sub Major Account Group",onSelect:b=>{y("AccountCategoryID",b||"")},selectedValue:d.AccountCategoryID||"",required:!0,error:f.AccountCategoryID,touched:m.AccountCategoryID})]}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:h,onBlur:p,error:f.Description,touched:m.Description,rows:2}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx(A,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:h,onBlur:p,error:f.NormalBalance,touched:m.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i||!g,className:"btn btn-primary",children:i?"Saving...":t?"Update":"Save"})]})]})}})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ode=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),J_=t=>{const e=Ode(t);return e.charAt(0).toUpperCase()+e.slice(1)},F6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Ede=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>v.createElement("svg",{ref:c,...Pde,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:F6("lucide",a),...!s&&!Ede(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>v.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=(t,e)=>{const r=v.forwardRef(({className:n,...a},s)=>v.createElement(Dde,{ref:s,iconNode:e,className:F6(`lucide-${Ide(J_(t))}`,`lucide-${t}`,n),...a}));return r.displayName=J_(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],B6=hr("building",_de);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wI=hr("calendar",$de);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],Mde=hr("circle-arrow-left",Rde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],q6=hr("credit-card",Lde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bde=hr("eye-off",Fde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V6=hr("eye",qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ude=hr("file-text",Vde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wde=hr("map-pin",zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],O0=hr("paperclip",Hde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Va=hr("pencil",Gde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Uv=hr("plus",Yde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],oA=hr("printer",Kde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Jde=hr("search",Xde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Mr=hr("trash-2",Qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Yn=hr("trash",Zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zv=hr("user",efe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CI=hr("users",tfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nfe=hr("x",rfe);function afe(){const t=ie(),{accounts:e,isLoading:r}=V(b=>b.chartOfAccounts),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Nr())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(ag(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete account:",b)}},g=()=>{a(!1),i(null)},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Chart of Accounts"}),o.jsx("p",{children:"Manage account codes and their settings"})]}),o.jsx("div",{className:"flex gap-4 items-center ",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r})}),o.jsx(ae,{isOpen:n,onClose:g,title:s?"Edit Account":"Add Account",size:"lg",children:o.jsx(kde,{initialData:s,onClose:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const sfe=oe().shape({Code:I().required("Code is required").max(10,"Code must be at most 10 characters"),Name:I().required("Name is required").max(100,"Name must be at most 100 characters")});function ofe(){const t=ie(),{accountGroups:e,isLoading:r,error:n}=V(w=>w.accountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(nc())},[t]);const m=()=>{l(null),s(!0)},h=w=>{l(w),s(!0)},p=w=>{f(w),u(!0)},g=()=>{d&&(t(ig(d.ID)),u(!1),f(null))},y=(w,{resetForm:S})=>{t(i?og({...w,ID:i.ID}):sg(w)),s(!1),S()},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],b=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Types"}),o.jsx("p",{children:"Manage account types and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x,data:e,actions:b,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Type":"Add Account Type",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:sfe,onSubmit:y,children:({values:w,errors:S,touched:C,handleChange:j,handleBlur:N,isSubmitting:T})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:w.Code,onChange:j,onBlur:N,error:S.Code,touched:C.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:w.Name,onChange:j,onBlur:N,error:S.Name,touched:C.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const ife=oe().shape({Code:I().required("Code is required").max(15,"Code must be at most 15 characters"),Name:I().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:te().required("Account Type is required")});function lfe(){const t=ie(),{majorAccountGroups:e,isLoading:r}=V(S=>S.majorAccountGroups),{accountGroups:n}=V(S=>S.accountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(ac()),t(nc())},[t]);const m=e.map(S=>{const C=n.find(j=>j.ID===S.AccountTypeID);return{...S,accountTypeName:C?C.Name:"N/A"}}),h=()=>{l(null),s(!0)},p=S=>{l(S),s(!0)},g=S=>{f(S),u(!0)},y=()=>{d&&(t(ug(d.ID)),u(!1),f(null))},x=(S,{resetForm:C})=>{var T;const j=((T=n.find(k=>k.ID===Number(S.AccountTypeID)))==null?void 0:T.Name)||"",N={...S,accountTypeName:j};t(i?cg({...N,ID:i.ID}):lg(N)),s(!1),C()},b=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],w=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Sub-Types"}),o.jsx("p",{children:"Manage account sub-types and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:b,data:m,actions:w,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Sub-Type":"Add Account Sub-Type",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:ife,onSubmit:x,children:({values:S,errors:C,touched:j,handleChange:N,handleBlur:T,isSubmitting:k})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:N,onBlur:T,error:C.Code,touched:j.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:N,onBlur:T,error:C.Name,touched:j.Name}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:S.AccountTypeID,onChange:N,onBlur:T,error:C.AccountTypeID,touched:j.AccountTypeID,options:n.map(E=>({value:E.ID,label:E.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const cfe=oe().shape({Code:I().required("Code is required").max(15,"Code must be at most 15 characters"),Name:I().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:te().required("Account Sub Type is required")});function ufe(){const t=ie(),{subMajorAccountGroups:e,isLoading:r}=V(S=>S.subMajorAccountGroups),{majorAccountGroups:n}=V(S=>S.majorAccountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(_d()),t(ac())},[t]);const m=e.map(S=>{const C=n.find(j=>j.ID===S.AccountSubTypeID);return{...S,accountSubTypeName:C?C.Name:"N/A"}}),h=()=>{l(null),s(!0)},p=S=>{l(S),s(!0)},g=S=>{f(S),u(!0)},y=()=>{d&&(t(mg(d.ID)),u(!1),f(null))},x=(S,{resetForm:C})=>{var T;const j=((T=n.find(k=>k.ID===Number(S.AccountSubTypeID)))==null?void 0:T.Name)||"",N={...S,accountSubTypeName:j};t(i?fg({...N,ID:i.ID}):dg(N)),s(!1),C()},b=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Type",sortable:!0}],w=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Category"}),o.jsx("p",{children:"Manage account categories and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:b,data:m,actions:w,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Category":"Add Account Category",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:cfe,onSubmit:x,children:({values:S,errors:C,touched:j,handleChange:N,handleBlur:T,isSubmitting:k})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:N,onBlur:T,error:C.Code,touched:j.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:N,onBlur:T,error:C.Name,touched:j.Name}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:S.AccountSubTypeID,onChange:N,onBlur:T,error:C.AccountSubTypeID,touched:j.AccountSubTypeID,options:n.map(E=>({value:E.ID,label:E.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}function dfe({initialData:t,onSubmit:e,onClose:r,regionOptions:n=[],provinceOptions:a=[],municipalityOptions:s=[],barangayOptions:i=[],industryOptions:l=[],taxCodeOptions:c=[],vendorTypeOptions:u=[],paymentTermsOptions:d=[],modeOfPaymentOptions:f=[]}){const m=oe({Code:I().required("Code is required"),TIN:I().required("TIN is required"),Name:I().required("Name is required"),PhoneNumber:I(),MobileNumber:I().required("Mobile number is required"),EmailAddress:I().email("Invalid email").required("Email is required"),Website:I(),RegionID:I().required("Region is required"),ProvinceID:I().required("Province is required"),MunicipalityID:I().required("Municipality is required"),BarangayID:I().required("Barangay is required"),StreetAddress:I().required("Street address is required"),ZIPCode:I().required("Zip code is required"),TypeID:I().required("Vendor type is required"),RDO:I().required("Revenue District Office is required"),IndustryTypeID:I().required("Industry is required"),TaxCodeID:I().required("Tax code is required"),PaymentTermsID:I().required("Payment terms are required"),Vatable:Ji(),PaymentMethodID:I().required("Mode of payment is required"),ContactPerson:I().required("Contact person is required"),DeliveryLeadTime:te().required("Delivery lead time is required").typeError("Must be a number")}),h=et({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:m,onSubmit:w=>{e(w)}}),{values:p,handleChange:g,handleBlur:y,errors:x,touched:b}=h;return o.jsxs("form",{onSubmit:h.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:p.Code,onChange:g,onBlur:y,error:x.Code,touched:b.Code,required:!0}),o.jsx(A,{label:"TIN",name:"TIN",type:"text",value:p.TIN,onChange:g,onBlur:y,error:x.TIN,touched:b.TIN,required:!0})]}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:p.Name,onChange:g,onBlur:y,error:x.Name,touched:b.Name,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Phone Number",name:"PhoneNumber",type:"text",value:p.PhoneNumber,onChange:g,onBlur:y}),o.jsx(A,{label:"Mobile Number",name:"MobileNumber",type:"text",value:p.MobileNumber,onChange:g,onBlur:y,error:x.MobileNumber,touched:b.MobileNumber,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Email",name:"EmailAddress",type:"email",value:p.EmailAddress,onChange:g,onBlur:y,error:x.EmailAddress,touched:b.EmailAddress,required:!0}),o.jsx(A,{label:"Website",name:"Website",type:"text",value:p.Website,onChange:g,onBlur:y})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Region",name:"RegionID",type:"select",options:n,value:p.RegionID,onChange:g,onBlur:y,error:x.RegionID,touched:b.RegionID,required:!0}),o.jsx(A,{label:"Province",name:"ProvinceID",type:"select",options:a,value:p.ProvinceID,onChange:g,onBlur:y,error:x.ProvinceID,touched:b.ProvinceID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Municipality",name:"MunicipalityID",type:"select",options:s,value:p.MunicipalityID,onChange:g,onBlur:y,error:x.MunicipalityID,touched:b.MunicipalityID,required:!0}),o.jsx(A,{label:"Barangay",name:"BarangayID",type:"select",options:i,value:p.BarangayID,onChange:g,onBlur:y,error:x.BarangayID,touched:b.BarangayID,required:!0})]}),o.jsx(A,{label:"Street Address",name:"StreetAddress",type:"textarea",value:p.StreetAddress,onChange:g,onBlur:y,error:x.StreetAddress,touched:b.StreetAddress,required:!0}),o.jsx(A,{label:"Zip Code",name:"ZIPCode",type:"text",value:p.ZIPCode,onChange:g,onBlur:y,error:x.ZIPCode,touched:b.ZIPCode,required:!0}),o.jsx("hr",{className:"border-t border-neutral-300 my-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Vendor Type",name:"TypeID",type:"select",options:u,value:p.TypeID,onChange:g,onBlur:y,error:x.TypeID,touched:b.TypeID,required:!0}),o.jsx(A,{label:"Revenue District Office",name:"RDO",type:"text",value:p.RDO,onChange:g,onBlur:y,error:x.RDO,touched:b.RDO,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Industry",name:"IndustryTypeID",type:"select",options:l,value:p.IndustryTypeID,onChange:g,onBlur:y,error:x.IndustryTypeID,touched:b.IndustryTypeID,required:!0}),o.jsx(A,{label:"Tax Code",name:"TaxCodeID",type:"select",options:c,value:p.TaxCodeID,onChange:g,onBlur:y,error:x.TaxCodeID,touched:b.TaxCodeID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:d,value:p.PaymentTermsID,onChange:g,onBlur:y,error:x.PaymentTermsID,touched:b.PaymentTermsID,required:!0}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:p.Vatable,onChange:g,onBlur:y}),o.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:f,value:p.PaymentMethodID,onChange:g,onBlur:y,error:x.PaymentMethodID,touched:b.PaymentMethodID,required:!0}),o.jsx(A,{label:"Contact Person",name:"ContactPerson",type:"text",value:p.ContactPerson,onChange:g,onBlur:y,error:x.ContactPerson,touched:b.ContactPerson,required:!0})]}),o.jsx(A,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:p.DeliveryLeadTime,onChange:g,onBlur:y,error:x.DeliveryLeadTime,touched:b.DeliveryLeadTime,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h.isSubmitting,children:h.isSubmitting?"Saving...":"Save"})]})]})}const Wv="https://staging-engine.testthelink.online",ffe=[],ps=M("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wv}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),hg=M("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${Wv}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),iA=M("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${Wv}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),pg=M("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${Wv}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),mfe=ye({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ps.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ps.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(ps.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=ffe}).addCase(hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(iA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase(pg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase(pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),hfe=mfe.reducer,Hv="https://staging-engine.testthelink.online",pfe=[],Ei=M("regions/fetchRegions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hv}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),gg=M("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${Hv}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),lA=M("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${Hv}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),yg=M("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${Hv}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),gfe=ye({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ei.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ei.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(Ei.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=pfe}).addCase(gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(lA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),yfe=gfe.reducer,Gv="https://staging-engine.testthelink.online",bfe=[],Pi=M("provinces/fetchProvinces",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Gv}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),bg=M("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${Gv}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),cA=M("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${Gv}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),xg=M("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${Gv}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),xfe=ye({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Pi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pi.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(Pi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=bfe}).addCase(bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(cA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase(xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),vfe=xfe.reducer,Yv="https://staging-engine.testthelink.online",jfe=[],Di=M("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Yv}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),vg=M("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${Yv}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),uA=M("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${Yv}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),jg=M("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${Yv}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),wfe=ye({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Di.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Di.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(Di.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=jfe}).addCase(vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(uA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),Cfe=wfe.reducer,Kv="https://staging-engine.testthelink.online",Nfe=[],_i=M("barangays/fetchBarangays",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Kv}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),wg=M("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${Kv}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),dA=M("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${Kv}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cg=M("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${Kv}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Sfe=ye({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(_i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_i.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(_i.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=Nfe}).addCase(wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(dA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase(Cg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),Afe=Sfe.reducer,Xv="https://staging-engine.testthelink.online",Tfe=[],$d=M("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xv}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ng=M("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${Xv}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fA=M("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${Xv}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Sg=M("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${Xv}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),kfe=ye({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase($d.pending,e=>{e.isLoading=!0,e.error=null}).addCase($d.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase($d.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=Tfe}).addCase(Ng.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ng.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(Ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(fA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(Sg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),Ife=kfe.reducer,Jv="https://staging-engine.testthelink.online",Ofe=[],sc=M("industries/fetchIndustries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jv}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ag=M("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${Jv}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),mA=M("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${Jv}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Tg=M("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${Jv}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Efe=ye({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(sc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sc.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(sc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=Ofe}).addCase(Ag.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(mA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(Tg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),Pfe=Efe.reducer,Qv="https://staging-engine.testthelink.online",Dfe=[],fa=M("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Qv}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),kg=M("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${Qv}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),hA=M("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${Qv}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ig=M("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${Qv}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),_fe=ye({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(fa.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fa.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(fa.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=Dfe}).addCase(kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(hA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(Ig.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),$fe=_fe.reducer,Zv="https://staging-engine.testthelink.online",Rfe=[],oc=M("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Zv}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Og=M("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${Zv}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),pA=M("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${Zv}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Eg=M("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${Zv}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Mfe=ye({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(oc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oc.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(oc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=Rfe}).addCase(Og.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(pA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase(Eg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),Lfe=Mfe.reducer,ej="https://staging-engine.testthelink.online",Ffe=[],ic=M("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ej}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Pg=M("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${ej}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),gA=M("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${ej}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dg=M("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${ej}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Bfe=ye({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ic.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ic.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(ic.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=Ffe}).addCase(Pg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(gA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(Dg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(Dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),qfe=Bfe.reducer;function Vfe(){const t=ie(),{vendorDetails:e,isLoading:r}=V(F=>F.vendorDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),{regions:f}=V(F=>F.regions),{provinces:m}=V(F=>F.provinces),{municipalities:h}=V(F=>F.municipalities),{barangays:p}=V(F=>F.barangays),{vendorTypes:g}=V(F=>F.vendorTypes),{industries:y}=V(F=>F.industries),{taxCodes:x}=V(F=>F.taxCodes),{paymentTerms:b}=V(F=>F.paymentTerms),{modeOfPayments:w}=V(F=>F.modeOfPayments);v.useEffect(()=>{t(ps()),t(Ei()),t(Pi()),t(Di()),t(_i()),t($d()),t(sc()),t(fa()),t(oc()),t(ic())},[t]);const S=f.map(F=>({value:F.ID,label:F.Name})),C=m.map(F=>({value:F.ID,label:F.Name})),j=h.map(F=>({value:F.ID,label:F.Name})),N=p.map(F=>({value:F.ID,label:F.Name})),T=g.map(F=>({value:F.ID,label:F.Name})),k=y.map(F=>({value:F.ID,label:F.Name})),E=x.map(F=>({value:F.ID,label:F.Code})),O=b.map(F=>({value:F.ID,label:F.Name})),P=w.map(F=>({value:F.ID,label:F.Name})),L=()=>{i(null),a(!0)},$=F=>{i(F),a(!0)},D=F=>{d(F),c(!0)},B=async()=>{if(u)try{await t(pg(u.ID)).unwrap(),c(!1),d(null)}catch(F){console.error("Failed to delete vendor details:",F)}},U=F=>{t(s?iA({...F,ID:s.ID}):hg(F)),a(!1)},_=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Vendor",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:F=>{const G=b.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method ID"},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:F=>{const G=w.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"DeliveryLeadTime",header:"Time (no. of Days)",sortable:!0,render:F=>F||"0"},{key:"TIN",header:"TIN",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:F=>F?"Yes":"No"},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:F=>{const G=x.find(W=>W.ID==F);return(G==null?void 0:G.Code)||"N/A"}},{key:"TypeID",header:"Vendor Type",sortable:!0,render:F=>{const G=g.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:F=>{const G=y.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"ContactPerson",header:"Contact Person",sortable:!0},{key:"PhoneNumber",header:"Phone Number",sortable:!0},{key:"MobileNumber",header:"Mobile Number",sortable:!0},{key:"EmailAddress",header:"Email Address",sortable:!0},{key:"Website",header:"Website",sortable:!0,render:F=>F||"No website"},{key:"StreetAddress",header:"StreetAddress",sortable:!0},{key:"BarangayID",header:"Barangay",sortable:!0,render:F=>{const G=p.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"MunicipalityID",header:"Municipality",sortable:!0,render:F=>{const G=h.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"ProvinceID",header:"Province",sortable:!0,render:F=>{const G=m.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"RegionID",header:"Region",sortable:!0,render:F=>{const G=f.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"ZIPCode",header:"ZIPCode",sortable:!0}],R=[{icon:Ae,title:"Edit",onClick:$,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:D,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Details"}),o.jsx("p",{children:"Manage Vendor Details"})]}),o.jsxs("button",{type:"button",onClick:L,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Details"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:_,data:e,actions:R,loading:r,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Details":"Add Vendor Details",children:o.jsx(dfe,{initialData:s,onClose:()=>a(!1),onSubmit:U,regionOptions:S,provinceOptions:C,municipalityOptions:j,barangayOptions:N,vendorTypeOptions:T,industryOptions:k,taxCodeOptions:E,paymentTermsOptions:O,modeOfPaymentOptions:P})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:B,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ufe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:I().required("Name is required")}),a=et({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const tj="https://staging-engine.testthelink.online",zfe=[],_g=M("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tj}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),$g=M("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${tj}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),yA=M("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${tj}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Rg=M("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${tj}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Wfe=ye({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(_g.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=zfe}).addCase($g.pending,e=>{e.isLoading=!0,e.error=null}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(yA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(Rg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),Hfe=Wfe.reducer;function Gfe(){const t=ie(),{vendorCustomerTypes:e,isLoading:r}=V(b=>b.vendorCustomerTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(_g())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Rg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete vendor customer type:",b)}},g=b=>{t(s?yA({...b,ID:s.ID}):$g(b)),a(!1)},y=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Customer Types"}),o.jsx("p",{children:"Manage Vendor Customer Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:o.jsx(Ufe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Yfe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:I().required("Name is required")}),a=et({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Kfe(){const t=ie(),{vendorTypes:e,isLoading:r}=V(b=>b.vendorTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t($d())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Sg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete vendor type:",b)}},g=b=>{t(s?fA({...b,ID:s.ID}):Ng(b)),a(!1)},y=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Types"}),o.jsx("p",{children:"Manage Vendor Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Type":"Add Vendor Type",children:o.jsx(Yfe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Xfe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Description:I().required("Name is required")}),a=et({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const rj="https://staging-engine.testthelink.online",Jfe=[],Rd=M("modules/fetchModules",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rj}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Mg=M("modules/addModule",async(t,e)=>{try{const r=await fetch(`${rj}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),bA=M("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${rj}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Lg=M("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${rj}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Qfe=ye({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Rd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rd.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(Rd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=Jfe}).addCase(Mg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(bA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase(Lg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),Zfe=Qfe.reducer;function eme(){const t=ie(),{modules:e,isLoading:r}=V(b=>b.modules),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Rd())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Lg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete module:",b)}},g=b=>{t(s?bA({...b,ID:s.ID}):Mg(b)),a(!1)},y=[{key:"Description",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Modules"}),o.jsx("p",{children:"Manage Modules"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Module":"Add Module",children:o.jsx(Xfe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const nj="https://staging-engine.testthelink.online",tme=[],lc=M("positions/fetchPositions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nj}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Fg=M("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${nj}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xA=M("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${nj}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Bg=M("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${nj}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rme=ye({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(lc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lc.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(lc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=tme}).addCase(Fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase(xA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(Bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),nme=rme.reducer,aj="https://staging-engine.testthelink.online",ame=[],Md=M("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${aj}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),qg=M("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${aj}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vA=M("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${aj}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Vg=M("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${aj}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),sme=ye({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Md.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Md.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(Md.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=ame}).addCase(qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(vA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(Vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),ome=sme.reducer,ime=oe().shape({FirstName:I().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:I().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:I().max(100,"Middle name must be at most 100 characters"),Birthday:Re().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:I().required("Gender is required"),civilStatus:I().required("Civil status is required"),StreetAddress:I().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:I().required("Contact number is required"),EmailAddress:I().email("Invalid email address").required("Email is required"),DepartmentID:te().required("Department is required"),PositionID:I().required("Position is required"),EmploymentStatusID:I().required("Employment status is required"),DateHired:Re().required("Date hired is required"),TIN:I(),GSIS:I(),Philhealth:I(),Pagibig:I(),Active:I().required("Status is required")});function lme({initialData:t,onClose:e}){const r=ie();v.useEffect(()=>{r(Cr()),r(lc()),r(Md())},[r]);const{departments:n}=V(y=>y.departments),a=V(y=>y.departments.isLoading),s=n.map(y=>({value:y.ID,label:y.Name})),{positions:i}=V(y=>y.positions),l=V(y=>y.positions.isLoading),c=i.map(y=>({value:y.ID,label:y.Name})),{employmentStatuses:u}=V(y=>y.employmentStatuses),d=V(y=>y.employmentStatuses.isLoading),f=u.map(y=>({value:y.ID,label:y.Name})),[m,h]=v.useState(!1),p=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",civilStatus:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",GSIS:"",Philhealth:"",Pagibig:"",Active:"Active"},g=y=>{var S;h(!0);const x=((S=n.find(C=>C.value===Number(y.DepartmentID)))==null?void 0:S.label)||"",b={...y,DepartmentID:Number(y.DepartmentID),departmentName:x},w=t?Qp({...b,id:t.id,employeeCode:t.employeeCode}):Jp(b);r(w).unwrap().then(()=>{e()}).catch(C=>{console.error("Error submitting employee:",C)}).finally(()=>{h(!1)})};return o.jsx($e,{initialValues:p,validationSchema:ime,onSubmit:g,enableReinitialize:!0,children:({values:y,errors:x,touched:b,handleChange:w,handleBlur:S,isValid:C})=>o.jsxs(Be,{className:"space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsx(A,{label:"First name",name:"FirstName",type:"text",required:!0,value:y.FirstName,onChange:w,onBlur:S,error:x.FirstName,touched:b.FirstName}),o.jsx(A,{label:"Middle name",name:"MiddleName",type:"text",value:y.MiddleName,onChange:w,onBlur:S,error:x.MiddleName,touched:b.MiddleName}),o.jsx(A,{label:"Last name",name:"LastName",type:"text",required:!0,value:y.LastName,onChange:w,onBlur:S,error:x.LastName,touched:b.LastName}),o.jsx(A,{label:"Gender",name:"Gender",type:"select",required:!0,value:y.Gender,onChange:w,onBlur:S,error:x.Gender,touched:b.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),o.jsx(A,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:y.Birthday,onChange:w,onBlur:S,error:x.Birthday,touched:b.Birthday})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Address Information"}),o.jsx(A,{label:"Region",name:"Region",type:"select",options:[],value:y.Region||"REGION VI (WESTERN VISAYAS)",onChange:w,readOnly:!0}),o.jsx(A,{label:"Province",name:"Province",type:"select",options:[],value:y.Province||"AKLAN",onChange:w,readOnly:!0}),o.jsx(A,{label:"Municipality",name:"Municipality",type:"select",options:[],value:y.Municipality||"ALTAVAS",onChange:w,readOnly:!0}),o.jsx(A,{label:"Barangay",name:"Barangay",type:"select",options:[],value:y.Barangay||"Cabangila",onChange:w,readOnly:!0}),o.jsx(A,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:y.StreetAddress||"242",onChange:w,onBlur:S,error:x.StreetAddress,touched:b.StreetAddress})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Contact Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Nationality",name:"Nationality",type:"text",value:y.Nationality||"Filipino",onChange:w,readOnly:!0}),o.jsx(A,{label:"Zip Code",name:"ZipCode",type:"text",value:y.ZipCode||"24",onChange:w,readOnly:!0})]}),o.jsx(A,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:y.MobileNumber||"+639123456789",onChange:w,onBlur:S,error:x.MobileNumber,touched:b.MobileNumber}),o.jsx(A,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:y.EmailAddress||"juandelacruz@gmail.com",onChange:w,onBlur:S,error:x.EmailAddress,touched:b.EmailAddress}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:y.EmergencyContact||"Maria",onChange:w,readOnly:!0}),o.jsx(A,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:y.EmergencyNumber||"+639669388800",onChange:w,readOnly:!0})]})]})]})]}),o.jsxs("div",{className:"pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"ID Number",name:"IDNumber",type:"text",value:y.IDNumber||"1",onChange:w,readOnly:!0}),o.jsx(A,{label:"TIN",name:"TIN",type:"text",value:y.TIN||"1241",onChange:w,onBlur:S,error:x.TIN,touched:b.TIN})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"PAG-IBIG",name:"Pagibig",type:"text",value:y.Pagibig||"636",onChange:w,onBlur:S,error:x.Pagibig,touched:b.Pagibig}),o.jsx(A,{label:"GSIS",name:"GSIS",type:"text",value:y.GSIS||"1245",onChange:w,onBlur:S,error:x.GSIS,touched:b.GSIS})]}),o.jsx(A,{label:"Philhealth",name:"Philhealth",type:"text",value:y.Philhealth||"6341",onChange:w,onBlur:S,error:x.Philhealth,touched:b.Philhealth}),o.jsx(A,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:y.DepartmentID||"Office of the Mayor",onChange:w,onBlur:S,error:x.DepartmentID,touched:b.DepartmentID,options:s,disabled:a})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:y.DateHired||"2024-06-10",onChange:w,onBlur:S,error:x.DateHired,touched:b.DateHired}),o.jsx(A,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:y.EmploymentStatusID||"Active",onChange:w,onBlur:S,error:x.EmploymentStatusID,touched:b.EmploymentStatusID,options:f,disabled:d})]}),o.jsx(A,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:y.EmploymentStatusDate||"2024-06-10",onChange:w,readOnly:!0}),o.jsx(A,{label:"Position",name:"PositionID",type:"select",required:!0,value:y.PositionID||"Mayor",onChange:w,onBlur:S,error:x.PositionID,touched:b.PositionID,options:c,disabled:l}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",className:"btn btn-outline",children:"Choose"})})}),o.jsx("div",{className:"mt-2",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[y.FirstName||"Juan",","," ",y.MiddleName||"Santos",","," ",y.LastName||"Dela Cruz"," - ",y.TIN||"1241"," -"," ",y.DepartmentID||"Office of the Mayor"]})})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m||!C,className:"btn btn-primary",children:m?"Saving...":t?"Update":"Save"})]})]})})}function cme(){const t=ie(),{employees:e,isLoading:r}=V(b=>b.employees),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Un())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=()=>{u&&(t(Zp(u.ID)),c(!1),d(null))},g=()=>{a(!1),i(null)},y=[{key:"IDNumber",header:"ID Number",sortable:!0,className:"font-medium text-neutral-900"},{key:"FirstName",header:"First Name",sortable:!0},{key:"MiddleName",header:"Middle Name",sortable:!0},{key:"LastName",header:"Last Name",sortable:!0},{key:"Department",header:"Department",sortable:!0,render:b=>(b==null?void 0:b.Name)||""},{key:"Position",header:"Position",sortable:!0,render:b=>(b==null?void 0:b.Name)||""},{key:"EmploymentStatus",header:"Employment Status",sortable:!0,render:b=>(b==null?void 0:b.Name)||""}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employees"}),o.jsx("p",{children:"Manage employee information and records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employee"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r})}),o.jsx(ae,{isOpen:n,onClose:g,title:s?"Edit Employee":"Add Employee",size:"lg",children:o.jsx(lme,{initialData:s,onClose:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee"," ",o.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.FirstName," ",u==null?void 0:u.LastName]}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function ume({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:I().required("Employment Status is required")}),a=et({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Employment Status",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function dme(){const t=ie(),{employmentStatuses:e,isLoading:r}=V(b=>b.employmentStatuses),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Md())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Vg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete employment status:",b)}},g=b=>{t(s?vA({...b,ID:s.ID}):qg(b)),a(!1)},y=[{key:"Name",header:"Employment Status",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employment Status"}),o.jsx("p",{children:"Manage Employment Statuses"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employment Status"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Employment Status":"Add Employment Status",children:o.jsx(ume,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function fme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:I().required("Position is required")}),a=et({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Position Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function mme(){const t=ie(),{positions:e,isLoading:r}=V(b=>b.positions),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(lc())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Bg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete position:",b)}},g=b=>{t(s?xA({...b,ID:s.ID}):Fg(b)),a(!1)},y=[{key:"Name",header:"Position",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Position"}),o.jsx("p",{children:"Manage Positions"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Position"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No positions found. Click 'Add Position' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Position":"Add Position",children:o.jsx(fme,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function hme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Description:I().required("User Role is required")}),a=et({initialValues:t||{Description:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Role",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function pme(){const t=ie(),{userroles:e,isLoading:r}=V(b=>b.userroles),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(rc())},[t]);const f=()=>{i(null),a(!0)},m=b=>{if(b.Description=="Administrator"){it.error("The 'Administrator' role cannot be edited.");return}i(b),a(!0)},h=b=>{if(b.Description=="Administrator"){it.error("The 'Administrator' role cannot be deleted.");return}d(b),c(!0)},p=async()=>{if(u)try{await t(tg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete user role:",b)}},g=b=>{t(s?sA({...b,ID:s.ID}):eg(b)),a(!1)},y=[{key:"Description",header:"User Role",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"User Roles"}),o.jsx("p",{children:"Manage User Roles"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User Role":"Add User Role",children:o.jsx(hme,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function gme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:I().required("Nationality is required")}),a=et({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Nationality Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const sj="https://staging-engine.testthelink.online",yme=[],Ld=M("nationalities/fetchNationalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sj}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ug=M("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${sj}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),jA=M("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${sj}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zg=M("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${sj}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),bme=ye({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ld.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ld.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(Ld.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=yme}).addCase(Ug.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase(jA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),xme=bme.reducer;function vme(){const t=ie(),{nationalities:e,isLoading:r}=V(b=>b.nationalities),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ld())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(zg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete nationality:",b)}},g=b=>{t(s?jA({...b,ID:s.ID}):Ug(b)),a(!1)},y=[{key:"Name",header:"Nationality",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Nationalities"}),o.jsx("p",{children:"Manage Nationalities"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Nationality"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Nationality":"Add Nationality",children:o.jsx(gme,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Ke={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};oe().shape({date:Re().required(Ke.required).max(new Date,Ke.futureDate),reference:I().max(50,"Reference number too long"),particulars:I().required(Ke.required).max(500,"Particulars too long"),debitEntries:tn().of(oe().shape({accountCode:I().required("Account code is required"),amount:te().required("Amount is required").moreThan(0,Ke.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:tn().of(oe().shape({accountCode:I().required("Account code is required"),amount:te().required("Amount is required").moreThan(0,Ke.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,a)=>n+(Number(a.amount)||0),0),r=t.creditEntries.reduce((n,a)=>n+(Number(a.amount)||0),0);return Math.abs(e-r)<.01});const Q_=oe().shape({date:Re().required(Ke.required).max(new Date,Ke.futureDate),period:I().required(Ke.required),stallNumber:I().required(Ke.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:I().required(Ke.required),stallOwner:I().required(Ke.required).max(100,"Name too long"),amount:te().required(Ke.required).moreThan(0,Ke.positiveNumber)});oe().shape({certificateNo:I().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:Re().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:I().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:I().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:I().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:I().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:I().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:I().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:I().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:I().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:Re().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:I().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:te().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:te().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:I().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:te().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:te().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:te().min(0,"Amount cannot be negative").nullable(),purpose:I().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:te().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:te().min(0,"Interest cannot be negative").nullable()});oe().shape({date:Re().required(Ke.required).max(new Date,Ke.futureDate),tdNumber:I().required(Ke.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:I().required(Ke.required).max(100,"Name too long"),location:I().required(Ke.required).max(200,"Location too long"),basicTax:te().required(Ke.required).moreThan(0,Ke.positiveNumber),sef:te().required(Ke.required).moreThan(0,Ke.positiveNumber),penalty:te().min(0,"Amount cannot be negative")});const jme=oe().shape({Name:I().required(Ke.required).max(100,"Name too long"),MunicipalityCode:I().required(Ke.required),ProvinceCode:I().required(Ke.required),RegionCode:I().required(Ke.required)}),wme=oe().shape({Name:I().required(Ke.required).max(100,"Name too long"),ProvinceCode:I().required(Ke.required),RegionCode:I().required(Ke.required)}),Cme=oe().shape({Name:I().required(Ke.required).max(100,"Name too long"),RegionCode:I().required(Ke.required)}),Z_=oe().shape({Name:I().required(Ke.required).max(100,"Name too long")});oe().shape({id:I().required("ID is required"),status:I().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:Re().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:I().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:Re().required("Date is required").max(new Date,"Date cannot be in the future"),agency:I().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:I().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:I().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});function Nme(){const[t,e]=v.useState("region"),[r,n]=v.useState(!1),[a,s]=v.useState(null),[i,l]=v.useState(!1),[c,u]=v.useState(null),d={region:"Regions",province:"Provinces",municipality:"Municipalities",barangay:"Barangays"},f=ie(),{regions:m}=V($=>$.regions),{provinces:h}=V($=>$.provinces),{municipalities:p}=V($=>$.municipalities),{barangays:g}=V($=>$.barangays);v.useEffect(()=>{f(Ei()),f(Pi()),f(Di()),f(_i())},[f]);const y=()=>{switch(t){case"region":return Z_;case"province":return Cme;case"municipality":return wme;case"barangay":return jme;default:return Z_}},x=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},b=()=>{switch(t){case"region":return m;case"province":return h.map($=>({...$,RegionName:P($.RegionCode,m)}));case"municipality":return p.map($=>({...$,RegionName:P($.RegionCode,m),ProvinceName:P($.ProvinceCode,h)}));case"barangay":return g.map($=>({...$,RegionName:P($.RegionCode,m),ProvinceName:P($.ProvinceCode,h),MunicipalityName:P($.MunicipalityCode,p)}));default:return[]}},w=()=>{switch(t){case"region":return gg;case"province":return bg;case"municipality":return vg;case"barangay":return wg;default:return null}},S=()=>{switch(t){case"region":return lA;case"province":return cA;case"municipality":return uA;case"barangay":return dA;default:return null}},C=()=>{switch(t){case"region":return yg;case"province":return xg;case"municipality":return jg;case"barangay":return Cg;default:return null}},j=[{icon:Ae,title:"Edit",onClick:$=>T($),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:$=>k($),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],N=()=>{s(null),n(!0)},T=$=>{s($),n(!0)},k=$=>{u($),l(!0)},E=()=>{c&&(f(C()(c.ID)),l(!1),u(null))};v.useEffect(()=>{r&&O.resetForm({values:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,a]);const O=et({initialValues:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:y(),onSubmit:async($,{setSubmitting:D})=>{const B=a?S():w(),U=a?{...a,...$}:$;await f(B(U)).unwrap(),n(!1),D(!1)}}),P=($,D)=>{const B=D.find(U=>U.ID.toString()===$.toString());return B?B.Name:""},L=()=>{const $={formik:O,onChange:O.handleChange,onBlur:O.handleBlur,required:!0};switch(console.log("Active Tab:",t),t){case"region":return o.jsx(A,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:O.values.Name,error:O.errors.Name,touched:O.touched.Name,...$});case"province":return o.jsxs(o.Fragment,{children:[o.jsx(A,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:O.values.Name,error:O.errors.Name,touched:O.touched.Name,...$}),o.jsx(A,{label:"Region",name:"RegionCode",type:"select",options:m.map(D=>({value:D.ID,label:D.Name})),value:O.values.RegionCode,error:O.errors.RegionCode,touched:O.touched.RegionCode,...$})]});case"municipality":return o.jsxs(o.Fragment,{children:[o.jsx(A,{label:"Municipality",name:"Name",type:"text",value:O.values.Name,error:O.errors.Name,touched:O.touched.Name,placeholder:"Enter municipality name",...$}),o.jsx(A,{label:"Province",name:"ProvinceCode",type:"select",options:h.map(D=>({value:D.ID,label:D.Name})),value:O.values.ProvinceCode,error:O.errors.ProvinceCode,touched:O.touched.ProvinceCode,onChange:D=>{const B=D.target.value,U=h.find(_=>_.ID.toString()===B.toString());O.setFieldValue("ProvinceCode",B),U&&O.setFieldValue("RegionCode",U.RegionCode)},onBlur:O.handleBlur,required:!0}),o.jsx(A,{label:"Region",name:"RegionCode",type:"text",value:P(O.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return o.jsxs(o.Fragment,{children:[o.jsx(A,{label:"Barangay",name:"Name",type:"text",value:O.values.Name,error:O.errors.Name,touched:O.touched.Name,placeholder:"Enter barangay name",...$}),o.jsx(A,{label:"Municipality",name:"MunicipalityCode",type:"select",options:p.map(D=>({value:D.ID,label:D.Name})),value:O.values.MunicipalityCode,error:O.errors.MunicipalityCode,touched:O.touched.MunicipalityCode,onChange:D=>{const B=D.target.value,U=p.find(_=>_.ID.toString()===B.toString());O.setFieldValue("MunicipalityCode",B),U&&(O.setFieldValue("ProvinceCode",U.ProvinceCode),O.setFieldValue("RegionCode",U.RegionCode))},onBlur:O.handleBlur,required:!0}),o.jsx(A,{label:"Province",name:"ProvinceCode",type:"text",value:P(O.values.ProvinceCode,h),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),o.jsx(A,{label:"Region",name:"RegionCode",type:"text",value:P(O.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Locations"}),o.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),o.jsxs("button",{type:"button",onClick:N,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),o.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:o.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map($=>o.jsx("button",{onClick:()=>e($),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===$?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:d[$]},$))})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x(),data:b(),actions:j,pagination:!0})}),o.jsx(ae,{isOpen:r,onClose:()=>n(!1),title:a?`Edit ${t}`:`New ${t}`,children:o.jsxs("form",{onSubmit:O.handleSubmit,className:"p-4 space-y-4",children:[L(),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:O.isSubmitting,children:O.isSubmitting?"Saving...":a?"Update":"Save"})]})]})}),o.jsx(ae,{isOpen:i,onClose:()=>l(!1),title:"Confirm Delete",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:E,className:"btn btn-danger",children:"Delete"})]})]})})]})}const oj="https://staging-engine.testthelink.online",Sme=[],Fd=M("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oj}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Wg=M("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${oj}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wA=M("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${oj}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Hg=M("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${oj}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ame=ye({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fd.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Fd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=Sme}).addCase(Wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(wA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(Hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),Tme=Ame.reducer,ij="https://staging-engine.testthelink.online",kme=[],Bd=M("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ij}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Gg=M("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${ij}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),CA=M("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${ij}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Yg=M("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${ij}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ime=ye({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Bd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bd.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(Bd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=kme}).addCase(Gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(CA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(Yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),Ome=Ime.reducer,lj="https://staging-engine.testthelink.online",Eme=[],Pme=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],Dme=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],_me={ppes:Eme,ppe:null,isLoading:!1,error:null,categories:Pme,suppliers:Dme},Kg=M("ppes/fetchPPEs",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lj}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Xg=M("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${lj}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Jg=M("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${lj}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Qg=M("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${lj}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),U6=ye({name:"ppes",initialState:_me,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(Kg.pending,e=>{e.isLoading=!0}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Xg.pending,e=>{e.isLoading=!0}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Jg.pending,e=>{e.isLoading=!0}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Qg.pending,e=>{e.isLoading=!0}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:k7e,resetPPEResource:I7e,addCategory:O7e,addSupplier:E7e}=U6.actions,$me=U6.reducer,Rme=oe().shape({CategoryID:I().required("Category is required"),Description:I().required("Description is required"),DepreciationRate:te().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:te().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:te().typeError("Must be a number").required("Net Book Value is required"),SupplierID:I().required("Supplier is required"),PPENumber:I().required("PPE Number is required"),Unit:I().required("Unit is required"),Barcode:I().required("Barcode is required"),Quantity:te().typeError("Must be a number").required("Quantity is required"),Cost:te().typeError("Must be a number").required("Cost is required"),DateAcquired:I().required("Date acquired is required"),EstimatedUsefulLife:te().typeError("Must be a number").required("Estimated useful life is required"),PONumber:I().required("PO Number is required"),PRNumber:I().required("PR Number is required"),InvoiceNumber:I().required("Invoice Number is required"),AIRNumber:I().required("AIR Number is required"),RISNumber:I().required("RIS Number is required"),Remarks:I()});function Mme({initialData:t,onClose:e}){const r=ie(),[n,a]=v.useState(!1),{ppeSuppliers:s}=V(u=>u.ppeSuppliers),{ppeCategories:i}=V(u=>u.ppeCategories);v.useEffect(()=>{r(Fd()),r(Bd())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{a(!0);const d=t&&t.ID?Jg({...u,ID:t.ID}):Xg(u);r(d).unwrap().then(()=>{e()}).catch(f=>{console.error("Error submitting PPE:",f)}).finally(()=>{a(!1)})};return o.jsx($e,{initialValues:l,validationSchema:Rme,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,setFieldValue:p})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(A,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:h,onChange:m,error:d.CategoryID,touched:f.CategoryID,options:i.map(g=>({value:g.ID,label:g.Name}))})}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:m,onBlur:h,error:d.Description,touched:f.Description}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:m,onBlur:h,error:d.DepreciationRate,touched:f.DepreciationRate}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:m,onBlur:h,error:d.DepreciationValue,touched:f.DepreciationValue}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:m,onBlur:h,error:d.NetBookValue,touched:f.NetBookValue}),o.jsx("div",{children:o.jsx(A,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:h,onChange:m,error:d.SupplierID,touched:f.SupplierID,options:s.map(g=>({value:g.ID,label:g.Name}))})}),o.jsx(A,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:m,onBlur:h,error:d.PPENumber,touched:f.PPENumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:m,onBlur:h,error:d.Unit,touched:f.Unit}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:m,onBlur:h,error:d.Barcode,touched:f.Barcode}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:m,onBlur:h,error:d.Quantity,touched:f.Quantity}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:m,onBlur:h,error:d.Cost,touched:f.Cost}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:m,onBlur:h,error:d.DateAcquired,touched:f.DateAcquired}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:m,onBlur:h,error:d.EstimatedUsefulLife,touched:f.EstimatedUsefulLife}),o.jsx(A,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:m,onBlur:h,error:d.PONumber,touched:f.PONumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:m,onBlur:h,error:d.PRNumber,touched:f.PRNumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:m,onBlur:h,error:d.InvoiceNumber,touched:f.InvoiceNumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:m,onBlur:h,error:d.AIRNumber,touched:f.AIRNumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:m,onBlur:h,error:d.RISNumber,touched:f.RISNumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:m,onBlur:h,error:d.Remarks,touched:f.Remarks,rows:2})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const Lme=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"Supplier",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function Fme(){const t=ie(),{ppes:e,isLoading:r}=V(S=>S.ppes),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(null);v.useEffect(()=>{t(Kg())},[t]);const u=()=>{c(null),a(!0)},d=()=>{i(!0)},f=()=>{window.print()},m=()=>{i(!1)},h=S=>{c(S),a(!0)},p=S=>{window.confirm("Are you sure you want to delete this PPE entry?")&&t(Qg(S.ID))},g=()=>{a(!1),c(null)},y=Lme.map(S=>({key:S.key,header:S.header,sortable:!0,className:"text-neutral-900"})),x=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-danger-600 hover:text-danger-900 p-1 rounded-full hover:bg-danger-50"}],b=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],w=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE"}),o.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),o.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),o.jsxs("button",{type:"button",onClick:d,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(oA,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),o.jsxs("button",{type:"button",onClick:()=>window.print(),className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(oA,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r})}),o.jsx(ae,{isOpen:n,onClose:g,title:l?"Edit PPE":"Add PPE",size:"lg",children:o.jsx(Mme,{initialData:l,onClose:g})}),o.jsx(ae,{isOpen:s,onClose:m,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(A,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:w,value:"Juan S. Dela Cruz"})}),o.jsx("div",{className:"mb-6",children:o.jsx(A,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:b,value:"Juan S. Dela Cruz"})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:m,className:"btn btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:f,className:"btn btn-primary",children:"Print"})]})]})})]})}function Bme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:I().required("Name is required")}),a=et({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function qme(){const t=ie(),{ppeCategories:e,isLoading:r}=V(b=>b.ppeCategories),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Fd())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Hg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete PPE category:",b)}},g=b=>{t(s?wA({...b,ID:s.ID}):Wg(b)),a(!1)},y=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Categories"}),o.jsx("p",{children:"Manage PPE Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Category":"Add PPE Category",children:o.jsx(Bme,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Vme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:I().required("Name is required")}),a=et({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ume(){const t=ie(),{ppeSuppliers:e,isLoading:r}=V(b=>b.ppeSuppliers),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Bd())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Yg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete PPE supplier:",b)}},g=b=>{t(s?CA({...b,ID:s.ID}):Gg(b)),a(!1)},y=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Suppliers"}),o.jsx("p",{children:"Manage PPE Suppliers"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Supplier":"Add PPE Supplier",children:o.jsx(Vme,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const cj="https://staging-engine.testthelink.online",zme=[],qd=M("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cj}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Zg=M("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${cj}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),NA=M("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${cj}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ey=M("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${cj}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Wme=ye({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(qd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qd.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(qd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=zme}).addCase(Zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(NA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),Hme=Wme.reducer,Gme=[{value:"1 - First",label:"1 - First"},{value:"2 - Second",label:"2 - Second"},{value:"3 - Third",label:"3 - Third"}],Yme=oe().shape({});function Kme({initialData:t,onClose:e,onSubmit:r}){const[n,a]=v.useState((t==null?void 0:t.AllorMajority)||"ALL"),s=ie(),{documentDetails:i}=V(g=>g.documentDetails),{positions:l}=V(g=>g.positions),{employees:c}=V(g=>g.employees);v.useEffect(()=>{s(qd()),s(lc()),s(Un())},[s]);const u=t||{DocumentTypeID:"",SequenceLevel:"",AllorMajority:"ALL",NumberofApprover:""},[d,f]=v.useState((t==null?void 0:t.approvers)||[{type:"Position",value:"",amountFrom:"",amountTo:""}]),m=()=>{f([...d,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}])},h=g=>{const y=[...d];y.splice(g,1),f(y)},p=(g,y)=>{const x=[...d];x[g]=y,f(x)};return o.jsx($e,{initialValues:u,validationSchema:Yme,onSubmit:(g,{setSubmitting:y})=>{const x=d.map(w=>({PositionorEmployee:w.type,PositionorEmployeeID:w.value,AmountFrom:w.amountFrom,AmountTo:w.amountTo})),b={...g,AllorMajority:n,approvers:x};r(b),y(!1)},enableReinitialize:!0,children:({values:g,errors:y,touched:x,handleChange:b,handleBlur:w,setFieldValue:S,isSubmitting:C})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:g.DocumentTypeID,onChange:b,onBlur:w,error:y.DocumentTypeID,touched:x.DocumentTypeID,options:i.map(j=>({value:j.ID,label:j.Name}))}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Sequence Level",name:"SequenceLevel",type:"select",required:!0,value:g.SequenceLevel,onChange:b,onBlur:w,error:y.SequenceLevel,touched:x.SequenceLevel,options:Gme}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Approval Rule ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"ALL",checked:n==="ALL",onChange:()=>a("ALL"),className:"form-radio"}),o.jsx("span",{children:"ALL"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"Majority",checked:n==="Majority",onChange:()=>a("Majority"),className:"form-radio"}),o.jsx("span",{children:"Majority"}),o.jsxs("select",{name:"NumberofApprover",value:g.NumberofApprover||"",onChange:b,onBlur:w,disabled:n!=="Majority",className:"ml-2 w-24 p-2 border border-neutral-300 rounded focus:outline-none",children:[o.jsx("option",{value:"",children:"Select"}),Array.from({length:10},(j,N)=>o.jsx("option",{value:N+1,children:N+1},N+1))]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label mb-2",children:["Approvers ",o.jsx("span",{className:"text-error-500",children:"*"})]}),d.map((j,N)=>{var T,k,E;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4 border p-4 rounded-md relative",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${N}`,value:"Position",checked:j.type==="Position",onChange:()=>p(N,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Position"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${N}`,value:"Employee",checked:j.type==="Employee",onChange:()=>p(N,{type:"Employee",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Employee"})]})]}),o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsxs("select",{className:"w-full p-2 border rounded",value:j.value,onChange:O=>p(N,{...j,value:O.target.value}),children:[o.jsx("option",{value:"",children:"Select"}),(j.type==="Position"?l:c).map(O=>o.jsx("option",{value:O.ID,children:j.type==="Position"?O.Name:`${O.FirstName} ${O.MiddleName} ${O.LastName}`},O.ID))]}),((T=j.errors)==null?void 0:T.value)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.value})]}),d.length>1&&o.jsx("button",{type:"button",onClick:()=>h(N),className:"btn btn-sm btn-error text-red-500",children:o.jsx(Me,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount From",className:"w-full p-2 border rounded",value:j.amountFrom,onChange:O=>p(N,{...j,amountFrom:O.target.value})}),((k=j.errors)==null?void 0:k.amountFrom)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.amountFrom})]}),o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount To",className:"w-full p-2 border rounded",value:j.amountTo,onChange:O=>p(N,{...j,amountTo:O.target.value})}),((E=j.errors)==null?void 0:E.amountTo)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.amountTo})]})]})]}),N<d.length-1&&o.jsx("hr",{className:"mb-4 border-gray-300"})]},N)}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:m,children:"+ Add More"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:C,children:"Save"})]})]})})}const uj="https://staging-engine.testthelink.online",Xme=[],Jme={approvalMatrix:Xme,matrix:null,isLoading:!1,error:null},ty=M("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uj}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ry=M("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${uj}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ny=M("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${uj}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ay=M("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${uj}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),z6=ye({name:"approvalMatrix",initialState:Jme,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(ty.pending,e=>{e.isLoading=!0}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ry.pending,e=>{e.isLoading=!0}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ny.pending,e=>{e.isLoading=!0}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ay.pending,e=>{e.isLoading=!0}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:P7e,resetMatrixState:D7e}=z6.actions,Qme=z6.reducer;function Zme(){const t=ie(),{approvalMatrix:e,isLoading:r,error:n}=V(w=>w.approvalMatrix),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(ty())},[t]);const m=()=>{l(null),s(!0)},h=w=>{var N;const S=((N=w.Approvers)==null?void 0:N.map(T=>({type:T.PositionorEmployee,value:T.PositionorEmployeeID,amountFrom:Number(T.AmountFrom),amountTo:Number(T.AmountTo)})))||[],{Approvers:C,...j}=w;l({...j,approvers:S}),s(!0)},p=w=>{f(w),u(!0)},g=async()=>{if(d)try{await t(ay(d.ID)).unwrap(),u(!1),f(null)}catch(w){console.error("Failed to delete approval matrix:",w)}},y=async w=>{try{i?await t(ny({...w,ID:i.ID})).unwrap():await t(ry(w)).unwrap(),s(!1)}catch(S){console.error("Failed to submit approval matrix:",S)}},x=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"SequenceLevel",header:"Sequence Level",sortable:!0},{key:"AllorMajority",header:"All or Majority",sortable:!0},{key:"NumberofApprover",header:"No of Approvers",sortable:!0}],b=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Approval Matrix"}),o.jsx("p",{children:"Manage approval matrix for document types"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Approval Matrix"]})]})}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ge,{columns:x,data:e,actions:b,loading:r}),n&&o.jsx("div",{className:"text-error-600 mt-2",children:n})]}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Approval Matrix":"Add Approval Matrix",children:o.jsx(Kme,{initialData:i,onClose:()=>s(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete this approval matrix entry?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function ehe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}ehe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var NI=t=>typeof t=="number"&&!isNaN(t),_f=t=>typeof t=="string",W6=t=>typeof t=="function",the=t=>_f(t)||NI(t),rhe=t=>v.isValidElement(t)||_f(t)||W6(t)||NI(t),nhe=1,H6=()=>`${nhe++}`,Da=new Map,SA=[],e$=new Set,G6=()=>Da.size>0,ahe=(t,{containerId:e})=>{var r;return(r=Da.get(e||1))==null?void 0:r.toasts.get(t)};function she(t,e){var r;if(e)return!!((r=Da.get(e))!=null&&r.isToastActive(t));let n=!1;return Da.forEach(a=>{a.isToastActive(t)&&(n=!0)}),n}function ohe(t){if(!G6()){SA=SA.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||the(t))Da.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Da.get(t.containerId);e?e.removeToast(t.id):Da.forEach(r=>{r.removeToast(t.id)})}}var ihe=(t={})=>{Da.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function lhe(t,e){rhe(t)&&(G6()||SA.push({content:t,options:e}),Da.forEach(r=>{r.buildToast(t,e)}))}function Y6(t,e){Da.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function che(t){return e$.add(t),()=>{e$.delete(t)}}function uhe(t){return t&&(_f(t.toastId)||NI(t.toastId))?t.toastId:H6()}function Lm(t,e){return lhe(t,e),e.toastId}function dj(t,e){return{...e,type:e&&e.type||t,toastId:uhe(e)}}function fj(t){return(e,r)=>Lm(e,dj(t,r))}function St(t,e){return Lm(t,dj("default",e))}St.loading=(t,e)=>Lm(t,dj("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function dhe(t,{pending:e,error:r,success:n},a){let s;e&&(s=_f(e)?St.loading(e,a):St.loading(e.render,{...a,...e}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){St.dismiss(s);return}let m={type:u,...i,...a,data:f},h=_f(d)?{render:d}:d;return s?St.update(s,{...m,...h}):St(h.render,{...m,...h}),f},c=W6(t)?t():t;return c.then(u=>l("success",n,u)).catch(u=>l("error",r,u)),c}St.promise=dhe;St.success=fj("success");St.info=fj("info");St.error=fj("error");St.warning=fj("warning");St.warn=St.warning;St.dark=(t,e)=>Lm(t,dj("default",{theme:"dark",...e}));function fhe(t){ohe(t)}St.dismiss=fhe;St.clearWaitingQueue=ihe;St.isActive=she;St.update=(t,e={})=>{let r=ahe(t,e);if(r){let{props:n,content:a}=r,s={delay:100,...n,...e,toastId:e.toastId||t,updateId:H6()};s.toastId!==t&&(s.staleId=t);let i=s.render||a;delete s.render,Lm(i,s)}};St.done=t=>{St.update(t,{progress:1})};St.onChange=che;St.play=t=>Y6(!0,t);St.pause=t=>Y6(!1,t);const mj="https://staging-engine.testthelink.online",mhe=[],hhe={banks:mhe,bank:null,isLoading:!1,error:null},sy=M("banks/fetchBanks",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mj}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),oy=M("banks/addBank",async(t,e)=>{try{const r=await fetch(`${mj}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),iy=M("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${mj}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ly=M("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${mj}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),K6=ye({name:"banks",initialState:hhe,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(sy.pending,e=>{e.isLoading=!0}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(oy.pending,e=>{e.isLoading=!0}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(iy.pending,e=>{e.isLoading=!0}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ly.pending,e=>{e.isLoading=!0}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:_7e,resetBankState:$7e}=K6.actions,phe=K6.reducer,ghe=oe().shape({BranchCode:I().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:I().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:I().required("Name is required").max(100,"Name must be at most 100 characters"),Address:I().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:I().required("Account number is required"),SwiftCode:I().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:I().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:te().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:I().required("Currency is required")});function yhe({initialData:t,onClose:e}){const r=ie(),[n,a]=v.useState(!1),{currencies:s}=V(c=>c.currencies);v.useEffect(()=>{r(Dd())},[r]);const i=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{a(!0);const u={...c},d=t?iy({...u,ID:t.ID}):oy(u);r(d).unwrap().then(()=>{e()}).catch(f=>{console.error("Error submitting bank:",f)}).finally(()=>{a(!1)})};return o.jsx($e,{initialValues:i,validationSchema:ghe,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isValid:h,setFieldValue:p})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:f,onBlur:m,error:u.BranchCode,touched:d.BranchCode}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:f,onBlur:m,error:u.Branch,touched:d.Branch}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:f,onBlur:m,error:u.Name,touched:d.Name})]}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:f,onBlur:m,error:u.Address,touched:d.Address,rows:2}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:f,onBlur:m,error:u.AccountNumber,touched:d.AccountNumber}),o.jsx(A,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:f,onBlur:m,error:u.SwiftCode,touched:d.SwiftCode}),o.jsx(A,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:f,onBlur:m,error:u.IBAN,touched:d.IBAN})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:f,onBlur:m,error:u.Balance,touched:d.Balance}),o.jsx("div",{className:"space-y-2",children:o.jsx(A,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:f,onBlur:m,error:u.CurrencyID,touched:d.CurrencyID,options:s.map(g=>({value:g.ID,label:g.Code+" - "+g.Name}))})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:n||!h,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const bhe=()=>{const t=ie(),{banks:e=[],isLoading:r}=V(b=>b.banks),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(sy())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=()=>{a(!1),i(null)},p=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(ly(u.ID)).unwrap(),St.success("Bank deleted successfully"),c(!1),d(null)}catch(b){St.error(b.message||"Failed to delete bank")}},y=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0},{key:"CurrencyID",header:"CurrencyID",sortable:!0},{key:"Currency",header:"Currency",sortable:!0,render:b=>(b==null?void 0:b.Code)||"N/A"}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),o.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),o.jsx(ae,{isOpen:n,onClose:h,title:s?"Edit Bank":"Add Bank",size:"lg",children:o.jsx(yhe,{initialData:s,onClose:h})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})},xhe=({document:t,onClose:e,documentTypeCategoryOptions:r=[]})=>{const n=ie(),a=oe({Name:I().required("Name is required"),Code:I().required("Code is required"),Prefix:I().required("Prefix is required"),Suffix:I().required("Suffix is required"),StartNumber:te().required("Start number is required").min(1,"Start number must be at least 1"),CurrentNumber:te().required("Current number is required").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:I().required("Document type category is required")}),s={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},i=async(l,{setSubmitting:c})=>{try{t?await n(NA({...l,ID:t.ID})).unwrap():await n(Zg(l)).unwrap(),e()}catch(u){console.error("Failed to save document details:",u)}finally{c(!1)}};return o.jsx($e,{initialValues:s,validationSchema:a,onSubmit:i,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,setFieldValue:m,isSubmitting:h})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:f,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),o.jsx(A,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:f,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Prefix",name:"Prefix",type:"text",required:!0,value:l.Prefix,onChange:d,onBlur:f,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),o.jsx(A,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:f,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:f,error:c.StartNumber,touched:u.StartNumber,min:"1"}),o.jsx(A,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:f,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(A,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:f,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:r})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Saving...":t?"Update":"Create"})]})]})})},hj="https://staging-engine.testthelink.online",vhe=[],Vd=M("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hj}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),cy=M("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${hj}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),AA=M("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${hj}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),uy=M("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${hj}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),jhe=ye({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Vd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vd.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Vd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=vhe}).addCase(cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(AA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),whe=jhe.reducer,Che=()=>{const t=ie(),{documentDetails:e,isLoading:r}=V(w=>w.documentDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),{documentTypeCategories:f}=V(w=>w.documentTypeCategories),m=f.map(w=>({value:w.ID,label:w.Name}));v.useEffect(()=>{t(qd()),t(Vd())},[t]);const h=()=>{i(null),a(!0)},p=w=>{i(w),a(!0)},g=w=>{d(w),c(!0)},y=async()=>{if(u)try{await t(ey(u.ID)).unwrap(),c(!1),d(null)}catch(w){console.error("Failed to delete document detail:",w)}},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"}],b=w=>{const S=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return w.ID>32&&S.push({icon:Me,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),S};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document details and their numbering"})]}),o.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Document Detail"]})]}),o.jsx(ge,{columns:x,data:e,actions:b,loading:r,emptyMessage:"No document details found. Click 'Add Document Detail' to create one."}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Detail":"Add Document Detail",size:"lg",children:o.jsx(xhe,{document:s,onClose:()=>a(!1),documentTypeCategoryOptions:m})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document detail for"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})};function Nhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:I().required("Name is required")}),a=et({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function She(){const t=ie(),{documentTypeCategories:e,isLoading:r}=V(b=>b.documentTypeCategories),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Vd())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(uy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete document type category:",b)}},g=b=>{t(s?AA({...b,ID:s.ID}):cy(b)),a(!1)},y=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Document Type Categories"}),o.jsx("p",{children:"Manage Document Type Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Type Category":"Add Document Type Category",children:o.jsx(Nhe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const pj="https://staging-engine.testthelink.online",Ahe=[],gs=M("items/fetchItems",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pj}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),dy=M("items/addItem",async(t,e)=>{try{const r=await fetch(`${pj}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),TA=M("items/updateItem",async(t,e)=>{try{const r=await fetch(`${pj}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),fy=M("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${pj}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),The=ye({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(gs.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gs.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(gs.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=Ahe}).addCase(dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase(TA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),khe=The.reducer,gj="https://staging-engine.testthelink.online",Ihe=[],_a=M("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gj}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),my=M("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${gj}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kA=M("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${gj}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),hy=M("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${gj}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ohe=ye({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(_a.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_a.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(_a.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=Ihe}).addCase(my.pending,e=>{e.isLoading=!0,e.error=null}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase(kA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase(hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),Ehe=Ohe.reducer,Phe=({item:t,onClose:e})=>{const r=ie(),{accounts:n}=V(d=>d.chartOfAccounts),{itemUnits:a}=V(d=>d.itemUnits),{taxCodes:s}=V(d=>d.taxCodes);v.useEffect(()=>{r(_a()),r(fa()),r(Nr())},[r]);const i=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=oe({Code:I().required("Code is required"),Name:I().required("Name is required"),ChargeAccountID:I().required("Charge Account is required"),UnitID:I().required("Unit is required"),TAXCodeID:I().required("Tax Code is required"),PurchaseOrSales:I().required("Type is required"),TaxRate:te().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:te().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Ji().required("Vatable is required")}),c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:(t==null?void 0:t.TaxRate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(d,{setSubmitting:f})=>{try{t?await r(TA({...d,ID:t.ID})).unwrap():await r(dy(d)).unwrap(),e()}catch(m){console.error("Failed to save item:",m)}finally{f(!1)}};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:g})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",required:!0,value:d.Code,onChange:h,onBlur:p,error:f.Code,touched:m.Code,placeholder:"Enter item code"}),o.jsx(A,{label:"Name",name:"Name",type:"text",required:!0,value:d.Name,onChange:h,onBlur:p,error:f.Name,touched:m.Name,placeholder:"Enter item name"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:d.ChargeAccountID,onChange:h,onBlur:p,error:f.ChargeAccountID,touched:m.ChargeAccountID,options:n.map(y=>({value:y.ID,label:y.Name}))}),o.jsx(A,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:d.PurchaseOrSales,onChange:h,onBlur:p,error:f.PurchaseOrSales,touched:m.PurchaseOrSales,options:i}),o.jsx(A,{label:"Unit",name:"UnitID",type:"select",required:!0,value:d.UnitID,onChange:h,onBlur:p,error:f.UnitID,touched:m.UnitID,options:a.map(y=>({value:y.ID,label:y.Code+" - "+y.Name}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:d.TAXCodeID,onChange:h,onBlur:p,error:f.TAXCodeID,touched:m.TAXCodeID,options:s.map(y=>({value:y.ID,label:y.Code}))}),o.jsx(A,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:d.TaxRate,onChange:h,onBlur:p,error:f.TaxRate,touched:m.TaxRate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"EWT",name:"EWT",type:"number",required:!0,value:d.EWT,onChange:h,onBlur:p,error:f.EWT,touched:m.EWT}),o.jsx("div",{className:"flex items-center mt-5",children:o.jsx(A,{label:"Vatable",name:"Vatable",type:"checkbox",checked:d.Vatable,onChange:h,onBlur:p,error:f.Vatable,touched:m.Vatable})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":t?"Update":"Create"})]})]})})},Dhe=()=>{const t=ie(),{items:e,isLoading:r}=V(j=>j.items),{itemUnits:n,isLoading:a}=V(j=>j.itemUnits),{taxCodes:s,isLoading:i}=V(j=>j.taxCodes),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,p]=v.useState(null);v.useEffect(()=>{t(gs()),t(_a()),t(fa())},[t]);const g=()=>{d(null),c(!0)},y=j=>{d(j),c(!0)},x=j=>{p(j),m(!0)},b=async()=>{if(h)try{await t(fy(h.ID)).unwrap(),m(!1),p(null)}catch(j){console.error("Failed to delete item:",j)}},w=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeValue",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:j=>o.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${j===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j?"Yes":"No"})}],S=e.map(j=>{var N,T;return{...j,unitName:((N=n==null?void 0:n.find(k=>k.ID===j.UnitID))==null?void 0:N.Name)||"N/A",TAXCodeValue:((T=s==null?void 0:s.find(k=>k.ID===j.TAXCodeID))==null?void 0:T.Code)||"N/A"}}),C=[{icon:Ae,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),o.jsxs("button",{onClick:g,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),o.jsx(ge,{columns:w,data:S,actions:C,loading:r||a||i,emptyMessage:"No items found. Click 'Add Item' to create one."}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Item":"Add Item",size:"lg",children:o.jsx(Phe,{item:u,onClose:()=>c(!1)})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})},_he=oe().shape({MarriageServiceInvoice:I().required("Marriage Service Invoice account is required"),BurialServiceInvoice:I().required("Burial Service Invoice account is required"),DueFromLGU:I().required("Due From LGU account is required"),DueFromRate:te().required("Due From Rate is required"),DueToLGU:I().required("Due To LGU account is required"),DueToRate:te().required("Due To Rate is required"),RealPropertyTax:I().required("Real Property Tax account is required"),RealPropertyTaxRate:te().required("Real Property Tax Rate is required")}),$he=({initialData:t,onClose:e,onSubmit:r,invoiceChargeAccounts:n=[]})=>{const a=ie(),s=V(l=>{var c;return((c=l.chartOfAccounts)==null?void 0:c.accounts)||[]});v.useEffect(()=>{a(Nr())},[a]);const i=n.reduce((l,c)=>{switch(c.ID){case 1:l.MarriageServiceInvoice=c.ChartofAccountsID;break;case 2:l.BurialServiceInvoice=c.ChartofAccountsID;break;case 3:l.DueFromLGU=c.ChartofAccountsID,l.DueFromRate=c.Rate??0;break;case 4:l.DueToLGU=c.ChartofAccountsID,l.DueToRate=c.Rate??0;break;case 5:l.RealPropertyTax=c.ChartofAccountsID,l.RealPropertyTaxRate=c.Rate??0;break}return l},{});return!n||n.length===0?o.jsx("div",{className:"text-neutral-500",children:"Loading charge accounts..."}):o.jsx($e,{initialValues:{MarriageServiceInvoice:i.MarriageServiceInvoice||"",BurialServiceInvoice:i.BurialServiceInvoice||"",DueFromLGU:i.DueFromLGU||"",DueFromRate:i.DueFromRate||0,DueToLGU:i.DueToLGU||"",DueToRate:i.DueToRate||0,RealPropertyTax:i.RealPropertyTax||"",RealPropertyTaxRate:i.RealPropertyTaxRate||0},validationSchema:_he,onSubmit:r,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Be,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Charge Account of Service Invoice"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(A,{label:"Marriage Service Invoice",name:"MarriageServiceInvoice",type:"select",required:!0,value:l.MarriageServiceInvoice,onChange:d,onBlur:f,error:c.MarriageServiceInvoice,touched:u.MarriageServiceInvoice,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(A,{label:"Burial Service Invoice",name:"BurialServiceInvoice",type:"select",required:!0,value:l.BurialServiceInvoice,onChange:d,onBlur:f,error:c.BurialServiceInvoice,touched:u.BurialServiceInvoice,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Real Property Tax Shares Settings"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due to LGUs"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Account",name:"DueToLGU",type:"select",required:!0,value:l.DueToLGU,onChange:d,onBlur:f,error:c.DueToLGU,touched:u.DueToLGU,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(A,{label:"Rate",name:"DueToRate",type:"number",required:!0,value:l.DueToRate,onChange:d,onBlur:f,error:c.DueToRate,touched:u.DueToRate})]})]}),o.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due From Local Government Units"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Account",name:"DueFromLGU",type:"select",required:!0,value:l.DueFromLGU,onChange:d,onBlur:f,error:c.DueFromLGU,touched:u.DueFromLGU,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(A,{label:"Rate",name:"DueFromRate",type:"number",required:!0,value:l.DueFromRate,onChange:d,onBlur:f,error:c.DueFromRate,touched:u.DueFromRate})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Special Education Funds"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Real Property Tax",name:"RealPropertyTax",type:"select",required:!0,value:l.RealPropertyTax,onChange:d,onBlur:f,error:c.RealPropertyTax,touched:u.RealPropertyTax,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(A,{label:"Rate",name:"RealPropertyTaxRate",type:"number",required:!0,value:l.RealPropertyTaxRate,onChange:d,onBlur:f,error:c.RealPropertyTaxRate,touched:u.RealPropertyTaxRate})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary",children:"Save"})]})]})})},X6="https://staging-engine.testthelink.online",py=M("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${X6}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Rhe=M("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),J6=M("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${X6}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Mhe=M("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),Lhe={invoiceChargeAccounts:[],isLoading:!1,error:null},Fhe=ye({name:"invoiceChargeAccounts",initialState:Lhe,reducers:{},extraReducers:t=>{t.addCase(py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(Rhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(J6.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase(Mhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),Bhe=Fhe.reducer;function qhe(){const t=ie(),{invoiceChargeAccounts:e}=V(n=>n.invoiceChargeAccounts);v.useEffect(()=>{t(py())},[t]);const r=async(n,{setSubmitting:a})=>{try{await t(J6(n)).unwrap(),a(!1)}catch(s){console.error("Failed to save invoice charge account:",s),a(!1)}};return o.jsx("div",{children:o.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:o.jsx($he,{onSubmit:r,invoiceChargeAccounts:e})})})}function Vhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:I().required("Code is required"),Name:I().required("Name is required")}),a=et({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Uhe(){const t=ie(),{itemUnits:e,isLoading:r}=V(b=>b.itemUnits),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(_a())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(hy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete item unit:",b)}},g=b=>{t(s?kA({...b,ID:s.ID}):my(b)),a(!1)},y=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Item Units"}),o.jsx("p",{children:"Manage item units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Item Unit":"Add Item Unit",children:o.jsx(Vhe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function zhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Type:I().required("Type is required"),Description:I().required("Description is required")});return o.jsx($e,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(A,{label:"Type",name:"Type",type:"text",value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(A,{label:"Description",name:"Description",type:"textarea",value:a.Description,onChange:l,onBlur:c,error:s.Description,touched:i.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const yj="https://staging-engine.testthelink.online",Whe=[],Ud=M("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yj}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),gy=M("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${yj}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),IA=M("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${yj}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),yy=M("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${yj}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Hhe=ye({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ud.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ud.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Ud.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=Whe}).addCase(gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(IA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase(yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),Ghe=Hhe.reducer;function Yhe(){const t=ie(),{projectTypes:e,isLoading:r}=V(b=>b.projectTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ud())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(yy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete project type:",b)}},g=b=>{t(s?IA({...b,ID:s.ID}):gy(b)),a(!1)},y=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Types"}),o.jsx("p",{children:"Manage project types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Type":"Add Project Type",children:o.jsx(zhe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',u==null?void 0:u.Type,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Khe({initialData:t,onSubmit:e,onClose:r}){const n=ie(),{projectTypes:a,loading:s}=V(c=>c.projectTypes);v.useEffect(()=>{n(Ud())},[n]);const i=oe({Title:I().required("Title is required"),ProjectTypeID:I().required("Project Type is required"),StartDate:Re().required("Start Date is required"),EndDate:Re().required("End Date is required"),Description:I().required("Description is required")}),l=et({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),o.jsx(A,{label:"Project Type",name:"ProjectTypeID",type:"select",options:a.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),o.jsx(A,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),o.jsx(A,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>setIsModalOpen(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const bj="https://staging-engine.testthelink.online",Xhe=[],$i=M("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bj}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),by=M("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${bj}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),OA=M("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${bj}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),xy=M("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${bj}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Jhe=ye({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase($i.pending,e=>{e.isLoading=!0,e.error=null}).addCase($i.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase($i.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=Xhe}).addCase(by.pending,e=>{e.isLoading=!0,e.error=null}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(OA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(OA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(xy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),Qhe=Jhe.reducer;function Zhe(){const t=ie(),{projectDetails:e,isLoading:r}=V(b=>b.projectDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t($i())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(xy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete project detail:",b)}},g=b=>{t(s?OA({...b,ID:s.ID}):by(b)),a(!1)},y=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0},{key:"Description",header:"Description",sortable:!1}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Details"}),o.jsx("p",{children:"Manage project details"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Detail":"Add Project Detail",size:"lg",children:o.jsx(Khe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',u==null?void 0:u.projectTitle,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function epe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:I().required("Code is required"),Name:I().required("Name is required")});return o.jsx($e,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const xj="https://staging-engine.testthelink.online",tpe=[],rpe={financialStatements:tpe,financialStatement:null,isLoading:!1,error:null},vy=M("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xj}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),jy=M("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${xj}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wy=M("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${xj}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cy=M("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${xj}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Q6=ye({name:"financialStatements",initialState:rpe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(vy.pending,e=>{e.isLoading=!0}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jy.pending,e=>{e.isLoading=!0}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wy.pending,e=>{e.isLoading=!0}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cy.pending,e=>{e.isLoading=!0}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:R7e,resetFinancialStatementState:M7e}=Q6.actions,npe=Q6.reducer;function ape(){const t=ie(),{financialStatements:e,isLoading:r}=V(b=>b.financialStatements),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(vy())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Cy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete financial statement:",b)}},g=b=>{t(s?wy({...b,ID:s.ID}):jy(b)),a(!1)},y=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Financial Statements"}),o.jsx("p",{children:"Manage financial statements"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Financial Statement":"Add Financial Statement",children:o.jsx(epe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function spe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:I().required("Code is required"),Name:I().required("Name is required"),Year:te().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:I().required("Month Start is required"),MonthEnd:I().required("Month End is required")}),a=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return o.jsx($e,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:i,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:f})=>o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:c,onBlur:u,error:i.Code,touched:l.Code,required:!0}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:s.Name,onChange:c,onBlur:u,error:i.Name,touched:l.Name,required:!0}),o.jsx(A,{label:"Year",name:"Year",type:"number",value:s.Year,onChange:c,onBlur:u,error:i.Year,touched:l.Year,required:!0}),o.jsx(A,{label:"Month Start",name:"MonthStart",type:"select",value:s.MonthStart,onChange:c,onBlur:u,error:i.MonthStart,touched:l.MonthStart,options:a,required:!0}),o.jsx(A,{label:"Month End",name:"MonthEnd",type:"select",value:s.MonthEnd,onChange:c,onBlur:u,error:i.MonthEnd,touched:l.MonthEnd,options:a,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})]})]})})}const vj="https://staging-engine.testthelink.online",ope=[],ys=M("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${vj}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ny=M("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${vj}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),EA=M("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${vj}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Sy=M("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${vj}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ipe=ye({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ys.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ys.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(ys.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=ope}).addCase(Ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(EA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(EA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase(Sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),lpe=ipe.reducer;function cpe(){const t=ie(),{fiscalYears:e,isLoading:r}=V(b=>b.fiscalYears),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ys())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Sy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete fiscal year:",b)}},g=b=>{t(s?EA({...b,id:s.ID}):Ny(b)),a(!1)},y=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fiscal Years"}),o.jsx("p",{children:"Manage fiscal years"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Fiscal Year":"Add Fiscal Year",children:o.jsx(spe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const upe=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function dpe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Type:I().required("Type is required"),Code:I().required("Code is required"),Name:I().required("Nature of Payment is required"),Rate:te().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return o.jsx($e,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(A,{label:"Type",name:"Type",type:"select",options:upe,value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(A,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(A,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:a.Rate,onChange:l,onBlur:c,error:s.Rate,touched:i.Rate,required:!0}),o.jsx(A,{label:"Nature of Payment",name:"Name",type:"textarea",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function fpe(){const t=ie(),{taxCodes:e,isLoading:r}=V(b=>b.taxCodes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(fa())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Ig(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete tax code:",b)}},g=b=>{t(s?hA({...b,ID:s.ID}):kg(b)),a(!1)},y=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Nature of Payment",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:b=>`${b} %`}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Codes"}),o.jsx("p",{children:"Manage tax codes"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Code":"Add Tax Code",children:o.jsx(dpe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',u==null?void 0:u.code,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function mpe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:I().required("Code is required"),Name:I().required("Name is required")}),a=et({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function hpe(){const t=ie(),{modeOfPayments:e,isLoading:r}=V(b=>b.modeOfPayments),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ic())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Dg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete mode of payment:",b)}},g=b=>{t(s?gA({...b,ID:s.ID}):Pg(b)),a(!1)},y=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Mode of Payments"}),o.jsx("p",{children:"Manage mode of payments"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Mode of Payment":"Add Mode of Payment",children:o.jsx(mpe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function ppe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:I().required("Code is required"),Name:I().required("Name is required"),NumberOfDays:te().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),a=et({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsx(A,{label:"Number of Days",name:"NumberOfDays",type:"number",value:a.values.NumberOfDays,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NumberOfDays,touched:a.touched.NumberOfDays,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function gpe(){const t=ie(),{paymentTerms:e,isLoading:r}=V(b=>b.paymentTerms),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(oc())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Eg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete payment term:",b)}},g=b=>{t(s?pA({...b,ID:s.ID}):Og(b)),a(!1)},y=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Payment Terms"}),o.jsx("p",{children:"Manage payment terms"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Payment Term":"Add Payment Term",children:o.jsx(ppe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function ype({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:I().required("Name is required")}),a=et({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function bpe(){const t=ie(),{industries:e,isLoading:r}=V(b=>b.industries),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(sc())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Tg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete industry:",b)}},g=b=>{t(s?mA({...b,ID:s.ID}):Ag(b)),a(!1)},y=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Industries"}),o.jsx("p",{children:"Manage industries"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Industry":"Add Industry",children:o.jsx(ype,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function xpe({initialData:t,onSubmit:e,onClose:r}){const n=ie();v.useEffect(()=>{n(Ei()),n(Pi()),n(Di()),n(_i())},[n]);const{regions:a}=V(g=>g.regions),{provinces:s}=V(g=>g.provinces),{municipalities:i}=V(g=>g.municipalities),{barangays:l}=V(g=>g.barangays),c=oe({FirstName:I().required("First Name is required"),MiddleName:I(),LastName:I().required("Last Name is required"),Gender:I().required("Gender is required"),Citizenship:I().required("Citizenship is required"),DateOfBirth:Re().required("Date of Birth is required"),PlaceOfBirth:I().required("Place of Birth is required"),Occupation:I().required("Occupation is required"),CivilStatus:I().required("Civil Status is required"),TIN:I().required("TIN is required"),EmailAddress:I().email().required("Email is required"),RegionID:I().required("Region is required"),ProvinceID:I().required("Province is required"),MunicipalityID:I().required("Municipality is required"),BarangayID:I().required("Barangay is required"),ZIPCode:I().required("ZIP Code is required"),StreetAddress:I().required("Street Address is required"),RDO:I().required("RDO is required")}),u=et({initialValues:t||{FirstName:"",MiddleName:"",LastName:"",Gender:"",Citizenship:"",DateOfBirth:"",PlaceOfBirth:"",Occupation:"",CivilStatus:"",TIN:"",EmailAddress:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",ZIPCode:"",StreetAddress:"",RDO:""},validationSchema:c,onSubmit:e}),{values:d,handleChange:f,handleBlur:m,errors:h,touched:p}=u;return o.jsxs("form",{onSubmit:u.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"First Name",name:"FirstName",value:d.FirstName,onChange:f,onBlur:m,error:h.FirstName,touched:p.FirstName,required:!0}),o.jsx(A,{label:"Middle Name",name:"MiddleName",value:d.MiddleName,onChange:f,onBlur:m,error:h.MiddleName,touched:p.MiddleName}),o.jsx(A,{label:"Last Name",name:"LastName",value:d.LastName,onChange:f,onBlur:m,error:h.LastName,touched:p.LastName,required:!0}),o.jsx(A,{label:"Gender",name:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],value:d.Gender,onChange:f,onBlur:m,error:h.Gender,touched:p.Gender,required:!0}),o.jsx(A,{label:"Citizenship",name:"Citizenship",value:d.Citizenship,onChange:f,onBlur:m,error:h.Citizenship,touched:p.Citizenship,required:!0}),o.jsx(A,{label:"Date of Birth",name:"DateOfBirth",type:"date",value:d.DateOfBirth,onChange:f,onBlur:m,error:h.DateOfBirth,touched:p.DateOfBirth,required:!0}),o.jsx(A,{label:"Place of Birth",name:"PlaceOfBirth",value:d.PlaceOfBirth,onChange:f,onBlur:m,error:h.PlaceOfBirth,touched:p.PlaceOfBirth,required:!0}),o.jsx(A,{label:"Occupation",name:"Occupation",value:d.Occupation,onChange:f,onBlur:m,error:h.Occupation,touched:p.Occupation,required:!0}),o.jsx(A,{label:"Civil Status",name:"CivilStatus",type:"select",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widowed",label:"Widowed"},{value:"Separated",label:"Separated"},{value:"Divorced",label:"Divorced"}],value:d.CivilStatus,onChange:f,onBlur:m,error:h.CivilStatus,touched:p.CivilStatus,required:!0}),o.jsx(A,{label:"TIN",name:"TIN",value:d.TIN,onChange:f,onBlur:m,error:h.TIN,touched:p.TIN,required:!0}),o.jsx(A,{label:"Email",name:"EmailAddress",type:"email",value:d.EmailAddress,onChange:f,onBlur:m,error:h.EmailAddress,touched:p.EmailAddress,required:!0}),o.jsx(A,{label:"Region",name:"RegionID",type:"select",options:a.map(g=>({value:g.ID,label:g.Name})),value:d.RegionID,onChange:f,onBlur:m,error:h.RegionID,touched:p.RegionID,required:!0}),o.jsx(A,{label:"Province",name:"ProvinceID",type:"select",options:s.map(g=>({value:g.ID,label:g.Name})),value:d.ProvinceID,onChange:f,onBlur:m,error:h.ProvinceID,touched:p.ProvinceID,required:!0}),o.jsx(A,{label:"Municipality",name:"MunicipalityID",type:"select",options:i.map(g=>({value:g.ID,label:g.Name})),value:d.MunicipalityID,onChange:f,onBlur:m,error:h.MunicipalityID,touched:p.MunicipalityID,required:!0}),o.jsx(A,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(g=>({value:g.ID,label:g.Name})),value:d.BarangayID,onChange:f,onBlur:m,error:h.BarangayID,touched:p.BarangayID,required:!0}),o.jsx(A,{label:"ZIP Code",name:"ZIPCode",value:d.ZIPCode,onChange:f,onBlur:m,error:h.ZIPCode,touched:p.ZIPCode,required:!0}),o.jsx(A,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:d.StreetAddress,onChange:f,onBlur:m,error:h.StreetAddress,touched:p.StreetAddress,required:!0}),o.jsx(A,{label:"Revenue District Office",name:"RDO",value:d.RDO,onChange:f,onBlur:m,error:h.RDO,touched:p.RDO,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const jj="https://staging-engine.testthelink.online",vpe=[],zn=M("customers/fetchCustomers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jj}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ay=M("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${jj}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),PA=M("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${jj}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ty=M("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${jj}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),jpe=ye({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(zn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zn.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(zn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=vpe}).addCase(Ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase(PA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(Ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),wpe=jpe.reducer;function Cpe(){const t=ie(),{customers:e,isLoading:r}=V(j=>j.customers),{industries:n}=V(j=>j.industries),{taxCodes:a}=V(j=>j.taxCodes),{paymentTerms:s}=V(j=>j.paymentTerms),{modeOfPayments:i}=V(j=>j.modeOfPayments),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,p]=v.useState(null);v.useEffect(()=>{t(zn()),t(sc()),t(fa()),t(oc()),t(ic())},[t]);const g=()=>{d(null),c(!0)},y=j=>{d(j),c(!0)},x=j=>{console.log("Delete customer:",j),p(j),m(!0)},b=async()=>{if(h)try{await t(Ty(h.ID)).unwrap(),m(!1),p(null)}catch(j){console.error("Failed to delete Individual/Citizen:",j)}},w=j=>{t(u?PA({...j,ID:u.ID}):Ay(j)),c(!1)},S=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"TIN",header:"TIN",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:j=>{const N=s.find(T=>T.ID==j);return(N==null?void 0:N.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:j=>{const N=i.find(T=>T.ID==j);return(N==null?void 0:N.Name)||"N/A"}},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:j=>{const N=a.find(T=>T.ID==j);return(N==null?void 0:N.Code)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:j=>{const N=n.find(T=>T.ID==j);return(N==null?void 0:N.Name)||"N/A"}},{key:"ZIPCode",header:"ZIP Code",sortable:!0},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0},{key:"DateofRegistration",header:"Date of Registration",sortable:!0}],C=[{icon:Ae,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Individuals/Citizens"}),o.jsx("p",{children:"Manage Individuals/Citizens"})]}),o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Individual/Citizen"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:S,data:e,actions:C,loading:r,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Individual/Citizen":"Add Individual/Citizen",size:"lg",children:o.jsx(xpe,{initialData:u,onClose:()=>c(!1),onSubmit:w})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the individual/citizen "',h==null?void 0:h.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const Npe={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},Spe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function dt({children:t,variant:e="primary",size:r="md",className:n="",disabled:a=!1,type:s="button",onClick:i,...l}){return o.jsx("button",{type:s,className:_e("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",Npe[e],Spe[r],a&&"opacity-50 cursor-not-allowed",n),disabled:a,onClick:i,...l,children:t})}function Ape({initialData:t,onSubmit:e,onClose:r}){const n=ie(),{customers:a}=V(b=>b.customers);v.useEffect(()=>{n(zn())},[n]);const s=et({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:oe({T_D_No:te().required("TD No. is required"),PropertyID:te().required("Property ID is required")}),onSubmit:b=>{e({...b,assessmentRows:i})}}),[i,l]=v.useState(()=>{var b;return(b=t==null?void 0:t.AssessmentRows)!=null&&b.length?t.AssessmentRows.map(w=>({...w})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:f,touched:m,handleSubmit:h,isSubmitting:p}=s,g=()=>{l([...i,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},y=b=>{if(i.length===1)return;const w=[...i];w.splice(b,1),l(w)},x=(b,w,S)=>{const C=[...i];C[b][w]=S,l(C)};return o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:f.T_D_No,touched:m.T_D_No}),o.jsx(A,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:f.PropertyID,touched:m.PropertyID})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(A,{label:"Owner",name:"OwnerID",type:"select",options:a.map(b=>({value:b.ID,label:b.Name})),value:c.OwnerID,onChange:u,onBlur:d,error:f.OwnerID,touched:m.OwnerID}),o.jsx(A,{label:"TIN",name:"OwnerTIN",type:"number",value:c.OwnerTIN,onChange:u,onBlur:d,error:f.OwnerTIN,touched:m.OwnerTIN}),o.jsx(A,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:f.OwnerTelephoneNumber,touched:m.OwnerTelephoneNumber}),o.jsx(A,{label:"Address",name:"OwnerAddress",type:"text",value:c.OwnerAddress,onChange:u,onBlur:d,error:f.OwnerAddress,touched:m.OwnerAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(A,{label:"Beneficial/Administrator User",options:a.map(b=>({value:b.ID,label:b.Name})),name:"BeneficialorAdminUserID",type:"select",value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:f.BeneficialorAdminUserID,touched:m.BeneficialorAdminUserID}),o.jsx(A,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:f.BeneficialorAdminTIN,touched:m.BeneficialorAdminTIN}),o.jsx(A,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:f.BeneficialorAdminTelephoneNumber,touched:m.BeneficialorAdminTelephoneNumber}),o.jsx(A,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:f.BeneficialorAdminAddress,touched:m.BeneficialorAdminAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[o.jsx(A,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:f.OCT_TCT_CLOA_Number,touched:m.OCT_TCT_CLOA_Number}),o.jsx(A,{label:"Survey No.",name:"SurveyNumber",type:"number",value:c.SurveyNumber,onChange:u,onBlur:d,error:f.SurveyNumber,touched:m.SurveyNumber}),o.jsx(A,{label:"Lot No.",name:"LotNumber",type:"text",value:c.LotNumber,onChange:u,onBlur:d,error:f.LotNumber,touched:m.LotNumber}),o.jsx(A,{label:"CCT",name:"CCT",type:"text",value:c.CCT,onChange:u,onBlur:d,error:f.CCT,touched:m.CCT}),o.jsx(A,{label:"Block No.",name:"BlockNumber",type:"text",value:c.BlockNumber,onChange:u,onBlur:d,error:f.BlockNumber,touched:m.BlockNumber}),o.jsx(A,{label:"Dated",name:"Dated",type:"date",value:c.Dated,onChange:u,onBlur:d,error:f.Dated,touched:m.Dated})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"North",name:"North",type:"text",value:c.North,onChange:u,onBlur:d,error:f.North,touched:m.North}),o.jsx(A,{label:"South",name:"South",type:"text",value:c.South,onChange:u,onBlur:d,error:f.South,touched:m.South}),o.jsx(A,{label:"East",name:"East",type:"text",value:c.East,onChange:u,onBlur:d,error:f.East,touched:m.East}),o.jsx(A,{label:"West",name:"West",type:"text",value:c.West,onChange:u,onBlur:d,error:f.West,touched:m.West})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"This Declaration cancels TD No."}),o.jsx("select",{name:"CancelTDNumber",value:c.CancelTDNumber,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:o.jsx("option",{value:"",children:"Select TD No."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Effectivity of Assessment/Reassessment"}),o.jsx("input",{type:"text",name:"Effectivity",value:c.Effectivity,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Owner:"}),o.jsx("input",{type:"text",name:"ownerPrevious",value:c.ownerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Previous Assessed Value:"}),o.jsx("input",{type:"number",name:"PreviousAssessedValue",value:c.PreviousAssessedValue,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,error:f.KindofProperty,touched:m.KindofProperty}),o.jsx(A,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,error:f.Storeys,touched:m.Storeys})]}),o.jsx(A,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:f.Description,touched:m.Description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kind:"}),o.jsxs("select",{name:"kind",value:c.kind,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Kind"}),o.jsx("option",{value:"LAND",children:"LAND"}),o.jsx("option",{value:"BUILDING",children:"BUILDING"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Use:"}),o.jsxs("select",{name:"ActualUse",value:c.ActualUse,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Use"}),o.jsx("option",{value:"RESIDENTIAL",children:"RESIDENTIAL"}),o.jsx("option",{value:"COMMERCIAL",children:"COMMERCIAL"}),o.jsx("option",{value:"INDUSTRIAL",children:"INDUSTRIAL"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Classification:"}),o.jsxs("select",{name:"Classification",value:c.Classification,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Classification"}),o.jsx("option",{value:"A",children:"A"}),o.jsx("option",{value:"B",children:"B"}),o.jsx("option",{value:"C",children:"C"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Area Size:"}),o.jsx("input",{type:"text",name:"AreaSize",value:c.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Assessment Level:"}),o.jsx("input",{type:"number",name:"AssessmentLevel",value:c.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Market Value:"}),o.jsx("input",{type:"number",name:"MarketValue",value:c.MarketValue,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),o.jsxs(dt,{type:"button",onClick:g,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(Uv,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsx("tr",{children:["Kind","Classification","Area","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(b=>o.jsx("th",{className:"border border-gray-300 p-2 text-sm",children:b},b))})}),o.jsx("tbody",{children:i.map((b,w)=>o.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(S=>o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:b[S],onChange:C=>x(w,S,C.target.value),className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},S)),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx(dt,{type:"button",onClick:()=>y(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:i.length===1,children:o.jsx(Mr,{className:"w-4 h-4"})})})]},w))})]})})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),o.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),o.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":"Save"})]})]})}const wj="https://staging-engine.testthelink.online",Tpe=[],ky=M("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${wj}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Iy=M("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${wj}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),DA=M("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${wj}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Oy=M("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${wj}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),kpe=ye({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=Tpe}).addCase(Iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(DA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(DA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase(Oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),Ipe=kpe.reducer;function Ope(){const t=ie(),{taxDeclarations:e,isLoading:r}=V(b=>b.taxDeclarations),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ky())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Oy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete tax declaration:",b)}},g=b=>{t(s?DA({...b,ID:s.ID}):Iy(b)),a(!1)},y=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Declarations"}),o.jsx("p",{children:"Manage Tax Declarations"})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),o.jsx(A,{type:"select",name:"year",label:"Year",placeholder:"Select a year",options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"}]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),o.jsx(ae,{size:"xl",isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Declaration":"Add Tax Declaration",children:o.jsx(Ape,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',u==null?void 0:u.T_D_No,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Cj="https://staging-engine.testthelink.online",Epe=[],Ey=M("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Cj}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Py=M("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Cj}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),_A=M("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Cj}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dy=M("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Cj}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ppe=ye({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=Epe}).addCase(Py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(_A.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),Dpe=Ppe.reducer,_pe=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{const a=ie(),{employees:s}=V(u=>u.employees);v.useEffect(()=>{a(Un())},[a]);const i=oe().shape({General_Revision_Date_Year:I().required("Required"),GeneralRevisionCode:I().required("Required"),TaxDeclarationCode:I().required("Required")}),l=et({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:i,onSubmit:u=>{e(u)}}),c=s.map(u=>({value:u.ID,label:`${u.LastName}, ${u.FirstName}`}));return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),o.jsx(A,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),o.jsx(A,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["// TODO CHANGE THIS",o.jsx(Rr,{label:"City Or Municipality Assessor",options:c,placeholder:"Select Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssessor,error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),o.jsx(Rr,{label:"Assistant City Or Municipality Assessor",options:c,placeholder:"Select Assistant Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssistantAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssistantAssessor,error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),o.jsx(Rr,{label:"Provincial Assessor",options:c,placeholder:"Select Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssessor",u||"")},selectedValue:c.find(l.values.ProvincialAssessor),error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),o.jsx(Rr,{label:"Assistant Provincial Assessor",options:c,placeholder:"Select Assistant Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssistantAssessor",u||"")},selectedValue:l.values.ProvincialAssistantAssessor,error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},$pe=()=>{const t=ie(),{generalRevisions:e,isLoading:r}=V(b=>b.generalRevisions),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(null);v.useEffect(()=>{t(Ey())},[t]);const f=()=>{c(null),a(!0)},m=b=>{c(b),a(!0)},h=b=>{t(l?_A({...b,ID:l.ID}):Py(b)),a(!1)},p=b=>{d(b),i(!0)},g=()=>{u&&(t(Dy(u.ID)),i(!1))},y=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Revisions"}),o.jsx("p",{children:"Manage General Revision Records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,actions:x,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:l?"Edit General Revision":"Add General Revision",size:"lg",children:o.jsx(_pe,{initialData:l,onClose:()=>a(!1),onSubmit:h})}),o.jsxs(ae,{isOpen:s,onClose:()=>i(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",o.jsx("strong",{children:u==null?void 0:u.revisionYear}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})};function Rpe({initialData:t,onSubmit:e,onClose:r}){const n=new Date().getFullYear(),a=oe({GeneralRevisionYear:te().required("General Revision Year is required"),Classification:I().required("Classification is required"),Unit:I().required("Unit is required"),ActualUse:I().required("Actual Use is required"),SubClassification:I().required("Sub Class No is required"),Price:te().required("Unit Value is required"),Location:I().required("Location or Description is required")}),s=et({initialValues:t||{GeneralRevisionYear:n,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:a,onSubmit:c=>{e(c)}}),i=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],l=()=>{if(!s.values.Classification)return[];const u={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[s.values.Classification];return u?Array.from({length:6},(d,f)=>({value:`${u}${f+1}`,label:`${u}${f+1}`})):[]};return v.useEffect(()=>{if(s.values.Classification&&s.values.SubClassification){const c=s.values.SubClassification.charAt(0),u=s.values.Classification.charAt(0);c!==u&&s.setFieldValue("SubClassification","")}},[s.values.Classification]),o.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"General Revision Year",name:"GeneralRevisionYear",type:"number",value:s.values.GeneralRevisionYear,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.GeneralRevisionYear,touched:s.touched.GeneralRevisionYear,required:!0}),o.jsx(A,{label:"Classification",name:"Classification",type:"select",options:i,value:s.values.Classification,onChange:c=>{s.handleChange(c),s.setFieldValue("SubClassification","")},onBlur:s.handleBlur,error:s.errors.Classification,touched:s.touched.Classification,required:!0}),o.jsx(A,{label:"Sub Class No.",name:"SubClassification",type:"select",options:l(),value:s.values.SubClassification,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.SubClassification,touched:s.touched.SubClassification,required:!0,disabled:!s.values.Classification}),o.jsx(A,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:s.values.Unit,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Unit,touched:s.touched.Unit,required:!0}),o.jsx(A,{label:"Actual Use",name:"ActualUse",type:"text",value:s.values.ActualUse,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.ActualUse,touched:s.touched.ActualUse,required:!0}),o.jsx(A,{label:"Unit Value",name:"Price",type:"number",value:s.values.Price,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Price,touched:s.touched.Price,required:!0}),o.jsx(A,{label:"Location or Description",name:"Location",type:"textarea",value:s.values.Location,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Location,touched:s.touched.Location,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}const Nj="https://staging-engine.testthelink.online",Mpe=[],_y=M("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Nj}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),$y=M("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${Nj}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),$A=M("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${Nj}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ry=M("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${Nj}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Lpe=ye({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(_y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_y.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(_y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=Mpe}).addCase($y.pending,e=>{e.isLoading=!0,e.error=null}).addCase($y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase($y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase($A.pending,e=>{e.isLoading=!0,e.error=null}).addCase($A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(Ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(Ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),Fpe=Lpe.reducer;function Bpe(){const t=ie(),{baseUnits:e,isLoading:r}=V(b=>b.baseUnits),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(_y())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},p=async()=>{if(u)try{await t(Ry(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete base unit:",b)}},g=b=>{t(s?$A({...b,ID:s.ID}):$y(b)),a(!1)},y=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Base Units"}),o.jsx("p",{children:"Manage Base Units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x,loading:r,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Base Unit":"Add Base Unit",children:o.jsx(Rpe,{initialData:s,onClose:()=>a(!1),onSubmit:g})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function Qi(t){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qi(t)}function qpe(t,e){if(Qi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z6(t){var e=qpe(t,"string");return Qi(e)=="symbol"?e:e+""}function dd(t,e,r){return(e=Z6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(r),!0).forEach(function(n){dd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vpe(t){if(Array.isArray(t))return t}function Upe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function eV(t,e){if(t){if(typeof t=="string")return RA(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RA(t,e):void 0}}function zpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bs(t,e){return Vpe(t)||Upe(t,e)||eV(t,e)||zpe()}function Wpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ms(t,e){if(t==null)return{};var r,n,a=Wpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var Hpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Gpe(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,h=t.value,p=Ms(t,Hpe),g=v.useState(l!==void 0?l:r),y=bs(g,2),x=y[0],b=y[1],w=v.useState(c!==void 0?c:a),S=bs(w,2),C=S[0],j=S[1],N=v.useState(h!==void 0?h:i),T=bs(N,2),k=T[0],E=T[1],O=v.useCallback(function(_,R){typeof u=="function"&&u(_,R),E(_)},[u]),P=v.useCallback(function(_,R){var F;typeof d=="function"&&(F=d(_,R)),b(F!==void 0?F:_)},[d]),L=v.useCallback(function(){typeof m=="function"&&m(),j(!0)},[m]),$=v.useCallback(function(){typeof f=="function"&&f(),j(!1)},[f]),D=l!==void 0?l:x,B=c!==void 0?c:C,U=h!==void 0?h:k;return Oe(Oe({},p),{},{inputValue:D,menuIsOpen:B,onChange:O,onInputChange:P,onMenuClose:$,onMenuOpen:L,value:U})}function Pe(){return Pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pe.apply(null,arguments)}function Ype(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z6(n.key),n)}}function Kpe(t,e,r){return e&&r$(t.prototype,e),r&&r$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},MA(t,e)}function Xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E0(t)}function tV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!t})()}function Jpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qpe(t,e){if(e&&(Qi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jpe(t)}function Zpe(t){var e=tV();return function(){var r,n=E0(t);if(e){var a=E0(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Qpe(this,r)}}function ege(t){if(Array.isArray(t))return RA(t)}function tge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SI(t){return ege(t)||tge(t)||eV(t)||rge()}function nge(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function age(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var sge=function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(age(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=nge(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),kr="-ms-",P0="-moz-",Je="-webkit-",rV="comm",AI="rule",TI="decl",oge="@import",nV="@keyframes",ige="@layer",lge=Math.abs,Sj=String.fromCharCode,cge=Object.assign;function uge(t,e){return xr(t,0)^45?(((e<<2^xr(t,0))<<2^xr(t,1))<<2^xr(t,2))<<2^xr(t,3):0}function aV(t){return t.trim()}function dge(t,e){return(t=e.exec(t))?t[0]:t}function Qe(t,e,r){return t.replace(e,r)}function LA(t,e){return t.indexOf(e)}function xr(t,e){return t.charCodeAt(e)|0}function $f(t,e,r){return t.slice(e,r)}function Na(t){return t.length}function kI(t){return t.length}function qh(t,e){return e.push(t),t}function fge(t,e){return t.map(e).join("")}var Aj=1,kc=1,sV=0,an=0,Xt=0,au="";function Tj(t,e,r,n,a,s,i){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:Aj,column:kc,length:i,return:""}}function Ru(t,e){return cge(Tj("",null,null,"",null,null,0),t,{length:-t.length},e)}function mge(){return Xt}function hge(){return Xt=an>0?xr(au,--an):0,kc--,Xt===10&&(kc=1,Aj--),Xt}function bn(){return Xt=an<sV?xr(au,an++):0,kc++,Xt===10&&(kc=1,Aj++),Xt}function $a(){return xr(au,an)}function My(){return an}function Fm(t,e){return $f(au,t,e)}function Rf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oV(t){return Aj=kc=1,sV=Na(au=t),an=0,[]}function iV(t){return au="",t}function Ly(t){return aV(Fm(an-1,FA(t===91?t+2:t===40?t+1:t)))}function pge(t){for(;(Xt=$a())&&Xt<33;)bn();return Rf(t)>2||Rf(Xt)>3?"":" "}function gge(t,e){for(;--e&&bn()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return Fm(t,My()+(e<6&&$a()==32&&bn()==32))}function FA(t){for(;bn();)switch(Xt){case t:return an;case 34:case 39:t!==34&&t!==39&&FA(Xt);break;case 40:t===41&&FA(t);break;case 92:bn();break}return an}function yge(t,e){for(;bn()&&t+Xt!==57;)if(t+Xt===84&&$a()===47)break;return"/*"+Fm(e,an-1)+"*"+Sj(t===47?t:bn())}function bge(t){for(;!Rf($a());)bn();return Fm(t,an)}function xge(t){return iV(Fy("",null,null,null,[""],t=oV(t),0,[0],t))}function Fy(t,e,r,n,a,s,i,l,c){for(var u=0,d=0,f=i,m=0,h=0,p=0,g=1,y=1,x=1,b=0,w="",S=a,C=s,j=n,N=w;y;)switch(p=b,b=bn()){case 40:if(p!=108&&xr(N,f-1)==58){LA(N+=Qe(Ly(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:N+=Ly(b);break;case 9:case 10:case 13:case 32:N+=pge(p);break;case 92:N+=gge(My()-1,7);continue;case 47:switch($a()){case 42:case 47:qh(vge(yge(bn(),My()),e,r),c);break;default:N+="/"}break;case 123*g:l[u++]=Na(N)*x;case 125*g:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+d:x==-1&&(N=Qe(N,/\f/g,"")),h>0&&Na(N)-f&&qh(h>32?a$(N+";",n,r,f-1):a$(Qe(N," ","")+";",n,r,f-2),c);break;case 59:N+=";";default:if(qh(j=n$(N,e,r,u,d,a,l,w,S=[],C=[],f),s),b===123)if(d===0)Fy(N,e,j,j,S,s,f,l,C);else switch(m===99&&xr(N,3)===110?100:m){case 100:case 108:case 109:case 115:Fy(t,j,j,n&&qh(n$(t,j,j,0,0,a,l,w,a,S=[],f),C),a,C,f,l,n?S:C);break;default:Fy(N,j,j,j,[""],C,0,l,C)}}u=d=h=0,g=x=1,w=N="",f=i;break;case 58:f=1+Na(N),h=p;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&hge()==125)continue}switch(N+=Sj(b),b*g){case 38:x=d>0?1:(N+="\f",-1);break;case 44:l[u++]=(Na(N)-1)*x,x=1;break;case 64:$a()===45&&(N+=Ly(bn())),m=$a(),d=f=Na(w=N+=bge(My())),b++;break;case 45:p===45&&Na(N)==2&&(g=0)}}return s}function n$(t,e,r,n,a,s,i,l,c,u,d){for(var f=a-1,m=a===0?s:[""],h=kI(m),p=0,g=0,y=0;p<n;++p)for(var x=0,b=$f(t,f+1,f=lge(g=i[p])),w=t;x<h;++x)(w=aV(g>0?m[x]+" "+b:Qe(b,/&\f/g,m[x])))&&(c[y++]=w);return Tj(t,e,r,a===0?AI:l,c,u,d)}function vge(t,e,r){return Tj(t,e,r,rV,Sj(mge()),$f(t,2,-2),0)}function a$(t,e,r,n){return Tj(t,e,r,TI,$f(t,0,n),$f(t,n+1,-1),n)}function cc(t,e){for(var r="",n=kI(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function jge(t,e,r,n){switch(t.type){case ige:if(t.children.length)break;case oge:case TI:return t.return=t.return||t.value;case rV:return"";case nV:return t.return=t.value+"{"+cc(t.children,n)+"}";case AI:t.value=t.props.join(",")}return Na(r=cc(t.children,n))?t.return=t.value+"{"+r+"}":""}function wge(t){var e=kI(t);return function(r,n,a,s){for(var i="",l=0;l<e;l++)i+=t[l](r,n,a,s)||"";return i}}function Cge(t){return function(e){e.root||(e=e.return)&&t(e)}}function Nge(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Sge=function(e,r,n){for(var a=0,s=0;a=s,s=$a(),a===38&&s===12&&(r[n]=1),!Rf(s);)bn();return Fm(e,an)},Age=function(e,r){var n=-1,a=44;do switch(Rf(a)){case 0:a===38&&$a()===12&&(r[n]=1),e[n]+=Sge(an-1,r,n);break;case 2:e[n]+=Ly(a);break;case 4:if(a===44){e[++n]=$a()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Sj(a)}while(a=bn());return e},Tge=function(e,r){return iV(Age(oV(e),r))},s$=new WeakMap,kge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!s$.get(n))&&!a){s$.set(e,!0);for(var s=[],i=Tge(r,s),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},Ige=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function lV(t,e){switch(uge(t,e)){case 5103:return Je+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Je+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Je+t+P0+t+kr+t+t;case 6828:case 4268:return Je+t+kr+t+t;case 6165:return Je+t+kr+"flex-"+t+t;case 5187:return Je+t+Qe(t,/(\w+).+(:[^]+)/,Je+"box-$1$2"+kr+"flex-$1$2")+t;case 5443:return Je+t+kr+"flex-item-"+Qe(t,/flex-|-self/,"")+t;case 4675:return Je+t+kr+"flex-line-pack"+Qe(t,/align-content|flex-|-self/,"")+t;case 5548:return Je+t+kr+Qe(t,"shrink","negative")+t;case 5292:return Je+t+kr+Qe(t,"basis","preferred-size")+t;case 6060:return Je+"box-"+Qe(t,"-grow","")+Je+t+kr+Qe(t,"grow","positive")+t;case 4554:return Je+Qe(t,/([^-])(transform)/g,"$1"+Je+"$2")+t;case 6187:return Qe(Qe(Qe(t,/(zoom-|grab)/,Je+"$1"),/(image-set)/,Je+"$1"),t,"")+t;case 5495:case 3959:return Qe(t,/(image-set\([^]*)/,Je+"$1$`$1");case 4968:return Qe(Qe(t,/(.+:)(flex-)?(.*)/,Je+"box-pack:$3"+kr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Je+t+t;case 4095:case 3583:case 4068:case 2532:return Qe(t,/(.+)-inline(.+)/,Je+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Na(t)-1-e>6)switch(xr(t,e+1)){case 109:if(xr(t,e+4)!==45)break;case 102:return Qe(t,/(.+:)(.+)-([^]+)/,"$1"+Je+"$2-$3$1"+P0+(xr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~LA(t,"stretch")?lV(Qe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(xr(t,e+1)!==115)break;case 6444:switch(xr(t,Na(t)-3-(~LA(t,"!important")&&10))){case 107:return Qe(t,":",":"+Je)+t;case 101:return Qe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Je+(xr(t,14)===45?"inline-":"")+"box$3$1"+Je+"$2$3$1"+kr+"$2box$3")+t}break;case 5936:switch(xr(t,e+11)){case 114:return Je+t+kr+Qe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Je+t+kr+Qe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Je+t+kr+Qe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Je+t+kr+t+t}return t}var Oge=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case TI:e.return=lV(e.value,e.length);break;case nV:return cc([Ru(e,{value:Qe(e.value,"@","@"+Je)})],a);case AI:if(e.length)return fge(e.props,function(s){switch(dge(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cc([Ru(e,{props:[Qe(s,/:(read-\w+)/,":"+P0+"$1")]})],a);case"::placeholder":return cc([Ru(e,{props:[Qe(s,/:(plac\w+)/,":"+Je+"input-$1")]}),Ru(e,{props:[Qe(s,/:(plac\w+)/,":"+P0+"$1")]}),Ru(e,{props:[Qe(s,/:(plac\w+)/,kr+"input-$1")]})],a)}return""})}},Ege=[Oge],Pge=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var a=e.stylisPlugins||Ege,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)s[y[x]]=!0;l.push(g)});var c,u=[kge,Ige];{var d,f=[jge,Cge(function(g){d.insert(g)})],m=wge(u.concat(a,f)),h=function(y){return cc(xge(y),m)};c=function(y,x,b,w){d=b,h(y?y+"{"+x.styles+"}":x.styles),w&&(p.inserted[x.name]=!0)}}var p={key:r,sheet:new sge({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return p.sheet.hydrate(l),p},Dge=!0;function _ge(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var cV=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||Dge===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},$ge=function(e,r,n){cV(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Rge(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Mge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Lge=/[A-Z]|^ms/g,Fge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,uV=function(e){return e.charCodeAt(1)===45},o$=function(e){return e!=null&&typeof e!="boolean"},G1=Nge(function(t){return uV(t)?t:t.replace(Lge,"-$&").toLowerCase()}),i$=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Fge,function(n,a,s){return Sa={name:a,styles:s,next:Sa},a})}return Mge[e]!==1&&!uV(e)&&typeof r=="number"&&r!==0?r+"px":r};function Mf(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Sa={name:a.name,styles:a.styles,next:Sa},a.name;var s=r;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)Sa={name:i.name,styles:i.styles,next:Sa},i=i.next;var l=s.styles+";";return l}return Bge(t,e,r)}case"function":{if(t!==void 0){var c=Sa,u=r(t);return Sa=c,Mf(t,e,u)}break}}var d=r;return d}function Bge(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Mf(t,e,r[a])+";";else for(var s in r){var i=r[s];if(typeof i!="object"){var l=i;o$(l)&&(n+=G1(s)+":"+i$(s,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)o$(i[c])&&(n+=G1(s)+":"+i$(s,i[c])+";");else{var u=Mf(t,e,i);switch(s){case"animation":case"animationName":{n+=G1(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var l$=/label:\s*([^\s;{]+)\s*(;|$)/g,Sa;function dV(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";Sa=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=Mf(r,e,s);else{var i=s;a+=i[0]}for(var l=1;l<t.length;l++)if(a+=Mf(r,e,t[l]),n){var c=s;a+=c[l]}l$.lastIndex=0;for(var u="",d;(d=l$.exec(a))!==null;)u+="-"+d[1];var f=Rge(a)+u;return{name:f,styles:a,next:Sa}}var qge=function(e){return e()},Vge=So.useInsertionEffect?So.useInsertionEffect:!1,Uge=Vge||qge,fV=v.createContext(typeof HTMLElement<"u"?Pge({key:"css"}):null);fV.Provider;var zge=function(e){return v.forwardRef(function(r,n){var a=v.useContext(fV);return e(r,a,n)})},Wge=v.createContext({}),II={}.hasOwnProperty,BA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Hge=function(e,r){var n={};for(var a in r)II.call(r,a)&&(n[a]=r[a]);return n[BA]=e,n},Gge=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return cV(r,n,a),Uge(function(){return $ge(r,n,a)}),null},Yge=zge(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[BA],s=[n],i="";typeof t.className=="string"?i=_ge(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=dV(s,void 0,v.useContext(Wge));i+=e.key+"-"+l.name;var c={};for(var u in t)II.call(t,u)&&u!=="css"&&u!==BA&&(c[u]=t[u]);return c.className=i,r&&(c.ref=r),v.createElement(v.Fragment,null,v.createElement(Gge,{cache:e,serialized:l,isStringTag:typeof a=="string"}),v.createElement(a,c))}),Kge=Yge,ke=function(e,r){var n=arguments;if(r==null||!II.call(r,"css"))return v.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=Kge,s[1]=Hge(e,r);for(var i=2;i<a;i++)s[i]=n[i];return v.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(ke||(ke={}));function OI(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return dV(e)}function Xge(){var t=OI.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Jge(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Qge=Math.min,Zge=Math.max,D0=Math.round,Vh=Math.floor,_0=t=>({x:t,y:t});function eye(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function kj(){return typeof window<"u"}function mV(t){return pV(t)?(t.nodeName||"").toLowerCase():"#document"}function ks(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hV(t){var e;return(e=(pV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pV(t){return kj()?t instanceof Node||t instanceof ks(t).Node:!1}function tye(t){return kj()?t instanceof Element||t instanceof ks(t).Element:!1}function EI(t){return kj()?t instanceof HTMLElement||t instanceof ks(t).HTMLElement:!1}function c$(t){return!kj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ks(t).ShadowRoot}function gV(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=PI(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function rye(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nye(t){return["html","body","#document"].includes(mV(t))}function PI(t){return ks(t).getComputedStyle(t)}function aye(t){if(mV(t)==="html")return t;const e=t.assignedSlot||t.parentNode||c$(t)&&t.host||hV(t);return c$(e)?e.host:e}function yV(t){const e=aye(t);return nye(e)?t.ownerDocument?t.ownerDocument.body:t.body:EI(e)&&gV(e)?e:yV(e)}function $0(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=yV(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),i=ks(a);if(s){const l=qA(i);return e.concat(i,i.visualViewport||[],gV(a)?a:[],l&&r?$0(l):[])}return e.concat(a,$0(a,[],r))}function qA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sye(t){const e=PI(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=EI(t),s=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=D0(r)!==s||D0(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function DI(t){return tye(t)?t:t.contextElement}function u$(t){const e=DI(t);if(!EI(e))return _0(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=sye(e);let i=(s?D0(r.width):r.width)/n,l=(s?D0(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const oye=_0(0);function iye(t){const e=ks(t);return!rye()||!e.visualViewport?oye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lye(t,e,r){return!1}function d$(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),s=DI(t);let i=_0(1);e&&(i=u$(t));const l=lye()?iye(s):_0(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=ks(s),h=n;let p=m,g=qA(p);for(;g&&n&&h!==p;){const y=u$(g),x=g.getBoundingClientRect(),b=PI(g),w=x.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,S=x.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=S,p=ks(g),g=qA(p)}}return eye({width:d,height:f,x:c,y:u})}function bV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cye(t,e){let r=null,n;const a=hV(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||e(),!m||!h)return;const p=Vh(f),g=Vh(a.clientWidth-(d+m)),y=Vh(a.clientHeight-(f+h)),x=Vh(d),w={rootMargin:-p+"px "+-g+"px "+-y+"px "+-x+"px",threshold:Zge(0,Qge(1,c))||1};let S=!0;function C(j){const N=j[0].intersectionRatio;if(N!==c){if(!S)return i();N?i(!1,N):n=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!bV(u,t.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(C,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,w)}r.observe(t)}return i(!0),s}function uye(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=DI(t),d=a||s?[...u?$0(u):[],...$0(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const f=u&&l?cye(u,r):null;let m=-1,h=null;i&&(h=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let p,g=c?d$(t):null;c&&y();function y(){const x=d$(t);g&&!bV(g,x)&&r(),g=x,p=requestAnimationFrame(y)}return r(),()=>{var x;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(p)}}var VA=v.useLayoutEffect,dye=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],R0=function(){};function fye(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function mye(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(fye(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var f$=function(e){return wye(e)?e.filter(Boolean):Qi(e)==="object"&&e!==null?[e]:[]},xV=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Ms(e,dye);return Oe({},r)},zt=function(e,r,n){var a=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},i(r,e),l)}};function Ij(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function hye(t){return Ij(t)?window.innerHeight:t.clientHeight}function vV(t){return Ij(t)?window.pageYOffset:t.scrollTop}function M0(t,e){if(Ij(t)){window.scrollTo(0,e);return}t.scrollTop=e}function pye(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function gye(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function Uh(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R0,a=vV(t),s=e-a,i=10,l=0;function c(){l+=i;var u=gye(l,a,s,r);M0(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function m$(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?M0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&M0(t,Math.max(e.offsetTop-a,0))}function yye(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function h$(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function bye(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var jV=!1,xye={get passive(){return jV=!0}},zh=typeof window<"u"?window:{};zh.addEventListener&&zh.removeEventListener&&(zh.addEventListener("p",R0,xye),zh.removeEventListener("p",R0,!1));var vye=jV;function jye(t){return t!=null}function wye(t){return Array.isArray(t)}function Wh(t,e,r){return t?e:r}var Cye=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(i){var l=bs(i,1),c=l[0];return!n.includes(c)});return s.reduce(function(i,l){var c=bs(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},Nye=["children","innerProps"],Sye=["children","innerProps"];function Aye(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=pye(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=r.getBoundingClientRect(),h=m.bottom,p=m.height,g=m.top,y=r.offsetParent.getBoundingClientRect(),x=y.top,b=i?window.innerHeight:hye(c),w=vV(c),S=parseInt(getComputedStyle(r).marginBottom,10),C=parseInt(getComputedStyle(r).marginTop,10),j=x-C,N=b-g,T=j+w,k=f-w-g,E=h-b+w+S,O=w+g-C,P=160;switch(a){case"auto":case"bottom":if(N>=p)return{placement:"bottom",maxHeight:e};if(k>=p&&!i)return s&&Uh(c,E,P),{placement:"bottom",maxHeight:e};if(!i&&k>=n||i&&N>=n){s&&Uh(c,E,P);var L=i?N-S:k-S;return{placement:"bottom",maxHeight:L}}if(a==="auto"||i){var $=e,D=i?j:T;return D>=n&&($=Math.min(D-S-l,e)),{placement:"top",maxHeight:$}}if(a==="bottom")return s&&M0(c,E),{placement:"bottom",maxHeight:e};break;case"top":if(j>=p)return{placement:"top",maxHeight:e};if(T>=p&&!i)return s&&Uh(c,O,P),{placement:"top",maxHeight:e};if(!i&&T>=n||i&&j>=n){var B=e;return(!i&&T>=n||i&&j>=n)&&(B=i?j-C:T-C),s&&Uh(c,O,P),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function Tye(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var wV=function(e){return e==="auto"?"bottom":e},kye=function(e,r){var n,a=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,c=s.colors;return Oe((n={label:"menu"},dd(n,Tye(a),"100%"),dd(n,"position","absolute"),dd(n,"width","100%"),dd(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},CV=v.createContext(null),Iye=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=v.useContext(CV)||{},d=u.setPortalPlacement,f=v.useRef(null),m=v.useState(a),h=bs(m,2),p=h[0],g=h[1],y=v.useState(null),x=bs(y,2),b=x[0],w=x[1],S=c.spacing.controlHeight;return VA(function(){var C=f.current;if(C){var j=i==="fixed",N=l&&!j,T=Aye({maxHeight:a,menuEl:C,minHeight:n,placement:s,shouldScroll:N,isFixedPosition:j,controlHeight:S});g(T.maxHeight),w(T.placement),d==null||d(T.placement)}},[a,s,i,l,n,d,S]),r({ref:f,placerProps:Oe(Oe({},e),{},{placement:b||wV(s),maxHeight:p})})},Oye=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return ke("div",Pe({},zt(e,"menu",{menu:!0}),{ref:n},a),r)},Eye=Oye,Pye=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Oe({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},Dye=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return ke("div",Pe({},zt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},NV=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Oe({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},_ye=NV,$ye=NV,Rye=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=Ms(e,Nye);return ke("div",Pe({},zt(Oe(Oe({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},Mye=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=Ms(e,Sye);return ke("div",Pe({},zt(Oe(Oe({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},Lye=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},Fye=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=v.useRef(null),u=v.useRef(null),d=v.useState(wV(i)),f=bs(d,2),m=f[0],h=f[1],p=v.useMemo(function(){return{setPortalPlacement:h}},[]),g=v.useState(null),y=bs(g,2),x=y[0],b=y[1],w=v.useCallback(function(){if(a){var N=yye(a),T=l==="fixed"?0:window.pageYOffset,k=N[m]+T;(k!==(x==null?void 0:x.offset)||N.left!==(x==null?void 0:x.rect.left)||N.width!==(x==null?void 0:x.rect.width))&&b({offset:k,rect:N})}},[a,l,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);VA(function(){w()},[w]);var S=v.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=uye(a,c.current,w,{elementResize:"ResizeObserver"in window}))},[a,w]);VA(function(){S()},[S]);var C=v.useCallback(function(N){c.current=N,S()},[S]);if(!r&&l!=="fixed"||!x)return null;var j=ke("div",Pe({ref:C},zt(Oe(Oe({},e),{},{offset:x.offset,position:l,rect:x.rect}),"menuPortal",{"menu-portal":!0}),s),n);return ke(CV.Provider,{value:p},r?Kx.createPortal(j,r):j)},Bye=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},qye=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return ke("div",Pe({},zt(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},Vye=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Oe({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Uye=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return ke("div",Pe({},zt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},zye=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Wye=function(e){var r=e.children,n=e.innerProps;return ke("div",Pe({},zt(e,"indicatorsContainer",{indicators:!0}),n),r)},p$,Hye=["size"],Gye=["innerProps","isRtl","size"],Yye={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},SV=function(e){var r=e.size,n=Ms(e,Hye);return ke("svg",Pe({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Yye},n))},_I=function(e){return ke(SV,Pe({size:20},e),ke("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},AV=function(e){return ke(SV,Pe({size:20},e),ke("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},TV=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Oe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},Kye=TV,Xye=function(e){var r=e.children,n=e.innerProps;return ke("div",Pe({},zt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||ke(AV,null))},Jye=TV,Qye=function(e){var r=e.children,n=e.innerProps;return ke("div",Pe({},zt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||ke(_I,null))},Zye=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Oe({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},ebe=function(e){var r=e.innerProps;return ke("span",Pe({},r,zt(e,"indicatorSeparator",{"indicator-separator":!0})))},tbe=Xge(p$||(p$=Jge([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),rbe=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Oe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},Y1=function(e){var r=e.delay,n=e.offset;return ke("span",{css:OI({animation:"".concat(tbe," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},nbe=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,i=Ms(e,Gye);return ke("div",Pe({},zt(Oe(Oe({},i),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),ke(Y1,{delay:0,offset:n}),ke(Y1,{delay:160,offset:!0}),ke(Y1,{delay:320,offset:!n}))},abe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,c=s.spacing;return Oe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},sbe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return ke("div",Pe({ref:s},zt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},obe=sbe,ibe=["data"],lbe=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},cbe=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return ke("div",Pe({},zt(e,"group",{group:!0}),c),ke(i,Pe({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),ke("div",null,r))},ube=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return Oe({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},dbe=function(e){var r=xV(e);r.data;var n=Ms(r,ibe);return ke("div",Pe({},zt(e,"groupHeading",{"group-heading":!0}),n))},fbe=cbe,mbe=["innerRef","isDisabled","isHidden","inputClassName"],hbe=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,i=s.spacing,l=s.colors;return Oe(Oe({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},pbe),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},kV={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},pbe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Oe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},kV)},gbe=function(e){return Oe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},kV)},ybe=function(e){var r=e.cx,n=e.value,a=xV(e),s=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=Ms(a,mbe);return ke("div",Pe({},zt(e,"input",{"input-container":!0}),{"data-value":n||""}),ke("input",Pe({className:r({input:!0},c),ref:s,style:gbe(l),disabled:i},u)))},bbe=ybe,xbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors;return Oe({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},vbe=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Oe({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},jbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Oe({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},IV=function(e){var r=e.children,n=e.innerProps;return ke("div",n,r)},wbe=IV,Cbe=IV;function Nbe(t){var e=t.children,r=t.innerProps;return ke("div",Pe({role:"button"},r),e||ke(_I,{size:14}))}var Sbe=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,f=n.Remove;return ke(u,{data:a,innerProps:Oe(Oe({},zt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:c},ke(d,{data:a,innerProps:Oe({},zt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),ke(f,{data:a,innerProps:Oe(Oe({},zt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},Abe=Sbe,Tbe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return Oe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},kbe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return ke("div",Pe({},zt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),r)},Ibe=kbe,Obe=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return Oe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Ebe=function(e){var r=e.children,n=e.innerProps;return ke("div",Pe({},zt(e,"placeholder",{placeholder:!0}),n),r)},Pbe=Ebe,Dbe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,i=a.colors;return Oe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},_be=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return ke("div",Pe({},zt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},$be=_be,Rbe={ClearIndicator:Qye,Control:obe,DropdownIndicator:Xye,DownChevron:AV,CrossIcon:_I,Group:fbe,GroupHeading:dbe,IndicatorsContainer:Wye,IndicatorSeparator:ebe,Input:bbe,LoadingIndicator:nbe,Menu:Eye,MenuList:Dye,MenuPortal:Fye,LoadingMessage:Mye,NoOptionsMessage:Rye,MultiValue:Abe,MultiValueContainer:wbe,MultiValueLabel:Cbe,MultiValueRemove:Nbe,Option:Ibe,Placeholder:Pbe,SelectContainer:qye,SingleValue:$be,ValueContainer:Uye},Mbe=function(e){return Oe(Oe({},Rbe),e.components)},g$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Lbe(t,e){return!!(t===e||g$(t)&&g$(e))}function Fbe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Lbe(t[r],e[r]))return!1;return!0}function Bbe(t,e){e===void 0&&(e=Fbe);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var qbe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Vbe=function(e){return ke("span",Pe({css:qbe},e))},y$=Vbe,Ube={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(g,y){return g&&g.length?"".concat(g.indexOf(y)+1," of ").concat(g.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var m=c?" disabled":"",h="".concat(u?" selected":"").concat(m);return"".concat(i).concat(h,", ").concat(f(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},zbe=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,h=c.inputValue,p=c.isMulti,g=c.isOptionDisabled,y=c.isSearchable,x=c.menuIsOpen,b=c.options,w=c.screenReaderStatus,S=c.tabSelectsValue,C=c.isLoading,j=c["aria-label"],N=c["aria-live"],T=v.useMemo(function(){return Oe(Oe({},Ube),f||{})},[f]),k=v.useMemo(function(){var D="";if(r&&T.onChange){var B=r.option,U=r.options,_=r.removedValue,R=r.removedValues,F=r.value,G=function(le){return Array.isArray(le)?null:le},W=_||B||G(F),Z=W?m(W):"",fe=U||R||void 0,Te=fe?fe.map(m):[],ne=Oe({isDisabled:W&&g(W,l),label:Z,labels:Te},r);D=T.onChange(ne)}return D},[r,T,g,l,m]),E=v.useMemo(function(){var D="",B=n||a,U=!!(n&&l&&l.includes(n));if(B&&T.onFocus){var _={focused:B,label:m(B),isDisabled:g(B,l),isSelected:U,options:s,context:B===n?"menu":"value",selectValue:l,isAppleDevice:d};D=T.onFocus(_)}return D},[n,a,m,g,T,s,l,d]),O=v.useMemo(function(){var D="";if(x&&b.length&&!C&&T.onFilter){var B=w({count:s.length});D=T.onFilter({inputValue:h,resultsMessage:B})}return D},[s,h,x,T,b,w,C]),P=(r==null?void 0:r.action)==="initial-input-focus",L=v.useMemo(function(){var D="";if(T.guidance){var B=a?"value":x?"menu":"input";D=T.guidance({"aria-label":j,context:B,isDisabled:n&&g(n,l),isMulti:p,isSearchable:y,tabSelectsValue:S,isInitialFocus:P})}return D},[j,n,a,p,g,y,x,T,l,S,P]),$=ke(v.Fragment,null,ke("span",{id:"aria-selection"},k),ke("span",{id:"aria-focused"},E),ke("span",{id:"aria-results"},O),ke("span",{id:"aria-guidance"},L));return ke(v.Fragment,null,ke(y$,{id:u},P&&$),ke(y$,{"aria-live":N,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!P&&$))},Wbe=zbe,UA=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Hbe=new RegExp("["+UA.map(function(t){return t.letters}).join("")+"]","g"),OV={};for(var K1=0;K1<UA.length;K1++)for(var X1=UA[K1],J1=0;J1<X1.letters.length;J1++)OV[X1.letters[J1]]=X1.base;var EV=function(e){return e.replace(Hbe,function(r){return OV[r]})},Gbe=Bbe(EV),b$=function(e){return e.replace(/^\s+|\s+$/g,"")},Ybe=function(e){return"".concat(e.label," ").concat(e.value)},Kbe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Oe({ignoreCase:!0,ignoreAccents:!0,stringify:Ybe,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?b$(n):n,f=c?b$(l(r)):l(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=Gbe(d),f=EV(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},Xbe=["innerRef"];function Jbe(t){var e=t.innerRef,r=Ms(t,Xbe),n=Cye(r,"onExited","in","enter","exit","appear");return ke("input",Pe({ref:e},n,{css:OI({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Qbe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Zbe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,i=v.useRef(!1),l=v.useRef(!1),c=v.useRef(0),u=v.useRef(null),d=v.useCallback(function(y,x){if(u.current!==null){var b=u.current,w=b.scrollTop,S=b.scrollHeight,C=b.clientHeight,j=u.current,N=x>0,T=S-C-w,k=!1;T>x&&i.current&&(n&&n(y),i.current=!1),N&&l.current&&(s&&s(y),l.current=!1),N&&x>T?(r&&!i.current&&r(y),j.scrollTop=S,k=!0,i.current=!0):!N&&-x>w&&(a&&!l.current&&a(y),j.scrollTop=0,k=!0,l.current=!0),k&&Qbe(y)}},[r,n,a,s]),f=v.useCallback(function(y){d(y,y.deltaY)},[d]),m=v.useCallback(function(y){c.current=y.changedTouches[0].clientY},[]),h=v.useCallback(function(y){var x=c.current-y.changedTouches[0].clientY;d(y,x)},[d]),p=v.useCallback(function(y){if(y){var x=vye?{passive:!1}:!1;y.addEventListener("wheel",f,x),y.addEventListener("touchstart",m,x),y.addEventListener("touchmove",h,x)}},[h,m,f]),g=v.useCallback(function(y){y&&(y.removeEventListener("wheel",f,!1),y.removeEventListener("touchstart",m,!1),y.removeEventListener("touchmove",h,!1))},[h,m,f]);return v.useEffect(function(){if(e){var y=u.current;return p(y),function(){g(y)}}},[e,p,g]),function(y){u.current=y}}var x$=["boxSizing","height","overflow","paddingRight","position"],v$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function j$(t){t.cancelable&&t.preventDefault()}function w$(t){t.stopPropagation()}function C$(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function N$(){return"ontouchstart"in window||navigator.maxTouchPoints}var S$=!!(typeof window<"u"&&window.document&&window.document.createElement),Mu=0,Nl={capture:!1,passive:!1};function e0e(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=v.useRef({}),s=v.useRef(null),i=v.useCallback(function(c){if(S$){var u=document.body,d=u&&u.style;if(n&&x$.forEach(function(p){var g=d&&d[p];a.current[p]=g}),n&&Mu<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,h=window.innerWidth-m+f||0;Object.keys(v$).forEach(function(p){var g=v$[p];d&&(d[p]=g)}),d&&(d.paddingRight="".concat(h,"px"))}u&&N$()&&(u.addEventListener("touchmove",j$,Nl),c&&(c.addEventListener("touchstart",C$,Nl),c.addEventListener("touchmove",w$,Nl))),Mu+=1}},[n]),l=v.useCallback(function(c){if(S$){var u=document.body,d=u&&u.style;Mu=Math.max(Mu-1,0),n&&Mu<1&&x$.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&N$()&&(u.removeEventListener("touchmove",j$,Nl),c&&(c.removeEventListener("touchstart",C$,Nl),c.removeEventListener("touchmove",w$,Nl)))}},[n]);return v.useEffect(function(){if(e){var c=s.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){s.current=c}}var t0e=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},r0e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function n0e(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=Zbe({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=e0e({isEnabled:r}),f=function(h){u(h),d(h)};return ke(v.Fragment,null,r&&ke("div",{onClick:t0e,css:r0e}),e(f))}var a0e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},s0e=function(e){var r=e.name,n=e.onFocus;return ke("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:a0e,value:"",onChange:function(){}})},o0e=s0e;function $I(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function i0e(){return $I(/^iPhone/i)}function PV(){return $I(/^Mac/i)}function l0e(){return $I(/^iPad/i)||PV()&&navigator.maxTouchPoints>1}function c0e(){return i0e()||l0e()}function u0e(){return PV()||c0e()}var d0e=function(e){return e.label},f0e=function(e){return e.label},m0e=function(e){return e.value},h0e=function(e){return!!e.isDisabled},p0e={clearIndicator:Jye,container:Bye,control:abe,dropdownIndicator:Kye,group:lbe,groupHeading:ube,indicatorsContainer:zye,indicatorSeparator:Zye,input:hbe,loadingIndicator:rbe,loadingMessage:$ye,menu:kye,menuList:Pye,menuPortal:Lye,multiValue:xbe,multiValueLabel:vbe,multiValueRemove:jbe,noOptionsMessage:_ye,option:Tbe,placeholder:Obe,singleValue:Dbe,valueContainer:Vye},g0e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},y0e=4,DV=4,b0e=38,x0e=DV*2,v0e={baseUnit:DV,controlHeight:b0e,menuGutter:x0e},Q1={borderRadius:y0e,colors:g0e,spacing:v0e},j0e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:h$(),captureMenuScroll:!h$(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Kbe(),formatGroupLabel:d0e,getOptionLabel:f0e,getOptionValue:m0e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:h0e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!bye(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function A$(t,e,r,n){var a=RV(t,e,r),s=MV(t,e,r),i=$V(t,e),l=L0(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:i,value:l,index:n}}function By(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return A$(t,i,e,l)}).filter(function(i){return k$(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=A$(t,r,e,n);return k$(t,s)?s:void 0}).filter(jye)}function _V(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,SI(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function T$(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,SI(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function w0e(t,e){return _V(By(t,e))}function k$(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,i=e.label,l=e.value;return(!FV(t)||!s)&&LV(t,{label:i,value:l,data:a},n)}function C0e(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function N0e(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var Z1=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},$V=function(e,r){return e.getOptionLabel(r)},L0=function(e,r){return e.getOptionValue(r)};function RV(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function MV(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=L0(t,e);return r.some(function(a){return L0(t,a)===n})}function LV(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var FV=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},S0e=1,BV=function(t){Xpe(r,t);var e=Zpe(r);function r(n){var a;if(Ype(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=u0e(),a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,m=f.closeMenuOnSelect,h=f.isMulti,p=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:p}),m&&(a.setState({inputIsHiddenAfterUpdate:!h}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,h=a.state.selectValue,p=f&&a.isOptionSelected(c,h),g=a.isOptionDisabled(c,h);if(p){var y=a.getOptionValue(c);a.setValue(h.filter(function(x){return a.getOptionValue(x)!==y}),"deselect-option",c)}else if(!g)f?a.setValue([].concat(SI(h),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),m=d.filter(function(p){return a.getOptionValue(p)!==f}),h=Wh(u,m,m[0]||null);a.onChange(h,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(Wh(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=Wh(c,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return Z1(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return T$(By(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return mye.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return $V(a.props,c)},a.getOptionValue=function(c){return L0(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=p0e[c](u,d);f.boxSizing="border-box";var m=a.props.styles[c];return m?m(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return Mbe(a.props)},a.buildCategorizedOptions=function(){return By(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return _V(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Oe({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Ij(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),h=5;a.userIsDragging=f>h||m>h}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return FV(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,h=u.inputValue,p=u.isClearable,g=u.isDisabled,y=u.menuIsOpen,x=u.onKeyDown,b=u.tabSelectsValue,w=u.openMenuOnFocus,S=a.state,C=S.focusedOption,j=S.focusedValue,N=S.selectValue;if(!g&&!(typeof x=="function"&&(x(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||h)return;a.focusValue("previous");break;case"ArrowRight":if(!d||h)return;a.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(j)a.removeValue(j);else{if(!f)return;d?a.popValue():p&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!y||!b||!C||w&&a.isOptionSelected(C,N))return;a.selectOption(C);break;case"Enter":if(c.keyCode===229)break;if(y){if(!C||a.isComposing)return;a.selectOption(C);break}return;case"Escape":y?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:h}),a.onMenuClose()):p&&m&&a.clearValue();break;case" ":if(h)return;if(!y){a.openMenu("first");break}if(!C)return;a.selectOption(C);break;case"ArrowUp":y?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":y?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!y)return;a.focusOption("pageup");break;case"PageDown":if(!y)return;a.focusOption("pagedown");break;case"Home":if(!y)return;a.focusOption("first");break;case"End":if(!y)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++S0e),a.state.selectValue=f$(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[l],a.state.focusedOptionId=Z1(s,i[l])}return a}return Kpe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&m$(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(m$(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Q1):Oe(Oe({},Q1),this.props.theme):Q1}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,h=f.isRtl,p=f.options,g=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:l,getValue:c,hasValue:g,isMulti:m,isRtl:h,options:p,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return RV(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return MV(this.props,a,s)}},{key:"filterOption",value:function(a,s){return LV(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,h=this.getComponents(),p=h.Input,g=this.state,y=g.inputIsHidden,x=g.ariaSelection,b=this.commonProps,w=l||this.getElementId("input"),S=Oe(Oe(Oe({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?v.createElement(p,Pe({},b,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:s,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},S)):v.createElement(Jbe,Pe({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:R0,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},S))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,m=this.commonProps,h=this.props,p=h.controlShouldRenderValue,g=h.isDisabled,y=h.isMulti,x=h.inputValue,b=h.placeholder,w=this.state,S=w.selectValue,C=w.focusedValue,j=w.isFocused;if(!this.hasValue()||!p)return x?null:v.createElement(f,Pe({},m,{key:"placeholder",isDisabled:g,isFocused:j,innerProps:{id:this.getElementId("placeholder")}}),b);if(y)return S.map(function(T,k){var E=T===C,O="".concat(a.getOptionLabel(T),"-").concat(a.getOptionValue(T));return v.createElement(i,Pe({},m,{components:{Container:l,Label:c,Remove:u},isFocused:E,isDisabled:g,key:O,index:k,removeProps:{onClick:function(){return a.removeValue(T)},onTouchEnd:function(){return a.removeValue(T)},onMouseDown:function(L){L.preventDefault()}},data:T}),a.formatOptionLabel(T,"value"))});if(x)return null;var N=S[0];return v.createElement(d,Pe({},m,{data:N,isDisabled:g}),this.formatOptionLabel(N,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(s,Pe({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return v.createElement(s,Pe({},i,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return v.createElement(i,Pe({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(s,Pe({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,m=s.NoOptionsMessage,h=s.Option,p=this.commonProps,g=this.state.focusedOption,y=this.props,x=y.captureMenuScroll,b=y.inputValue,w=y.isLoading,S=y.loadingMessage,C=y.minMenuHeight,j=y.maxMenuHeight,N=y.menuIsOpen,T=y.menuPlacement,k=y.menuPosition,E=y.menuPortalTarget,O=y.menuShouldBlockScroll,P=y.menuShouldScrollIntoView,L=y.noOptionsMessage,$=y.onMenuScrollToTop,D=y.onMenuScrollToBottom;if(!N)return null;var B=function(Z,fe){var Te=Z.type,ne=Z.data,K=Z.isDisabled,le=Z.isSelected,J=Z.label,ee=Z.value,H=g===ne,z=K?void 0:function(){return a.onOptionHover(ne)},me=K?void 0:function(){return a.selectOption(ne)},we="".concat(a.getElementId("option"),"-").concat(fe),Ie={id:we,onClick:me,onMouseMove:z,onMouseOver:z,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:le};return v.createElement(h,Pe({},p,{innerProps:Ie,data:ne,isDisabled:K,isSelected:le,key:we,label:J,type:Te,value:ee,isFocused:H,innerRef:H?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(Z.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(W){if(W.type==="group"){var Z=W.data,fe=W.options,Te=W.index,ne="".concat(a.getElementId("group"),"-").concat(Te),K="".concat(ne,"-heading");return v.createElement(i,Pe({},p,{key:ne,data:Z,options:fe,Heading:l,headingProps:{id:K,data:W.data},label:a.formatGroupLabel(W.data)}),W.options.map(function(le){return B(le,"".concat(Te,"-").concat(le.index))}))}else if(W.type==="option")return B(W,"".concat(W.index))});else if(w){var _=S({inputValue:b});if(_===null)return null;U=v.createElement(f,p,_)}else{var R=L({inputValue:b});if(R===null)return null;U=v.createElement(m,p,R)}var F={minMenuHeight:C,maxMenuHeight:j,menuPlacement:T,menuPosition:k,menuShouldScrollIntoView:P},G=v.createElement(Iye,Pe({},p,F),function(W){var Z=W.ref,fe=W.placerProps,Te=fe.placement,ne=fe.maxHeight;return v.createElement(c,Pe({},p,F,{innerRef:Z,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:w,placement:Te}),v.createElement(n0e,{captureEnabled:x,onTopArrive:$,onBottomArrive:D,lockEnabled:O},function(K){return v.createElement(u,Pe({},p,{innerRef:function(J){a.getMenuListRef(J),K(J)},innerProps:{role:"listbox","aria-multiselectable":p.isMulti,id:a.getElementId("listbox")},isLoading:w,maxHeight:ne,focusedOption:g}),U)}))});return E||k==="fixed"?v.createElement(d,Pe({},p,{appendTo:E,controlElement:this.controlRef,menuPlacement:T,menuPosition:k}),G):G}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return v.createElement(o0e,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var m=f.map(function(g){return a.getOptionValue(g)}).join(i);return v.createElement("input",{name:u,type:"hidden",value:m})}else{var h=f.length>0?f.map(function(g,y){return v.createElement("input",{key:"i-".concat(y),name:u,type:"hidden",value:a.getOptionValue(g)})}):v.createElement("input",{name:u,type:"hidden",value:""});return v.createElement("div",null,h)}else{var p=f[0]?this.getOptionValue(f[0]):"";return v.createElement("input",{name:u,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return v.createElement(Wbe,Pe({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,h=u.menuIsOpen,p=this.state.isFocused,g=this.commonProps=this.getCommonProps();return v.createElement(l,Pe({},g,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:p}),this.renderLiveRegion(),v.createElement(s,Pe({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:p,menuIsOpen:h}),v.createElement(c,Pe({},g,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),v.createElement(i,Pe({},g,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,m=s.instancePrefix,h=a.options,p=a.value,g=a.menuIsOpen,y=a.inputValue,x=a.isMulti,b=f$(p),w={};if(i&&(p!==i.value||h!==i.options||g!==i.menuIsOpen||y!==i.inputValue)){var S=g?w0e(a,b):[],C=g?T$(By(a,b),"".concat(m,"-option")):[],j=l?C0e(s,b):null,N=N0e(s,S),T=Z1(C,N);w={selectValue:b,focusedOption:N,focusedOptionId:T,focusableOptionsWithIds:C,focusedValue:j,clearFocusValueOnUpdate:!1}}var k=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},E=u,O=d&&f;return d&&!O&&(E={value:Wh(x,b,b[0]||null),options:b,action:"initial-input-focus"},O=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(E=null),Oe(Oe(Oe({},w),k),{},{prevProps:a,ariaSelection:E,prevWasFocused:O})}}]),r}(v.Component);BV.defaultProps=j0e;var A0e=v.forwardRef(function(t,e){var r=Gpe(t);return v.createElement(BV,Pe({ref:e},r))}),jr=A0e;function Lf({price:t="",quantity:e="",taxRate:r="",discountPercent:n="",vatable:a=!1,ewtRate:s=0,vatRate:i=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,f=parseFloat(s)||0;let m=0,h=0,p=0,g=0,y=0,x=0,b=0,w=0,S=0;return a?(m=l*c,h=+(m*d).toFixed(2),g=+(m-h).toFixed(2),p=+(g*i/(100+i)).toFixed(2),y=+(g-p).toFixed(2)):(m=l*c,h=+(m*d).toFixed(2),p=+(m*i/100).toFixed(2),y=+(m-h).toFixed(2),g=+(y+p).toFixed(2)),x=+(y*u/100*-1).toFixed(2),b=+(y*f/100*-1).toFixed(2),w=+(x+b).toFixed(2),S=a?+(g+w).toFixed(2):+(y+w).toFixed(2),{subtotalBeforeDiscount:m,discount:h,vat:p,subtotalTaxIncluded:g,subtotalTaxExcluded:y,withheld:x,ewt:b,ewtrate:f,totalDeduction:w,subtotal:S}}function qV({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=oe({ResponsibilityCenter:I().required("Required"),ChargeAccountID:I().required("Required"),ItemID:I().required("Required"),Remarks:I().required("Required"),FPP:I().required("Required"),Price:te().required("Required"),Quantity:te().required("Required"),ItemUnitID:I().required("Required"),TAXCodeID:I().required("Required"),DiscountRate:te().required("Required")}),d=et({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:p=>{const g=i.find(S=>String(S.ID)===String(p.TAXCodeID)),y=Lf({price:p.Price,quantity:p.Quantity,taxRate:(g==null?void 0:g.Rate)||0,discountPercent:p.DiscountRate,vatable:p.Vatable,ewtRate:p.withheldEWT}),x=r.find(S=>String(S.value)===String(p.ResponsibilityCenter)),b=l.find(S=>String(S.value)===String(p.ChargeAccountID)),w=n.find(S=>String(S.value)===String(p.ItemID));t({...p,...y,responsibilityCenterName:x?x.label:"",chargeAccountName:b?b.label:"",itemName:w?w.label:""}),e()}}),f=v.useRef({...d.values});v.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(x=>d.values[x]!==f.current[x]))return;f.current={...d.values};const g=i.find(x=>String(x.ID)===String(d.values.TAXCodeID)),y=Lf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(g==null?void 0:g.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});y.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",y.subtotal,!1),y.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",y.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(p=>String(p.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(A,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),o.jsxs("div",{children:[o.jsx(A,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),o.jsxs("div",{children:[o.jsx(A,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(A,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),o.jsxs("div",{children:[o.jsx(A,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP"),required:!0}),d.touched.FPP&&d.errors.FPP&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(A,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),o.jsxs("div",{children:[o.jsx(A,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),o.jsxs("div",{children:[o.jsx(A,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(A,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),o.jsx("div",{children:o.jsx(A,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsxs("div",{children:[o.jsx(A,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:o.jsx(A,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const VV="https://staging-engine.testthelink.online",T0e={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},qy=M("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${VV}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),eC=M("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Vy=M("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${VV}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Uy=M("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),UV=ye({name:"obligationRequests",initialState:T0e,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(qy.pending,e=>{e.isLoading=!0}).addCase(qy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(eC.pending,e=>{e.isLoading=!0}).addCase(eC.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(eC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Vy.pending,e=>{e.isLoading=!0}).addCase(Vy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(Vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Uy.pending,e=>{e.isLoading=!0}).addCase(Uy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(Uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:L7e}=UV.actions,k0e=UV.reducer,I$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],I0e=oe().shape({obrNo:I(),obrDate:Re().required("Date is required"),payeeType:I().required("Payee type is required"),payeeId:I().required("Payee selection is required"),responsibilityCenter:I().required("Responsibility Center is required"),fund:I().required("Fund is required"),fiscalYear:I().required("Fiscal Year is required"),project:I().required("Project is required"),accountingEntries:tn().min(1,"At least one item is required")});function O0e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:g=[],taxCodeFull:y=[]}){const x=ie(),b=v.useRef(null),[w,S]=v.useState(!1),[C,j]=v.useState(null),[N,T]=v.useState(null),[k,E]=v.useState(!1),[O,P]=v.useState([]),L=(_,R)=>{const F=_.reduce((Z,fe)=>Z+Number(fe.amount||0),0),G=R.reduce((Z,fe)=>Z+Number(fe.amount||0),0),W=F-G;return{grossAmount:F,totalTaxes:G,netAmount:W}},$={description:"",amount:"",accountCode:""},D={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[$],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},B=_=>{S(!0),L(_.items,_.taxes);const R=new FormData;_.payeeType==="Employee"?(R.append("EmployeeID",_.payeeId),R.append("VendorID",""),R.append("CustomerID","")):_.payeeType==="Vendor"?(R.append("EmployeeID",""),R.append("VendorID",_.payeeId),R.append("CustomerID","")):_.payeeType==="Individual"&&(R.append("EmployeeID",""),R.append("VendorID",""),R.append("CustomerID",_.payeeId)),R.append("PayeeType",_.payeeType),R.append("Payee",(C==null?void 0:C.Name)||(C==null?void 0:C.FirstName)+" "+(C==null?void 0:C.MiddleName)+" "+(C==null?void 0:C.LastName)||""),R.append("Address",(C==null?void 0:C.StreetAddress)||""),R.append("InvoiceNumber",_.obrNo),R.append("InvoiceDate",_.obrDate),R.append("ResponsibilityCenter",_.responsibilityCenter);const F=_.accountingEntries.reduce((ne,K)=>ne+Number(K.subtotal||0),0),G=_.accountingEntries.reduce((ne,K)=>ne+Number(K.ewt||0),0),W=_.accountingEntries.reduce((ne,K)=>ne+Number(K.withheld||0),0),Z=_.accountingEntries.reduce((ne,K)=>ne+Number(K.vat||0),0),fe=_.accountingEntries.reduce((ne,K)=>ne+Number(K.discount||0),0);R.append("Total",F.toFixed(2)),R.append("EWT",G.toFixed(2)),R.append("WithheldAmount",W.toFixed(2)),R.append("Vat_Total",Z.toFixed(2)),R.append("Discounts",fe.toFixed(2)),R.append("FundsID",_.fund),R.append("FiscalYearID",_.fiscalYear),R.append("ProjectID",_.project),R.append("TravelID",""),R.append("Items",JSON.stringify(_.accountingEntries)),_.Attachments.forEach((ne,K)=>{ne.File?R.append(`Attachments[${K}].File`,ne.File):ne.ID&&R.append(`Attachments[${K}].ID`,ne.ID)});const Te=t?Uy({formData:R,id:t.ID}):Vy(R);x(Te).unwrap().then(()=>{pe.success("Success"),e()}).catch(ne=>{pe.error((ne==null?void 0:ne.message)||"Failed to submit")}).finally(()=>{S(!1)})},U=({type:_})=>{switch(_){case"Employee":return o.jsx(CI,{className:"w-5 h-5"});case"Vendor":return o.jsx(S2,{className:"w-5 h-5"});case"Individual":return o.jsx(zv,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:b,initialValues:D,validationSchema:I0e,onSubmit:B,enableReinitialize:!0,children:({values:_,errors:R,touched:F,handleChange:G,handleBlur:W,setFieldValue:Z,setFieldTouched:fe,isValid:Te})=>{L(_.items,_.taxes);const K=I$.map(H=>({value:H.value,label:H.label})).find(H=>H.value===_.payeeType),le=H=>{j(null),Z("payeeType",H),Z("payeeName",""),Z("payeeId",""),Z("payeeAddress",""),Z("officeUnitProject",""),Z("orsNumber","")},J=H=>{let z=null;switch(_.payeeType){case"Employee":z=s.find(me=>me.ID===H);break;case"Vendor":z=i.find(me=>me.ID===H);break;case"Individual":z=l.find(me=>me.ID===H);break}j(z),Z("payeeName",z==null?void 0:z.Name),Z("payeeId",z==null?void 0:z.ID)},ee=H=>{switch(H){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Be,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:I$.map(H=>o.jsxs("button",{type:"button",onClick:()=>le(H.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${_.payeeType===H.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(U,{type:H.value}),o.jsx("span",{className:"ml-3 font-medium",children:H.label})]},H.value))}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),_.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",K==null?void 0:K.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:ee(_.payeeType),value:ee(_.payeeType).find(H=>H.value===_.payeeId)||null,onChange:H=>J(H.value),className:"react-select-container",classNamePrefix:"react-select"}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),C&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(K==null?void 0:K.label)==="Employee"?`${C.FirstName||""} ${C.MiddleName||""} ${C.LastName||""}`.trim():((K==null?void 0:K.label)==="Vendor"||(K==null?void 0:K.label)==="Individual",C.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((K==null?void 0:K.label)==="Employee"||(K==null?void 0:K.label)==="Vendor"||(K==null?void 0:K.label)==="Individual",C.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(A,{type:"text",label:"OBR No.",name:"obrNo",value:_.obrNo,onChange:G,onBlur:W,error:R.obrNo,touched:F.obrNo,readOnly:!0,disabled:!0,className:"pointer-events-none bg-gray-100"}),o.jsx(A,{type:"date",label:"Date",name:"obrDate",value:_.obrDate,onChange:G,onBlur:W,error:R.obrDate,touched:F.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:c,value:c.find(H=>H.value===_.responsibilityCenter)||null,onChange:H=>Z("responsibilityCenter",H.value),onBlur:()=>fe("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),R.responsibilityCenter&&F.responsibilityCenter&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.responsibilityCenter})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:u,value:u.find(H=>H.value===_.fund)||null,onChange:H=>Z("fund",H.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:f,value:f.find(H=>H.value===_.fiscalYear)||null,onChange:H=>Z("fiscalYear",H.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:d,value:d.find(H=>H.value===_.project)||null,onChange:H=>Z("project",H.value),className:"react-select-container",classNamePrefix:"react-select"}),R.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.project})]})]}),o.jsx(Kr,{name:"accountingEntries",children:({push:H,remove:z})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>E(!0),children:"+ Item"})]}),_.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"PARTICULARS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),_.accountingEntries.map((me,we)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:me.responsibilityCenterName}),o.jsx("span",{children:me.Remarks}),o.jsx("span",{children:me.itemName}),o.jsx("span",{children:me.FPP}),o.jsx("span",{children:me.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(me.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>z(we),className:"text-red-600 text-xs",children:""})})]},we)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:_.accountingEntries.reduce((me,we)=>me+Number(we.subtotal),0).toFixed(2)})]})]}),o.jsx(ae,{isOpen:k,onClose:()=>E(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(qV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:g,taxCodeFull:y,onClose:()=>E(!1),onSubmit:me=>{H(me),E(!1)}})})]})}),R.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.accountingEntries}),o.jsx("hr",{}),o.jsx(Kr,{name:"Attachments",render:({remove:H,push:z})=>{var me;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>z({File:null}),children:"+ Attachment"})]}),(me=_.Attachments)==null?void 0:me.map((we,Ie)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[we.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${we.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:we.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Ie}].ID`,value:we.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Ie+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Ie}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ne=>Z(`Attachments[${Ie}].File`,Ne.currentTarget.files[0]),onBlur:W,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>H(Ie),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Mr,{className:"w-4 h-4"})})]},Ie))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function E0e({dv:t,onClose:e,onEdit:r}){const n=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),a=i=>new Date(i).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=i=>{let l="bg-neutral-100 text-neutral-800";switch(i){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${s(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(al,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.dvNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dvDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"ORS Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.orsNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.modeOfPayment})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Particulars"}),o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-line",children:t.particulars})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Gross Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n(t.grossAmount)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Total Deductions"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-error-600",children:n(t.totalDeductions)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Net Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.netAmount)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(e3,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(ZB,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(n3,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for certification"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const Oj="https://staging-engine.testthelink.online",sr=M("budgetFunds/fetchBudgetFunds",async()=>await(await fetch(`${Oj}/funds`,{method:"GET"})).json()),zy=M("budgetFunds/createBudgetFund",async t=>{const r=await(await fetch(`${Oj}/funds`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({IsNew:!0,...t})})).json();if(r)return pe.success("Fund added successfully"),r;throw new Error("Failed to create fund")}),Wy=M("budgetFunds/updateBudgetFund",async t=>{const r=await(await fetch(`${Oj}/funds`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({IsNew:!1,...t})})).json();if(r)return pe.success("Fund updated successfully"),r;throw new Error("Failed to update fund")}),Hy=M("budgetFunds/deleteBudgetFund",async t=>{if(await(await fetch(`${Oj}/funds/${t}`,{method:"DELETE"})).json())return pe.success("Fund deleted successfully"),t;throw new Error("Failed to delete fund")}),P0e=ye({name:"budgetFunds",initialState:{funds:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(sr.pending,e=>{e.loading=!0,e.error=null}).addCase(sr.fulfilled,(e,r)=>{e.loading=!1,e.funds=r.payload||[]}).addCase(sr.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to fetch budget funds")}).addCase(zy.pending,e=>{e.loading=!0,e.error=null}).addCase(zy.fulfilled,(e,r)=>{e.loading=!1,e.funds=[...e.funds,r.payload]}).addCase(zy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to create fund")}).addCase(Wy.pending,e=>{e.loading=!0,e.error=null}).addCase(Wy.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.map(n=>n.ID===r.payload.ID?r.payload:n)}).addCase(Wy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to update fund")}).addCase(Hy.pending,e=>{e.loading=!0,e.error=null}).addCase(Hy.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(Hy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to delete fund")})}}),D0e=P0e.reducer,_0e=[{ID:"1",Name:"Budget 1"}],Co=M("budget/fetchBudgets",async(t,e)=>{try{return _0e}catch(r){return e.rejectWithValue(r.message)}}),tC=M("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),rC=M("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),nC=M("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),$0e={budgets:[],isLoading:!1,error:null},R0e=ye({name:"budget",initialState:$0e,reducers:{},extraReducers:t=>{t.addCase(Co.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Co.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase(Co.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(tC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(tC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(rC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(rC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(nC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(nC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),M0e=R0e.reducer;function L0e(){const t=ie(),{obligationRequests:e,isLoading:r}=V(j=>j.obligationRequests),{employees:n}=V(j=>j.employees),{customers:a}=V(j=>j.customers),{vendorDetails:s}=V(j=>j.vendorDetails),{departments:i}=V(j=>j.departments),{projectDetails:l}=V(j=>j.projectDetails),{funds:c}=V(j=>j.funds),{fiscalYears:u}=V(j=>j.fiscalYears),{items:d}=V(j=>j.items),{taxCodes:f}=V(j=>j.taxCodes),{itemUnits:m}=V(j=>j.itemUnits),{budgets:h}=V(j=>j.budget),[p,g]=v.useState("list"),[y,x]=v.useState(null);v.useEffect(()=>{t(qy()),t(Un()),t(zn()),t(ps()),t(Cr()),t($i()),t(sr()),t(ys()),t(gs()),t(fa()),t(_a()),t(Co())},[t]);const b=()=>{x(null),g("form")},w=j=>{x(j),g("form")},S=()=>{g("list"),x(null)},C=[{key:"Status",header:"Status",sortable:!0,render:j=>{let N="bg-neutral-100 text-neutral-800";switch(j){case"Requested":N="bg-warning-100 text-warning-800";break;case"Pending Approval":N="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":N="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:j})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>new Date(j).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[p==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Requests"}),o.jsx("p",{children:"Manage obligation requests"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:C,data:e,actions:j=>{var T;const N=[];return((T=j.Transaction)==null?void 0:T.Status)==="Rejected"&&N.push({icon:Ae,title:"Edit",onClick:()=>w(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),N},loading:r})})]}),p==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:y?"Edit Obligation Request":"Create Obligation Request"}),o.jsxs("p",{children:["Fill out the form to"," ",y?"update":"create"," an obligation request"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(O0e,{initialData:y,employeeOptions:n.map(j=>({value:j.ID,label:j.FirstName+" "+j.MiddleName+" "+j.LastName})),vendorOptions:s.map(j=>({value:j.ID,label:j.Name})),individualOptions:a.map(j=>({value:j.ID,label:j.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(j=>({value:j.ID,label:j.Name})),fundOptions:c.map(j=>({value:j.ID,label:j.Name})),projectOptions:l.map(j=>({value:j.ID,label:j.Title})),fiscalYearOptions:u.map(j=>({value:j.ID,label:j.Name})),particularsOptions:d.map(j=>({value:j.ID,label:j.Name})),unitOptions:m.map(j=>({value:j.ID,label:j.Name})),taxCodeOptions:f.map(j=>({value:j.ID,label:j.Name})),budgetOptions:h.map(j=>({value:j.ID,label:j.Name})),taxCodeFull:f,onCancel:S,onSubmitSuccess:S,onClose:S})})]}),p==="details"&&y&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Request Details"}),o.jsx("p",{children:"View and manage obligation request details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>w(y),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(E0e,{or:y,onBack:S})})]})]})}function zV(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let a=`${zA(r)} PESOS`;return n>0&&(a+=` AND ${n.toString().padStart(2,"0")}/100`),a.trim()}function zA(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${zA(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const a=(s,i)=>{s>0&&(n+=`${zA(s)} ${i} `)};return a(Math.floor(t/1e12),"TRILLION"),t%=1e12,a(Math.floor(t/1e9),"BILLION"),t%=1e9,a(Math.floor(t/1e6),"MILLION"),t%=1e6,a(Math.floor(t/1e3),"THOUSAND"),t%=1e3,a(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const RI="https://staging-engine.testthelink.online",F0e={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},Gy=M("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const a=localStorage.getItem("token"),s=`${RI}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e)}&requestType=${encodeURIComponent(t)}&id=${r}`,i=await fetch(s,{headers:{Authorization:`Bearer ${a}`}}),l=await i.json();if(!i.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(a){return n.rejectWithValue(a.message)}}),Yy=M("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${RI}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),aC=M("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().disbursementVouchers.disbursementVouchers.find(i=>i.id===t);s?r(s):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Ky=M("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${RI}/disbursementVoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Xy=M("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),WV=ye({name:"disbursementVouchers",initialState:F0e,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(Yy.pending,e=>{e.isLoading=!0}).addCase(Yy.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(Yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(aC.pending,e=>{e.isLoading=!0}).addCase(aC.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(aC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ky.pending,e=>{e.isLoading=!0}).addCase(Ky.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(Ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Xy.pending,e=>{e.isLoading=!0}).addCase(Xy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(Xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Gy.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(Gy.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(Gy.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:F7e}=WV.actions,B0e=WV.reducer,O$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],q0e=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}];function V0e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:g=[],taxCodeFull:y=[],chartOfAccountsOptions:x=[]}){const b=ie(),w=v.useRef(null),[S,C]=v.useState(!1),[j,N]=v.useState(null),[T,k]=v.useState(null),[E,O]=v.useState(null),[P,L]=v.useState(!1),[$,D]=v.useState([]),[B,U]=v.useState((t==null?void 0:t.modeOfPayment)||""),_=()=>oe().shape({payeeType:I().required("Payee type is required"),payeeId:I().required("Payee selection is required"),accountingEntries:E==="Standalone Request"?tn():tn().min(1,"At least one item is required"),contraAccount:I().required("Contra Account is required"),modeOfPayment:I().required("Mode of Payment is required"),bank:B==="Check"?I().required("Bank is required"):I(),checkNumber:B==="Check"?I().required("Check Number is required"):I(),receivedPaymentBy:I().required("Received Payment By is required")}),{requestOptions:R,requestOptionsLoading:F,requestOptionsError:G}=V(K=>K.disbursementVouchers),W=(K,le)=>{const J=K.reduce((z,me)=>z+Number(me.amount||0),0),ee=le.reduce((z,me)=>z+Number(me.amount||0),0),H=J-ee;return{grossAmount:J,totalTaxes:ee,netAmount:H}},Z={description:"",amount:"",accountCode:""},fe={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[Z],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",contraAccount:(t==null?void 0:t.contraAccount)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.receivedPaymentBy)||""},Te=K=>{C(!0),W(K.items,K.taxes);const le=new FormData;K.payeeType==="Employee"?(le.append("EmployeeID",K.payeeId),le.append("VendorID",""),le.append("CustomerID","")):K.payeeType==="Vendor"?(le.append("EmployeeID",""),le.append("VendorID",K.payeeId),le.append("CustomerID","")):K.payeeType==="Individual"&&(le.append("EmployeeID",""),le.append("VendorID",""),le.append("CustomerID",K.payeeId)),le.append("PayeeType",K.payeeType),le.append("Payee",(j==null?void 0:j.Name)||(j==null?void 0:j.FirstName)+" "+(j==null?void 0:j.MiddleName)+" "+(j==null?void 0:j.LastName)||""),le.append("Address",(j==null?void 0:j.StreetAddress)||""),le.append("InvoiceNumber",K.obrNo),le.append("InvoiceDate",K.obrDate),le.append("ResponsibilityCenter",K.responsibilityCenter);const J=K.accountingEntries.reduce((Ie,Ne)=>Ie+Number(Ne.subtotal||0),0),ee=K.accountingEntries.reduce((Ie,Ne)=>Ie+Number(Ne.ewt||0),0),H=K.accountingEntries.reduce((Ie,Ne)=>Ie+Number(Ne.withheld||0),0),z=K.accountingEntries.reduce((Ie,Ne)=>Ie+Number(Ne.vat||0),0),me=K.accountingEntries.reduce((Ie,Ne)=>Ie+Number(Ne.discount||0),0);le.append("Total",J.toFixed(2)),le.append("EWT",ee.toFixed(2)),le.append("WithheldAmount",H.toFixed(2)),le.append("Vat_Total",z.toFixed(2)),le.append("Discounts",me.toFixed(2)),le.append("FundsID",K.fund),le.append("FiscalYearID",K.fiscalYear),le.append("ProjectID",K.project),le.append("TravelID",""),le.append("Items",JSON.stringify(K.accountingEntries)),K.Attachments.forEach((Ie,Ne)=>{Ie.File?le.append(`Attachments[${Ne}].File`,Ie.File):Ie.ID&&le.append(`Attachments[${Ne}].ID`,Ie.ID)}),le.append("OBR_LinkID",K.OBR_LinkID||""),le.append("ContraAccountID",K.contraAccount),le.append("ModeOfPayment",K.modeOfPayment),le.append("BankID",K.bank),le.append("CheckNumber",K.checkNumber),le.append("ReceivedPaymentBy",K.receivedPaymentBy);const we=t?Xy({formData:le,id:t.ID}):Ky(le);b(we).unwrap().then(()=>{pe.success("Success"),e()}).catch(Ie=>{pe.error((Ie==null?void 0:Ie.message)||"Failed to submit")}).finally(()=>{C(!1)})},ne=({type:K})=>{switch(K){case"Employee":return o.jsx(CI,{className:"w-5 h-5"});case"Vendor":return o.jsx(S2,{className:"w-5 h-5"});case"Individual":return o.jsx(zv,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:w,initialValues:fe,validationSchema:_(),onSubmit:Te,enableReinitialize:!0,children:({values:K,errors:le,touched:J,handleChange:ee,handleBlur:H,setFieldValue:z,setFieldTouched:me,isValid:we})=>{W(K.items,K.taxes);const Ne=O$.map(Y=>({value:Y.value,label:Y.label})).find(Y=>Y.value===K.payeeType),ir=Y=>{N(null),z("payeeType",Y),z("payeeName",""),z("payeeId",""),z("payeeAddress",""),z("officeUnitProject",""),z("orsNumber","")},kn=Y=>{k(null),z("requestType",Y),O(Y),Y==="Standalone Request"&&z("accountingEntries",[]),K.payeeType&&K.payeeId&&Y&&b(Gy({requestType:Y,payeeType:K.payeeType,payeeId:K.payeeId}))},In=Y=>{var Ce,De;k(Y);const ue=(((Ce=Y==null?void 0:Y.raw)==null?void 0:Ce.TransactionItemsAll)||[]).map(Ue=>{var za,Ko,Us,Xo,GO,YO,KO;const Lt={Price:Ue.Price??0,Quantity:Ue.Quantity??1,DiscountRate:Ue.DiscountRate??0,Vatable:Ue.Vatable,withheldEWT:Ue.EWTRate??0},Vs=Lf({price:Lt.Price,quantity:Lt.Quantity,taxRate:Ue.TaxRate||0,discountPercent:Lt.DiscountRate,vatable:Lt.Vatable,ewtRate:Lt.withheldEWT});return{...Ue,...Vs,itemName:((za=Ue.Item)==null?void 0:za.Name)||"",subtotal:Ue.AmountDue||0,Remarks:Ue.Remarks||"",FPP:Ue.FPP||"",accountCode:((Us=(Ko=Ue.ChargeAccount)==null?void 0:Ko.ChartofAccounts)==null?void 0:Us.AccountCode)||"",accountName:((GO=(Xo=Ue.ChargeAccount)==null?void 0:Xo.ChartofAccounts)==null?void 0:GO.Name)||"",fundCode:((KO=(YO=Y==null?void 0:Y.raw)==null?void 0:YO.sourceFunds)==null?void 0:KO.Code)||""}});w.current&&(w.current.setFieldValue("accountingEntries",ue),w.current.setFieldValue("OBR_LinkID",((De=Y==null?void 0:Y.raw)==null?void 0:De.LinkID)||""))},qs=Y=>{let de=null;switch(K.payeeType){case"Employee":de=s.find(ue=>ue.ID===Y);break;case"Vendor":de=i.find(ue=>ue.ID===Y);break;case"Individual":de=l.find(ue=>ue.ID===Y);break}N(de),z("payeeName",de==null?void 0:de.Name),z("payeeId",de==null?void 0:de.ID)},On=Y=>{switch(Y){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}},X=Y=>{U(Y.target.value),ee(Y),Y.target.value==="Cash"&&(z("bank",""),z("checkNumber",""))};return o.jsxs(Be,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:O$.map(Y=>o.jsxs("button",{type:"button",onClick:()=>ir(Y.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${K.payeeType===Y.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(ne,{type:Y.value}),o.jsx("span",{className:"ml-3 font-medium",children:Y.label})]},Y.value))}),le.payeeType&&J.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.payeeType})]}),K.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",Ne==null?void 0:Ne.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:On(K.payeeType),onChange:Y=>qs(Y.value),value:On(K.payeeType).find(Y=>Y.value===K.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),le.payeeType&&J.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.payeeType})]}),j&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(Ne==null?void 0:Ne.label)==="Employee"?`${j.FirstName||""} ${j.MiddleName||""} ${j.LastName||""}`.trim():((Ne==null?void 0:Ne.label)==="Vendor"||(Ne==null?void 0:Ne.label)==="Individual",j.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((Ne==null?void 0:Ne.label)==="Employee"||(Ne==null?void 0:Ne.label)==="Vendor"||(Ne==null?void 0:Ne.label)==="Individual",j.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:q0e.map(Y=>o.jsx("button",{type:"button",onClick:()=>kn(Y.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${K.requestType===Y.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:o.jsx("span",{className:"ml-3 font-medium",children:Y.label})},Y.value))}),le.requestType&&J.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.requestType})]}),K.requestType!=="Standalone Request"&&o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:R.map(Y=>{var ue,Ce,De,Ue,Lt,Vs,za,Ko,Us,Xo;let de="";return K.payeeType==="Employee"?de=`${((ue=Y.Employee)==null?void 0:ue.FirstName)||""} ${((Ce=Y.Employee)==null?void 0:Ce.MiddleName)||""} ${((De=Y.Employee)==null?void 0:De.LastName)||""}`.trim():K.payeeType==="Individual"?!((Ue=Y.Employee)!=null&&Ue.FirstName)&&!((Lt=Y.Employee)!=null&&Lt.MiddleName)&&!((Vs=Y.Employee)!=null&&Vs.LastName)?de=Y.Name||"N/A":de=`${((za=Y.Employee)==null?void 0:za.FirstName)||""} ${((Ko=Y.Employee)==null?void 0:Ko.MiddleName)||""} ${((Us=Y.Employee)==null?void 0:Us.LastName)||""}`.trim():K.payeeType==="Vendor"&&(de=Y.Name||"N/A"),{value:Y.ID,label:`${Y.InvoiceNumber||""}  ${de}  ${Y.TIN||""}  ${Y.InvoiceDate}  ${((Xo=Y.sourceFunds)==null?void 0:Xo.Code)||""}`,raw:Y}}),isLoading:F,value:T,onChange:In,placeholder:F?"Loading":G?`Error: ${G}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),le.requestType&&J.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.requestType})]})]})]}),o.jsx("hr",{}),o.jsx(Kr,{name:"accountingEntries",children:({push:Y,remove:de})=>o.jsxs(o.Fragment,{children:[K.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"AMOUNT"}),o.jsx("span",{children:"AMOUNT DUE"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{children:"FUND CODE"})]}),K.accountingEntries.map((ue,Ce)=>o.jsxs("div",{className:"grid grid-cols-8 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:ue.itemName}),o.jsx("span",{children:parseFloat(ue.subtotal).toFixed(2)}),o.jsx("span",{children:parseFloat(ue.subtotal).toFixed(2)}),o.jsx("span",{children:ue.Remarks}),o.jsx("span",{children:ue.FPP}),o.jsx("span",{children:ue.accountCode}),o.jsx("span",{children:ue.accountName}),o.jsx("span",{children:ue.fundCode}),o.jsx("div",{className:"col-span-8 text-right",children:o.jsx("button",{type:"button",onClick:()=>de(Ce),className:"text-red-600 text-xs",children:""})})]},Ce)),o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-7 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:K.accountingEntries.reduce((ue,Ce)=>ue+Number(Ce.subtotal||0),0).toFixed(2)})]}),o.jsx("div",{className:"grid grid-cols-1 gap-2 font-semibold pt-2 border-t",children:o.jsx("div",{className:"text-right",children:zV(K.accountingEntries.reduce((ue,Ce)=>ue+Number(Ce.subtotal||0),0).toFixed(2))})})]}),o.jsx(ae,{isOpen:P,onClose:()=>L(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(qV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:g,taxCodeFull:y,onClose:()=>L(!1),onSubmit:ue=>{Y(ue),L(!1)}})})]})}),le.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.accountingEntries}),o.jsx("hr",{}),(()=>{const Y={};K.accountingEntries.forEach(ue=>{console.log("entry",ue);const Ce=ue.TaxName||"N/A",De=ue.TaxRate||0,Ue=Number(ue.WithheldAmount||0),Lt=`${Ce}-${De}`;Y[Lt]||(Y[Lt]={taxName:Ce,taxRate:De,withheld:0}),Y[Lt].withheld+=Ue});const de=Object.values(Y);return de.length?o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[o.jsx("span",{children:"Tax Name"}),o.jsx("span",{className:"text-right",children:"TaxRate%"}),o.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),de.map(({taxName:ue,taxRate:Ce,withheld:De},Ue)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[o.jsx("span",{children:ue}),o.jsx("span",{className:"text-right",children:parseFloat(Ce).toFixed(2)}),o.jsx("span",{className:"text-right",children:De.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]},Ue))]}):null})(),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contra Account"}),o.jsx(jr,{name:"contraAccount",options:x,onChange:Y=>z("contraAccount",Y==null?void 0:Y.value),value:x.find(Y=>Y.value===K.contraAccount)||null,classNamePrefix:"react-select"}),le.contraAccount&&J.contraAccount&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.contraAccount})]}),o.jsx("div",{children:o.jsx(A,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:K.modeOfPayment,onChange:X,onBlur:H,error:le.modeOfPayment,touched:J.modeOfPayment,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[B==="Check"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx(A,{type:"text",label:"Bank",name:"bank",value:K.bank,onChange:ee,onBlur:H,error:le.bank,touched:J.bank,required:B==="Check"})}),o.jsx("div",{children:o.jsx(A,{type:"text",label:"Check No.",name:"checkNumber",value:K.checkNumber,onChange:ee,onBlur:H,error:le.checkNumber,touched:J.checkNumber,required:B==="Check"})})]}),o.jsx("div",{children:o.jsx(A,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:K.receivedPaymentBy,onChange:ee,onBlur:H,error:le.receivedPaymentBy,touched:J.receivedPaymentBy,required:!0})})]})]}),o.jsx("hr",{}),o.jsx(Kr,{name:"Attachments",render:({remove:Y,push:de})=>{var ue;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>de({File:null}),children:"+ Attachment"})]}),(ue=K.Attachments)==null?void 0:ue.map((Ce,De)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[Ce.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${Ce.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:Ce.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${De}].ID`,value:Ce.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${De+1}`}),o.jsx("input",{type:"file",name:`Attachments[${De}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ue=>z(`Attachments[${De}].File`,Ue.currentTarget.files[0]),onBlur:H,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>Y(De),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Mr,{className:"w-4 h-4"})})]},De))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function U0e(){const t=ie(),{disbursementVouchers:e,isLoading:r}=V(N=>N.disbursementVouchers),{employees:n}=V(N=>N.employees),{customers:a}=V(N=>N.customers),{vendorDetails:s}=V(N=>N.vendorDetails),{departments:i}=V(N=>N.departments),{projectDetails:l}=V(N=>N.projectDetails),{funds:c}=V(N=>N.funds),{fiscalYears:u}=V(N=>N.fiscalYears),{items:d}=V(N=>N.items),{taxCodes:f}=V(N=>N.taxCodes),{itemUnits:m}=V(N=>N.itemUnits),{budgets:h}=V(N=>N.budget),p=V(N=>{var T;return((T=N.chartOfAccounts)==null?void 0:T.accounts)||[]}),[g,y]=v.useState("list"),[x,b]=v.useState(null);v.useEffect(()=>{t(Yy()),t(Un()),t(zn()),t(ps()),t(Cr()),t($i()),t(sr()),t(ys()),t(gs()),t(fa()),t(_a()),t(Co()),t(Nr())},[t]);const w=()=>{b(null),y("form")},S=N=>{b(N),y("form")},C=()=>{y("list"),b(null)},j=[{key:"Status",header:"Status",sortable:!0,render:N=>{let T="bg-neutral-100 text-neutral-800";switch(N){case"Requested":T="bg-warning-100 text-warning-800";break;case"Pending Approval":T="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":T="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":T="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T}`,children:N})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:N=>new Date(N).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[g==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Vouchers"}),o.jsx("p",{children:"Manage disbursement vouchers"})]}),o.jsxs("button",{type:"button",onClick:w,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:j,data:e,actions:N=>{var k;const T=[];return((k=N.Transaction)==null?void 0:k.Status)==="Rejected"&&T.push({icon:Ae,title:"Edit",onClick:()=>handleEditOR(N),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),T},loading:r})})]}),g==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:x?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),o.jsxs("p",{children:["Fill out the form to"," ",x?"update":"create"," a disbursement voucher"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(V0e,{initialData:x,employeeOptions:n.map(N=>({value:N.ID,label:N.FirstName+" "+N.MiddleName+" "+N.LastName})),vendorOptions:s.map(N=>({value:N.ID,label:N.Name})),individualOptions:a.map(N=>({value:N.ID,label:N.Name})),chartOfAccountsOptions:(p||[]).map(N=>({value:N.ID,label:N.AccountCode+" - "+N.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(N=>({value:N.ID,label:N.Name})),fundOptions:c.map(N=>({value:N.ID,label:N.Name})),projectOptions:l.map(N=>({value:N.ID,label:N.Title})),fiscalYearOptions:u.map(N=>({value:N.ID,label:N.Name})),particularsOptions:d.map(N=>({value:N.ID,label:N.Name})),unitOptions:m.map(N=>({value:N.ID,label:N.Name})),taxCodeOptions:f.map(N=>({value:N.ID,label:N.Name})),budgetOptions:h.map(N=>({value:N.ID,label:N.Name})),taxCodeFull:f,onCancel:C,onSubmitSuccess:C,onClose:C})})]}),g==="details"&&x&&o.jsx("div",{children:o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Voucher Details"}),o.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>S(x),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})})})]})}function z0e({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:a}){const s="https://staging-engine.testthelink.online",{departments:i}=V(b=>b.departments),{employees:l}=V(b=>b.employees),{budgets:c}=V(b=>b.budget);console.log("Budgets:",c);const u=ie();v.useEffect(()=>{u(Cr()),u(Un()),u(Co())},[u]);const d=oe({BudgetID:I().required("Office is required"),DateStart:Re().required("Start Date is required"),DateEnd:Re().required("End Date is required"),Place:I().required("Place/Office to be visited is required"),Venue:I().required("Venue/Destination is required"),Remarks:I(),Purpose:I().required("Purpose of Travel is required"),Travelers:tn().of(oe({TravelerID:I().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:tn().of(oe({Amount:te().required("Amount is required"),BudgetID:I().required("Budget of Fund is required"),Type:I().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:tn().of(oe({Name:I().required("Document name is required")})).min(1,"At least one document is required")}),f=et({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:d,onSubmit:async(b,w)=>{const S=new FormData;for(const C in b)C==="Attachments"?b.Attachments.forEach((j,N)=>{j.File?S.append(`Attachments[${N}].File`,j.File):j.ID&&S.append(`Attachments[${N}].ID`,j.ID)}):S.append(C,JSON.stringify(b[C]));try{await e(S)}catch(C){console.error(C)}finally{w(!1)}}}),{values:m,handleChange:h,handleBlur:p,errors:g,touched:y,isSubmitting:x}=f;return o.jsx(gI,{value:f,children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"space-y-4",children:[o.jsx(A,{type:"select",label:"Office",name:"BudgetID",options:i.map(b=>({value:b.ID,label:b.Name})),value:m.BudgetID,onChange:h,onBlur:p,error:g.BudgetID,touched:y.BudgetID,required:!0}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:h,onBlur:p,error:g.DateStart,touched:y.DateStart,required:!0}),o.jsx(A,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:h,onBlur:p,error:g.DateEnd,touched:y.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Place/Office to be visited",name:"Place",type:"text",value:m.Place,onChange:h,onBlur:p,error:g.Place,touched:y.Place,required:!0}),o.jsx(A,{label:"Venue/Destination",name:"Venue",type:"text",value:m.Venue,onChange:h,onBlur:p,error:g.Venue,touched:y.Venue,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{type:"textarea",label:"Remarks",name:"Remarks",value:m.Remarks,onChange:h,onBlur:p,error:g.Remarks,touched:y.Remarks}),o.jsx(A,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:m.Purpose,onChange:h,onBlur:p,error:g.Purpose,touched:y.Purpose,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Plane",checked:m.Plane,onChange:h,onBlur:p}),o.jsx("span",{children:"Plane"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Vessels",checked:m.Vessels,onChange:h,onBlur:p}),o.jsx("span",{children:"Ship/Boat"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"PUV",checked:m.PUV,onChange:h,onBlur:p}),o.jsx("span",{children:"PUV"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:m.ServiceVehicle,onChange:h,onBlur:p}),o.jsx("span",{children:"LGU Service Vehicle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:m.RentedVehicle,onChange:h,onBlur:p}),o.jsx("span",{children:"Vehicle for Rent"})]})]})]}),o.jsx("hr",{}),o.jsx(Kr,{name:"Travelers",render:({remove:b,push:w})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Travelers"}),o.jsx(dt,{type:"button",onClick:()=>w({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.Travelers.map((S,C)=>{var j,N,T,k;return o.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[o.jsx(A,{type:"select",label:`Employee ${C+1}`,name:`Travelers[${C}].TravelerID`,options:l.map(E=>({value:E.ID,label:E.FirstName+" "+E.MiddleName+" "+E.LastName})),value:S.TravelerID,onChange:h,onBlur:p,error:(N=(j=g.Travelers)==null?void 0:j[C])==null?void 0:N.TravelerID,touched:(k=(T=y.Travelers)==null?void 0:T[C])==null?void 0:k.TravelerID,className:"min-w-[300px]",required:!0}),o.jsx(dt,{type:"button",onClick:()=>b(C),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.Travelers.length===1,children:o.jsx(Mr,{className:"w-4 h-4"})})]},C)})]})}),o.jsx("hr",{}),o.jsx(Kr,{name:"TravelPayments",render:({remove:b,push:w})=>{var S,C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Expenses"}),o.jsx(dt,{type:"button",onClick:()=>w({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(S=m.TravelPayments)==null?void 0:S.map((j,N)=>{var T,k,E,O,P,L,$,D,B,U,_,R;return o.jsxs("div",{className:"flex flex-wrap items-center items-end gap-4 mb-2",children:[o.jsx(A,{type:"number",label:"Amount",name:`TravelPayments[${N}].Amount`,value:j.Amount,onChange:h,onBlur:p,error:(k=(T=g.TravelPayments)==null?void 0:T[N])==null?void 0:k.Amount,touched:(O=(E=y.TravelPayments)==null?void 0:E[N])==null?void 0:O.Amount,className:"max-w-[180px] flex-1",required:!0}),o.jsx(A,{type:"select",label:"Source of Fund",name:`TravelPayments[${N}].BudgetID`,options:c.map(F=>({value:F.ID,label:F.Name})),value:j.BudgetID,onChange:h,onBlur:p,error:(L=(P=g.TravelPayments)==null?void 0:P[N])==null?void 0:L.BudgetID,touched:(D=($=y.TravelPayments)==null?void 0:$[N])==null?void 0:D.BudgetID,className:"min-w-[200px] flex-1",required:!0}),o.jsx(A,{type:"select",label:"Type",name:`TravelPayments[${N}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:j.Type,onChange:h,onBlur:p,error:(U=(B=g.TravelPayments)==null?void 0:B[N])==null?void 0:U.Type,touched:(R=(_=y.TravelPayments)==null?void 0:_[N])==null?void 0:R.Type,className:"min-w-[100px] flex-1",required:!0}),o.jsx(dt,{type:"button",onClick:()=>b(N),className:"bg-red-600 hover:bg-red-700 text-white p-1 mt-2",disabled:m.TravelPayments.length===1,children:o.jsx(Mr,{className:"w-4 h-4"})})]},N)}),o.jsxs("div",{className:"flex justify-end text-right mt-4",children:[o.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),o.jsx("span",{className:"",children:(C=m.TravelPayments)==null?void 0:C.reduce((j,N)=>{const T=parseFloat(N.Amount);return j+(isNaN(T)?0:T)},0).toFixed(2)})]})]})}}),o.jsx("hr",{}),o.jsx(Kr,{name:"TravelDocuments",render:({remove:b,push:w})=>{var S;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Documents Required"}),o.jsx(dt,{type:"button",onClick:()=>w({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(S=m.TravelDocuments)==null?void 0:S.map((C,j)=>{var N,T,k,E;return o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[o.jsx(A,{type:"text",label:`Document ${j+1}`,name:`TravelDocuments[${j}].Name`,value:C.Name,onChange:h,onBlur:p,error:(T=(N=g.TravelDocuments)==null?void 0:N[j])==null?void 0:T.Name,touched:(E=(k=y.TravelDocuments)==null?void 0:k[j])==null?void 0:E.Name,className:"flex-1 min-w-[300px]",required:!0}),o.jsx(dt,{type:"button",onClick:()=>b(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.TravelDocuments.length===1,children:o.jsx(Mr,{className:"w-4 h-4"})})]},j)})]})}}),o.jsx("hr",{}),o.jsx(Kr,{name:"Attachments",render:({remove:b,push:w})=>{var S;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(dt,{type:"button",onClick:()=>w({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(S=m.Attachments)==null?void 0:S.map((C,j)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[C.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${s}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:C.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${j}].ID`,value:C.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${j+1}`}),o.jsx("input",{type:"file",name:`Attachments[${j}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:N=>f.setFieldValue(`Attachments[${j}].File`,N.currentTarget.files[0]),onBlur:p,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>b(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Mr,{className:"w-4 h-4"})})]},j))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(dt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{type:"submit",className:"btn btn-primary",disabled:x,children:x?"Saving...":"Save"})]})]})})}function W0e({to:t,onClose:e,onEdit:r}){const n=l=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l),a=l=>new Date(l).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=l=>new Date(l).toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=l=>{let c="bg-neutral-100 text-neutral-800";switch(l){case"Pending Recommendation":c="bg-warning-100 text-warning-800";break;case"Pending Approval":c="bg-primary-100 text-primary-800";break;case"Approved":case"Liquidated":c="bg-success-100 text-success-800";break;case"Cancelled":c="bg-error-100 text-error-800";break}return c};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${i(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(al,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Travel Order Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"TO Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.toNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.toDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Employee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Employee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.employeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Position"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.position})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Travel Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Destination"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.destination})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Means of Travel"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.meansOfTravel||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Departure"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.departureDate)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Return"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.returnDate)})]})]})}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Purpose"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900 whitespace-pre-line",children:t.purpose})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Estimated Expenses"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.estimatedExpenses)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(e3,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(ZB,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Recommendation"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(n3,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for recommendation"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const Ej="https://staging-engine.testthelink.online",H0e=[],Jy=M("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ej}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Qy=M("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${Ej}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),WA=M("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const a=await fetch(`${Ej}/travelOrder/${r}`,n),s=await a.json();if(!a.ok)throw new Error(s.error||s.message||"Failed to update");return s}catch(r){return e.rejectWithValue(r.message)}}),Zy=M("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${Ej}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),G0e=ye({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jy.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(Jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=H0e}).addCase(Qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(Qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(WA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(WA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(Zy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders=e.travelOrders.filter(n=>n.ID!==r.payload)}).addCase(Zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),Y0e=G0e.reducer;function K0e(){const t=ie(),{travelOrders:e,isLoading:r}=V(x=>x.travelOrders),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Jy())},[t]);const f=async x=>{try{u?await t(WA({...x,ID:u.ID})).unwrap():await t(Qy(x)).unwrap(),i(!1),d(null),pe.success("Success")}catch(b){throw pe.error(b||"Failed"),b}},m=()=>{d(null),i(!0)},h=async()=>{if(u)try{await t(Zy(u.ID)).unwrap(),a(!1),d(null)}catch(x){console.error("Failed to delete travel order:",x)}},p=()=>{i(!1),d(null)},g=()=>{c(!1),d(null)},y=[{key:"TransactionStatus",header:"Status",sortable:!0,render:x=>{let b="bg-neutral-100 text-neutral-800";switch(x){case"Requested":b="bg-warning-100 text-warning-800";break;case"Approval Progress":b="bg-primary-100 text-primary-800";break;case"Rejected":b="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b}`,children:x})}},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position/Designation",header:"Position/Designation",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Travel Orders"}),o.jsx("p",{children:"Manage travel orders and authorizations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:x=>[],loading:r})}),o.jsx(ae,{isOpen:s,onClose:p,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:o.jsx(z0e,{initialData:u,onSubmit:f,onClose:p})}),o.jsx(ae,{isOpen:l,onClose:g,title:"Travel Order Details",size:"lg",children:u&&o.jsx(W0e,{to:u,onClose:g,onEdit:()=>{c(!1),i(!0)},officeOptions:[],employeeOptions:[]})}),o.jsxs(ae,{isOpen:n,onClose:()=>a(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the travel order "',u==null?void 0:u.TravelOrderNumber,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const X0e="https://staging-engine.testthelink.online";function J0e({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:a,centerOptions:s,accountOptions:i}){const[l,c]=v.useState(""),[u,d]=v.useState((t==null?void 0:t.JEVType)||""),f=oe({JEVType:I().required("Type is required"),FundsID:I().required("Fund is required"),InvoiceDate:Re().required("Date is required"),SAI_No:I(),Remarks:I().required("Particulars are required"),ObligationRequestNumber:I(),CheckNumber:I(),CheckDate:Re(),AccountingEntries:tn().of(oe({ResponsibilityCenter:I().required("Required"),AccountExplanation:I().required("Required"),Debit:te().nullable().typeError("Must be a number").required("Debit is required"),Credit:te().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),m=et({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:f,onSubmit:async(w,S)=>{const C=w.AccountingEntries.reduce((T,k)=>T+(parseFloat(k.Debit)||0),0),j=w.AccountingEntries.reduce((T,k)=>T+(parseFloat(k.Credit)||0),0);if(C!==j){c("Total Debit must be equal to Total Credit.");return}else c("");const N=new FormData;for(const T in w)T==="Attachments"?w.Attachments.forEach((k,E)=>{k.File?N.append(`Attachments[${E}].File`,k.File):k.ID&&N.append(`Attachments[${E}].ID`,k.ID)}):N.append(T,JSON.stringify(w[T]));try{await e(N)}catch(T){console.error(T)}finally{S(!1)}}}),h=w=>{d(w.target.value),m.handleChange(w)},{values:p,handleChange:g,handleBlur:y,errors:x,touched:b}=m;return o.jsx(gI,{value:m,children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(A,{type:"select",label:"Type",name:"JEVType",options:n,value:p.JEVType,onChange:h,onBlur:y,error:x.JEVType,touched:b.JEVType,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"FundsID",options:a,value:p.FundsID,onChange:g,onBlur:y,error:x.FundsID,touched:b.FundsID,required:!0}),o.jsx(A,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:p.InvoiceDate,onChange:g,onBlur:y,error:x.InvoiceDate,touched:b.InvoiceDate,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(A,{type:"text",label:"DV No",name:"SAI_No",value:p.SAI_No,onChange:g,onBlur:y,error:x.SAI_No,touched:b.SAI_No}),o.jsx(A,{type:"text",label:"Remarks",name:"Remarks",value:p.Remarks,onChange:g,onBlur:y,error:x.Remarks,touched:b.Remarks,required:!0}),o.jsx(A,{type:"text",label:"Payee",name:"Payee",value:p.Payee,onChange:g,onBlur:y,error:x.Payee,touched:b.Payee})]}),u==="Check Disbursement"&&o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(A,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:p.ObligationRequestNumber,onChange:g,onBlur:y,error:x.ObligationRequestNumber,touched:b.ObligationRequestNumber}),o.jsx(A,{type:"text",label:"Check No",name:"CheckNumber",value:p.CheckNumber,onChange:g,onBlur:y,error:x.CheckNumber,touched:b.CheckNumber}),o.jsx(A,{type:"date",label:"Check Date",name:"CheckDate",value:p.CheckDate,onChange:g,onBlur:y,error:x.CheckDate,touched:b.CheckDate})]}),o.jsx("hr",{}),o.jsx(Kr,{name:"AccountingEntries",render:({remove:w,push:S})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Accounting Entries"}),o.jsx(dt,{type:"button",onClick:()=>S({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),p.AccountingEntries.map((C,j)=>{var k,E,O,P,L,$,D,B,U,_,R,F,G,W;const N=parseFloat(C.Debit)>0,T=parseFloat(C.Credit)>0;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[o.jsx(A,{className:"flex-1 min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${j}].ResponsibilityCenter`,options:s,value:C.ResponsibilityCenter,onChange:g,onBlur:y,error:(E=(k=x.AccountingEntries)==null?void 0:k[j])==null?void 0:E.ResponsibilityCenter,touched:(P=(O=b.AccountingEntries)==null?void 0:O[j])==null?void 0:P.ResponsibilityCenter,required:!0}),o.jsxs("div",{className:"flex-1 min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Accounts and Explanation"," ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(jr,{label:"Accounts and Explanation",options:i,placeholder:"Select an account...",isSearchable:!0,onChange:Z=>m.setFieldValue(`AccountingEntries[${j}].AccountExplanation`,(Z==null?void 0:Z.value)||""),name:`AccountingEntries[${j}].AccountExplanation`,value:i.find(Z=>Z.value===C.AccountExplanation)||null,onBlur:y,required:!0}),(($=(L=x.AccountingEntries)==null?void 0:L[j])==null?void 0:$.AccountExplanation)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:x.AccountingEntries[j].AccountExplanation})]}),o.jsx(A,{className:"flex-1 max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Debit",name:`AccountingEntries[${j}].Debit`,value:C.Debit,onChange:Z=>{Z.target.value&&parseFloat(Z.target.value)>0&&m.setFieldValue(`AccountingEntries[${j}].Credit`,0),g(Z)},onBlur:y,error:(B=(D=x.AccountingEntries)==null?void 0:D[j])==null?void 0:B.Debit,touched:(_=(U=b.AccountingEntries)==null?void 0:U[j])==null?void 0:_.Debit,disabled:T,required:!T}),o.jsx(A,{className:"flex-1 max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Credit",name:`AccountingEntries[${j}].Credit`,value:C.Credit,onChange:Z=>{Z.target.value&&parseFloat(Z.target.value)>0&&m.setFieldValue(`AccountingEntries[${j}].Debit`,0),g(Z)},onBlur:y,error:(F=(R=x.AccountingEntries)==null?void 0:R[j])==null?void 0:F.Credit,touched:(W=(G=b.AccountingEntries)==null?void 0:G[j])==null?void 0:W.Credit,disabled:N,required:!N})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(dt,{type:"button",onClick:()=>w(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:p.AccountingEntries.length===1,children:o.jsx(Mr,{className:"w-4 h-4"})})})]},j)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-green-600 font-bold",children:[p.AccountingEntries.reduce((C,j)=>C+(parseFloat(j.Debit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-red-600 font-bold",children:[p.AccountingEntries.reduce((C,j)=>C+(parseFloat(j.Credit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),o.jsx("hr",{}),o.jsx(Kr,{name:"Attachments",render:({remove:w,push:S})=>{var C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-2 mt-10",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(dt,{type:"button",onClick:()=>S({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(C=p.Attachments)==null?void 0:C.map((j,N)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[j.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${X0e}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:j.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${N}].ID`,value:j.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${N+1}`}),o.jsx("input",{type:"file",name:`Attachments[${N}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:T=>m.setFieldValue(`Attachments[${N}].File`,T.currentTarget.files[0]),onBlur:y,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>w(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Mr,{className:"w-4 h-4"})})]},N))]})}}),l&&o.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:l}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(dt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{type:"submit",className:"btn btn-primary",disabled:m.isSubmitting,children:m.isSubmitting?"Saving...":"Save"})]})]})})}const Pj="https://staging-engine.testthelink.online",Q0e=[],eb=M("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Pj}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),tb=M("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${Pj}/journalEntryVoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),HA=M("journalEntries/updateJournalEntry",async(t,e)=>{try{const r=await fetch(`${Pj}/journalEntryVoucher/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),rb=M("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${Pj}/journalEntryVoucher/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Z0e=ye({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eb.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=Q0e}).addCase(tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(HA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(HA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries=e.journalEntries.filter(n=>n.ID!==r.payload)}).addCase(rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)})}}),exe=Z0e.reducer;function txe(){var C;const{departments:t}=V(j=>j.departments),{accounts:e}=V(j=>j.chartOfAccounts),r=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],n=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],a=ie(),{journalEntries:s,isLoading:i}=V(j=>j.journalEntries),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,p]=v.useState(null);v.useEffect(()=>{a(eb()),a(Cr()),a(Nr())},[a]);const g=()=>{d(null),c(!0)},y=j=>{d(j),c(!0)},x=j=>{p(j),m(!0)},b=async()=>{if(h)try{await a(rb(h.ID)).unwrap(),m(!1),p(null)}catch(j){console.error("Failed to delete journal entry:",j)}},w=async j=>{try{u?await a(HA({...j,ID:u.ID,LinkID:u.LinkID})).unwrap():await a(tb(j)).unwrap(),c(!1),d(null),pe.success("Success")}catch(N){throw pe.error(N||"Failed"),N}},S=[{key:"Status",header:"Status",sortable:!0,render:j=>{let N="bg-neutral-100 text-neutral-800";switch(j){case"Requested":N="bg-warning-100 text-warning-800";break;case"Posted":N="bg-primary-100 text-primary-800";break;case"Rejected":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:j})}},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"FundsName",header:"Fund",sortable:!0},{key:"ObligationRequestNumber",header:"OBR No.",sortable:!0},{key:"SAI_No",header:"DV No.",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"CheckDate",header:"Check Date",sortable:!0},{key:"Total",header:"Total",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Journal Entries Voucher "}),o.jsx("p",{children:"Manage your Journal Entries"})]}),o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add JEV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:S,data:s,actions:j=>{const N=[];return N.push({icon:Ae,title:"Edit",onClick:()=>y(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),N.push({icon:Me,title:"Delete",onClick:()=>x(j),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),N},loading:i,emptyMessage:"No journal entries found. Click 'Add JEV' to create one."})}),o.jsx(ae,{size:"xxxl",isOpen:l,onClose:()=>c(!1),title:u?"Edit Journal Entry Voucher":"Add Journal Entry Voucher",children:o.jsx(J0e,{typeOptions:r,fundOptions:n,centerOptions:t.filter(j=>j.Active).map(j=>({label:j.Name,value:j.ID})),accountOptions:e.filter(j=>j.Active).map(j=>({label:j.AccountCode+" "+j.Name,value:j.ID})),initialData:u?{...u,AccountingEntries:((C=u.JournalEntries)==null?void 0:C.map(j=>{const N=e.find(T=>T.AccountCode===j.AccountCode&&T.Name===j.AccountName);return{ResponsibilityCenter:j.ResponsibilityCenter||"",AccountExplanation:(N==null?void 0:N.ID)||"",PR:j.PR||"",Debit:j.Debit||0,Credit:j.Credit||0}}))||[]}:null,onClose:()=>c(!1),onSubmit:w})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the journal entry "',h==null?void 0:h.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function rxe({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=oe({DateStart:I().required("Start Date is required"),DateEnd:I().required("End Date is required"),ChartOfAccountID:I().required("Chart of Accounts is required"),FundID:I().required("Fund is required"),DisbursementType:I().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:g})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:[o.jsx(A,{label:"Start Date",name:"DateStart",type:"date",value:d.DateStart,onChange:h,onBlur:p,error:f.DateStart,touched:m.DateStart,required:!0}),o.jsx(A,{label:"End Date",name:"DateEnd",type:"date",value:d.DateEnd,onChange:h,onBlur:p,error:f.DateEnd,touched:m.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:t.map(y=>({value:y.ID,label:y.Name})),value:d.ChartOfAccountID,onChange:h,onBlur:p,error:f.ChartOfAccountID,touched:m.ChartOfAccountID,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"FundID",options:e.map(y=>({value:y.ID,label:y.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0}),o.jsx(A,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(y=>({value:y.value,label:y.label})),value:d.DisbursementType,onChange:h,onBlur:p,error:f.DisbursementType,touched:m.DisbursementType,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:g,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const nxe="https://staging-engine.testthelink.online",axe={disbursementJournals:[],isLoading:!1,error:null},nb=M("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nxe}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),sC=M("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),HV=ye({name:"disbursementJournal",initialState:axe,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nb.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(sC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sC.fulfilled,e=>{e.isLoading=!1}).addCase(sC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:sxe}=HV.actions,oxe=HV.reducer;function ixe(){const t="https://staging-engine.testthelink.online",e=ie(),{disbursementJournals:r,isLoading:n,error:a}=V(m=>m.disbursementJournal),s=V(m=>{var h;return((h=m.chartOfAccounts)==null?void 0:h.accounts)||[]}),{funds:i}=V(m=>m.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];v.useEffect(()=>{e(sxe()),e(Nr()),e(sr())},[e]);const c=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()}],d=async m=>{try{const h=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({DisbursementType:m.DisbursementType,modeOfPayment:m.modeOfPayment,startDate:m.startDate,endDate:m.endDate,fundID:m.fundID,code:m.code})});if(!h.ok)throw new Error("Server response was not ok");const p=await h.blob(),g=h.headers.get("Content-Disposition");let y=`Disbursement_Journals_${m.DisbursementType}.xlsx`;g&&g.includes("filename=")&&(y=g.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(p),b=document.createElement("a");b.href=x,b.download=y,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(x)}catch(h){console.error("Export failed:",h),alert(h.message||"Failed to export disbursement journal")}},f=m=>{e(nb(m))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Disbursement Journal"}),o.jsx("p",{children:"Generate disbursement journal reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(rxe,{chartOfAccounts:s,funds:i,disbursementTypes:l,onExportExcel:d,onView:f,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:u,data:r,loading:n,pagination:!0})})]})}function lxe({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const a=v.useRef(null),s=oe({DateStart:I().required("Start Date is required"),DateEnd:I().required("End Date is required"),FundID:I().required("Fund is required")}),i={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=a.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),a.current=null};return o.jsx($e,{initialValues:i,validationSchema:s,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isSubmitting:h})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[o.jsx(A,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:f,onBlur:m,error:u.DateStart,touched:d.DateStart,required:!0}),o.jsx(A,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:f,onBlur:m,error:u.DateEnd,touched:d.DateEnd,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"FundID",options:t.map(p=>({value:p.ID,label:p.Name})),value:c.FundID,onChange:f,onBlur:m,error:u.FundID,touched:d.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>a.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:h,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>a.current="export",children:"Export to Excel"})]})]})})}const cxe="https://staging-engine.testthelink.online",uxe={generalJournals:[],isLoading:!1,error:null},ab=M("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cxe}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),oC=M("generalJournal/exportGeneralJournals",async t=>!0),GV=ye({name:"generalJournal",initialState:uxe,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ab.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(oC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oC.fulfilled,e=>{e.isLoading=!1}).addCase(oC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:dxe}=GV.actions,fxe=GV.reducer;function mxe(){const t="https://staging-engine.testthelink.online",e=ie(),{generalJournals:r,isLoading:n,error:a}=V(d=>d.generalJournal),{funds:s}=V(d=>d.funds),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);v.useEffect(()=>{e(dxe()),e(sr())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const f=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let p="General_Journal.xlsx";h&&h.includes("filename=")&&(p=h.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(m),y=document.createElement("a");y.href=g,y.download=p,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(g)}catch(f){console.error("Export failed:",f),alert(f.message||"Failed to export general journal")}},u=d=>{e(ab(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Journal"}),o.jsx("p",{children:"Generate general journal reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(lxe,{funds:s,onExportExcel:c,onView:u,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:l,data:r,loading:n,pagination:!0})})]})}function hxe({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n}){const a=oe({FiscalYearID:I().required("Fiscal Year is required")}),s={FiscalYearID:""};return o.jsx($e,{initialValues:s,validationSchema:a,validateOnMount:!0,onSubmit:e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsx(Be,{children:o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsx("div",{className:"w-auto sm:w-auto",children:o.jsx(A,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:i.FiscalYearID,onChange:u,onBlur:d,error:l.FiscalYearID,touched:c.FiscalYearID,required:!0})}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:"Search"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"Add"}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:n,children:"Transfer"})]})]})})})}const Bm="https://staging-engine.testthelink.online",pxe={beginningBalance:[],isLoading:!1,error:null},ji=M("beginningBalance/fetchBalance",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Bm}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),sb=M("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Bm}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ob=M("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Bm}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ib=M("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Bm}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),lb=M("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Bm}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),YV=ye({name:"beginningBalance",initialState:pxe,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase(ji.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ji.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase(ji.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(sb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ob.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(ib.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ib.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(lb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:E$}=YV.actions,gxe=YV.reducer;function yxe({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:a=[],chartOfAccountsOptions:s=[]}){const i=oe({FiscalYearID:I().required("Fiscal Year is required"),FundsID:I().required("Funds are required"),BeginningBalance:te().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:I().required("Chart of Accounts is required")}),l=et({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(A,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),o.jsx(A,{label:"Funds",name:"FundsID",type:"select",options:a,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),o.jsx(A,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Chart of Accounts ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(jr,{options:s,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:s.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function bxe({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=oe({PreviousFiscalYearID:I().required("Previous Fiscal Year is required"),NextFiscalYearID:I().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(s){return s!==this.parent.PreviousFiscalYearID})}),a=et({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:s=>{t(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:a.values.PreviousFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.PreviousFiscalYearID,touched:a.touched.PreviousFiscalYearID,required:!0}),o.jsx(A,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:a.values.NextFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NextFiscalYearID,touched:a.touched.NextFiscalYearID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Transferring...":"Transfer"})]})]})}function xxe(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function vxe(){const t=V(P=>{var L;return((L=P.chartOfAccounts)==null?void 0:L.accounts)||[]}),{funds:e}=V(P=>P.funds),r=ie(),{fiscalYears:n}=V(P=>P.fiscalYears),{beginningBalance:a,isLoading:s,error:i}=V(P=>P.beginningBalance),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(null),[h,p]=v.useState(!1),[g,y]=v.useState(null),[x,b]=v.useState(null);v.useEffect(()=>{r(E$()),r(ys()),r(sr()),r(Nr())},[r]);const w=async P=>{try{f?await r(ob(P)).unwrap():await r(sb(P)).unwrap(),pe.success("Success"),x&&await r(ji(x)).unwrap()}catch(L){pe.error(L||"Failed")}finally{c(!1)}},S=async P=>{try{await r(ib(P)).unwrap(),r(E$()),await r(ji({FiscalYearID:P.NextFiscalYearID})).unwrap(),x&&await r(ji(x)).unwrap(),pe.success("Success")}catch(L){pe.error(L||"Transfer failed")}finally{d(!1)}},C=()=>{m(null),c(!0)},j=P=>{m(P),c(!0)},N=P=>{y(P),p(!0)},T=async()=>{if(g)try{await r(lb(g.ID)).unwrap(),p(!1),y(null),pe.success("Deleted")}catch(P){pe.error(P||"Failed")}},k=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0}],E=[{icon:Ae,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:N,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],O=async(P,{setSubmitting:L})=>{try{b(P),await r(ji(P)).unwrap()}catch($){console.error("Fetch failed:",$)}finally{L(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Beginning Balance"}),o.jsx("p",{children:"Generate beginning balance reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(hxe,{fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onSubmit:O,onAddClick:C,onTransferClick:()=>d(!0),onClose:()=>{}})}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:f?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:o.jsx(yxe,{onSubmit:w,initialData:f,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),fundsOptions:e.map(P=>({value:P.ID,label:P.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(P=>({value:P.ID,label:`${P.AccountCode} - ${P.Name} - [${xxe(P.Description,50)}]`}))})}),o.jsx(ae,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:o.jsx(bxe,{onSubmit:S,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onClose:()=>d(!1)})}),o.jsxs(ae,{isOpen:h,onClose:()=>p(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',g==null?void 0:g.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:T,className:"btn btn-danger",children:"Delete"})]})]}),i&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:i})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:k,actions:E,data:a,loading:s,pagination:!0})})]})}const jxe=oe().shape({ResponsibilityCenter:I().required("Department is required"),OfficeUnitProject:I().required("Section is required"),ContraAccountID:I().required("Charge Account is required"),InvoiceNumber:I().required("PR Number is required"),SAI_No:I(),ObligationRequestNumber:I(),InvoiceDate:Re().required("PR Date is required"),SAIDate:Re(),ALOBSDate:Re(),Remarks:I().required("Purpose is required"),Items:tn().of(oe({ItemID:I().required("Required"),Quantity:I().required("Required"),Unit:I().required("Required"),Cost:te().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function wxe({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:a=[],itemsOptions:s=[],itemsUnitsOptions:i=[]}){const[l,c]=v.useState(!1),u=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return o.jsx($e,{initialValues:u,validationSchema:jxe,onSubmit:e,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,setFieldValue:g})=>o.jsxs(Be,{className:"space-y-1",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:d.ResponsibilityCenter,onChange:h,onBlur:p,error:f.ResponsibilityCenter,touched:m.ResponsibilityCenter,options:n}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:d.OfficeUnitProject,onChange:h,onBlur:p,error:f.OfficeUnitProject,touched:m.OfficeUnitProject}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:d.ContraAccountID,onChange:h,onBlur:p,error:f.ContraAccountID,touched:m.ContraAccountID,options:a})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:d.InvoiceNumber,onChange:h,onBlur:p,error:f.InvoiceNumber,touched:m.InvoiceNumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",value:d.SAI_No,onChange:h,onBlur:p,error:f.SAI_No,touched:m.SAI_No}),o.jsx(A,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",value:d.ObligationRequestNumber,onChange:h,onBlur:p,error:f.ObligationRequestNumber,touched:m.ObligationRequestNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:d.InvoiceDate,onChange:h,onBlur:p,error:f.InvoiceDate,touched:m.InvoiceDate}),o.jsx(A,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",value:d.SAIDate,onChange:h,onBlur:p,error:f.SAIDate,touched:m.SAIDate}),o.jsx(A,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",value:d.ALOBSDate,onChange:h,onBlur:p,error:f.ALOBSDate,touched:m.ALOBSDate})]}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:d.Remarks,onChange:h,onBlur:p,error:f.Remarks,touched:m.Remarks}),o.jsx("hr",{className:"!mt-5 !mb-5"}),o.jsx(Kr,{name:"Items",render:({remove:y,push:x})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Items"}),o.jsx(dt,{type:"button",onClick:()=>x({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),d.Items.map((b,w)=>{var S,C,j,N,T,k,E,O,P,L,$,D,B,U;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[o.jsxs("div",{className:"flex-1 min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Item ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(jr,{label:"Item",options:s,placeholder:"Select item...",isSearchable:!0,onChange:_=>g(`Items[${w}].ItemID`,(_==null?void 0:_.value)||""),name:`Items[${w}].ItemID`,value:s.find(_=>_.value===b.ItemID)||null,onBlur:p,required:!0}),((C=(S=f.Items)==null?void 0:S[w])==null?void 0:C.ItemID)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[w].ItemID})]}),o.jsx(A,{className:"flex-1 max-w-[180px]",type:"number",label:"Quantity",name:`Items[${w}].Quantity`,value:b.Quantity,onChange:h,onBlur:p,error:(N=(j=f.Items)==null?void 0:j[w])==null?void 0:N.Quantity,touched:(k=(T=m.Items)==null?void 0:T[w])==null?void 0:k.Quantity,required:!0}),o.jsx(A,{className:"flex-1 max-w-[150px]",type:"select",label:"Unit",name:`Items[${w}].Unit`,value:b.Unit,onChange:h,onBlur:p,options:i,error:(O=(E=f.Items)==null?void 0:E[w])==null?void 0:O.Unit,touched:(L=(P=m.Items)==null?void 0:P[w])==null?void 0:L.Unit,required:!0}),o.jsx(A,{className:"flex-1 max-w-[200px]",type:"number",label:"Cost",name:`Items[${w}].Cost`,value:b.Cost,onChange:h,onBlur:p,error:(D=($=f.Items)==null?void 0:$[w])==null?void 0:D.Cost,touched:(U=(B=m.Items)==null?void 0:B[w])==null?void 0:U.Cost,required:!0})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(dt,{type:"button",onClick:()=>y(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:d.Items.length===1,children:o.jsx(Mr,{className:"w-4 h-4"})})})]},w)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((b,w)=>b+(parseFloat(w.Cost)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Estimated Cost)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((b,w)=>b+(parseFloat(w.Cost)||0)*(parseFloat(w.Quantity)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:"Save"})]})]})})}const Dj="https://staging-engine.testthelink.online",Cxe=[],Nxe={purchaseRequests:Cxe,isLoading:!1,error:null},cb=M("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Dj}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ub=M("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Dj}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),db=M("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Dj}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),fb=M("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${Dj}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Sxe=ye({name:"purchaseRequests",initialState:Nxe,reducers:{},extraReducers:t=>{t.addCase(cb.pending,e=>{e.isLoading=!0}).addCase(cb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ub.pending,e=>{e.isLoading=!0}).addCase(ub.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(db.pending,e=>{e.isLoading=!0}).addCase(db.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fb.pending,e=>{e.isLoading=!0}).addCase(fb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=e.purchaseRequests.filter(n=>n.ID!==r.payload),e.error=null}).addCase(fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),Axe=Sxe.reducer;function Txe(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),{departments:a}=V(C=>C.departments),s=V(C=>{var j;return((j=C.chartOfAccounts)==null?void 0:j.accounts)||[]}),{items:i}=V(C=>C.items),{itemUnits:l}=V(C=>C.itemUnits),{purchaseRequests:c,isLoading:u}=V(C=>C.purchaseRequests),[d,f]=v.useState(!1),[m,h]=v.useState(null),p=ie();v.useEffect(()=>{p(Cr()),p(Nr()),p(gs()),p(_a()),p(cb())},[]);const g=()=>{n(null),e(!0)},y=()=>{e(!1),n(null)},x=async()=>{if(m)try{await p(fb(m.ID)).unwrap(),f(!1),h(null),pe.success("Deleted")}catch(C){pe.error(C||"Failed")}},b=async C=>{try{const j=C.Items.reduce((k,E)=>k+(parseFloat(E.Cost)||0),0),N=C.Items.reduce((k,E)=>k+(parseFloat(E.Cost)||0)*(parseFloat(E.Quantity)||0),0),T={...C,Total:j.toFixed(2),AmountReceived:N.toFixed(2)};r?await p(db(T)).unwrap():await p(ub(T)).unwrap(),pe.success("Success")}catch(j){pe.error(j||"Failed")}finally{e(!1)}},w=[{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"DepartmentName",header:"Department",sortable:!0},{key:"Remarks",header:"Purpose",sortable:!0},{key:"OfficeUnitProject",header:"Section",sortable:!0},{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"SAI_No",header:"SAI No.",sortable:!0},{key:"SAIDate",header:"SAI Date",sortable:!0},{key:"ObligationRequestNumber",header:"ALOBS No.",sortable:!0},{key:"ALOBSDate",header:"ALOBS Date",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"AmountReceived",header:"Estimated Total",sortable:!0}],S=[];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Purchase Requests"}),o.jsx("p",{children:"Manage purchase requests and authorizations"})]}),o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:w,actions:S,data:c,loading:u})}),o.jsx(ae,{isOpen:t,onClose:y,title:r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:o.jsx(wxe,{initialData:r,departmentsOptions:a.map(C=>({value:C.ID,label:C.Name})),chartOfAccountsOptions:s.map(C=>({value:C.ID,label:C.Name})),itemsOptions:i.map(C=>({value:C.ID,label:C.Name})),itemsUnitsOptions:l.map(C=>({value:C.ID,label:C.Name})),onSubmit:b,onClose:y})}),o.jsxs(ae,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the purchase request "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}oe({number:I().required("Number is required"),date:Re().required("Date is required"),payee:I().required("Payee is required"),address:I().required("Address is required"),fund:I().required("Fund is required"),fiscalYear:I().required("Fiscal Year is required"),project:I().required("Project is required")});function kxe({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=oe({ResponsibilityCenter:I().required("Required"),ChargeAccountID:I().required("Required"),ItemID:I().required("Required"),Remarks:I().required("Required"),Price:te().required("Required"),Quantity:te().required("Required"),ItemUnitID:I().required("Required"),TAXCodeID:I().required("Required")}),d=et({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,subtotal:0},validationSchema:u,onSubmit:p=>{const g=i.find(S=>String(S.ID)===String(p.TAXCodeID)),y=Lf({price:p.Price,quantity:p.Quantity,taxRate:(g==null?void 0:g.Rate)||0,vatable:p.Vatable,ewtRate:p.withheldEWT}),x=r.find(S=>String(S.value)===String(p.ResponsibilityCenter)),b=l.find(S=>String(S.value)===String(p.ChargeAccountID)),w=n.find(S=>String(S.value)===String(p.ItemID));t({...p,...y,responsibilityCenterName:x?x.label:"",chargeAccountName:b?b.label:"",itemName:w?w.label:""}),e()}}),f=v.useRef({...d.values});v.useEffect(()=>{if(!["Price","Quantity","TAXCodeID","Vatable"].some(x=>d.values[x]!==f.current[x]))return;f.current={...d.values};const g=i.find(x=>String(x.ID)===String(d.values.TAXCodeID)),y=Lf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(g==null?void 0:g.Rate)||0,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});y.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",y.subtotal,!1),y.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",y.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(p=>String(p.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(A,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0,error:d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter,touched:d.touched.ResponsibilityCenter})}),o.jsx("div",{children:o.jsx(A,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0,error:d.touched.ChargeAccountID&&d.errors.ChargeAccountID,touched:d.touched.ChargeAccountID})}),o.jsx("div",{children:o.jsx(A,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0,error:d.touched.ItemID&&d.errors.ItemID,touched:d.touched.ItemID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(A,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0,error:d.touched.Price&&d.errors.Price,touched:d.touched.Price})}),o.jsx("div",{children:o.jsx(A,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0,error:d.touched.Quantity&&d.errors.Quantity,touched:d.touched.Quantity})}),o.jsx("div",{children:o.jsx(A,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0,error:d.touched.ItemUnitID&&d.errors.ItemUnitID,touched:d.touched.ItemUnitID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(A,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0,error:d.touched.TAXCodeID&&d.errors.TAXCodeID,touched:d.touched.TAXCodeID})}),o.jsx("div",{children:o.jsx(A,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsx(A,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx(A,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0,error:d.touched.Remarks&&d.errors.Remarks,touched:d.touched.Remarks}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const KV="https://staging-engine.testthelink.online",Ixe={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},mb=M("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${KV}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),iC=M("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),hb=M("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${KV}/fundUtilizationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),pb=M("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),XV=ye({name:"fundUtilizations",initialState:Ixe,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(mb.pending,e=>{e.isLoading=!0}).addCase(mb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(iC.pending,e=>{e.isLoading=!0}).addCase(iC.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(iC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hb.pending,e=>{e.isLoading=!0}).addCase(hb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(hb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pb.pending,e=>{e.isLoading=!0}).addCase(pb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:B7e}=XV.actions,Oxe=XV.reducer,P$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],Exe=oe().shape({obrNo:I().required("No. is required"),obrDate:Re().required("Date is required"),payeeType:I().required("Payee type is required"),payeeId:I().required("Payee selection is required"),fund:I().required("Fund is required"),fiscalYear:I().required("Fiscal Year is required"),project:I().required("Project is required"),accountingEntries:tn().min(1,"At least one item is required")});function Pxe({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:p=[],budgetOptions:g=[],taxCodeFull:y=[]}){const x=ie(),b=v.useRef(null),[w,S]=v.useState(!1),[C,j]=v.useState(null),[N,T]=v.useState(null),[k,E]=v.useState(!1),[O,P]=v.useState([]),L=(_,R)=>{const F=_.reduce((Z,fe)=>Z+Number(fe.amount||0),0),G=R.reduce((Z,fe)=>Z+Number(fe.amount||0),0),W=F-G;return{grossAmount:F,totalTaxes:G,netAmount:W}},$={description:"",amount:"",accountCode:""},D={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[$],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},B=_=>{S(!0),L(_.items,_.taxes);const R=new FormData;_.payeeType==="Employee"?(R.append("EmployeeID",_.payeeId),R.append("VendorID",""),R.append("CustomerID","")):_.payeeType==="Vendor"?(R.append("EmployeeID",""),R.append("VendorID",_.payeeId),R.append("CustomerID","")):_.payeeType==="Individual"&&(R.append("EmployeeID",""),R.append("VendorID",""),R.append("CustomerID",_.payeeId)),R.append("PayeeType",_.payeeType),R.append("Payee",(C==null?void 0:C.Name)||(C==null?void 0:C.FirstName)+" "+(C==null?void 0:C.MiddleName)+" "+(C==null?void 0:C.LastName)||""),R.append("Address",(C==null?void 0:C.StreetAddress)||""),R.append("InvoiceNumber",_.obrNo),R.append("InvoiceDate",_.obrDate);const F=_.accountingEntries.reduce((ne,K)=>ne+Number(K.subtotal||0),0),G=_.accountingEntries.reduce((ne,K)=>ne+Number(K.ewt||0),0),W=_.accountingEntries.reduce((ne,K)=>ne+Number(K.withheld||0),0),Z=_.accountingEntries.reduce((ne,K)=>ne+Number(K.vat||0),0),fe=_.accountingEntries.reduce((ne,K)=>ne+Number(K.discount||0),0);R.append("Total",F.toFixed(2)),R.append("EWT",G.toFixed(2)),R.append("WithheldAmount",W.toFixed(2)),R.append("Vat_Total",Z.toFixed(2)),R.append("Discounts",fe.toFixed(2)),R.append("FundsID",_.fund),R.append("FiscalYearID",_.fiscalYear),R.append("ProjectID",_.project),R.append("TravelID",""),R.append("Items",JSON.stringify(_.accountingEntries)),_.Attachments.forEach((ne,K)=>{ne.File?R.append(`Attachments[${K}].File`,ne.File):ne.ID&&R.append(`Attachments[${K}].ID`,ne.ID)});const Te=t?pb({formData:R,id:t.ID}):hb(R);x(Te).unwrap().then(()=>{pe.success("Success"),e()}).catch(ne=>{pe.error((ne==null?void 0:ne.message)||"Failed to submit"),console.error("Error submitting DV:",ne)}).finally(()=>{S(!1)})},U=({type:_})=>{switch(_){case"Employee":return o.jsx(CI,{className:"w-5 h-5"});case"Vendor":return o.jsx(S2,{className:"w-5 h-5"});case"Individual":return o.jsx(zv,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:b,initialValues:D,validationSchema:Exe,onSubmit:B,enableReinitialize:!0,children:({values:_,errors:R,touched:F,handleChange:G,handleBlur:W,setFieldValue:Z,isValid:fe})=>{L(_.items,_.taxes);const ne=P$.map(ee=>({value:ee.value,label:ee.label})).find(ee=>ee.value===_.payeeType),K=ee=>{j(null),Z("payeeType",ee),Z("payeeName",""),Z("payeeId",""),Z("payeeAddress",""),Z("officeUnitProject",""),Z("orsNumber","")},le=ee=>{let H=null;switch(_.payeeType){case"Employee":H=s.find(z=>z.ID===ee);break;case"Vendor":H=i.find(z=>z.ID===ee);break;case"Individual":H=l.find(z=>z.ID===ee);break}j(H),Z("payeeName",H==null?void 0:H.Name),Z("payeeId",H==null?void 0:H.ID)},J=ee=>{switch(ee){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Be,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:P$.map(ee=>o.jsxs("button",{type:"button",onClick:()=>K(ee.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${_.payeeType===ee.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(U,{type:ee.value}),o.jsx("span",{className:"ml-3 font-medium",children:ee.label})]},ee.value))}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),_.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",ne==null?void 0:ne.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:J(_.payeeType),value:J(_.payeeType).find(ee=>ee.value===_.payeeId)||null,onChange:ee=>le(ee.value),className:"react-select-container",classNamePrefix:"react-select"}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),C&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(ne==null?void 0:ne.label)==="Employee"?`${C.FirstName||""} ${C.MiddleName||""} ${C.LastName||""}`.trim():((ne==null?void 0:ne.label)==="Vendor"||(ne==null?void 0:ne.label)==="Individual",C.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((ne==null?void 0:ne.label)==="Employee"||(ne==null?void 0:ne.label)==="Vendor"||(ne==null?void 0:ne.label)==="Individual",C.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(A,{type:"text",label:"No.",name:"obrNo",value:_.obrNo,onChange:G,onBlur:W,error:R.obrNo,touched:F.obrNo,required:!0}),o.jsx(A,{type:"date",label:"Date",name:"obrDate",value:_.obrDate,onChange:G,onBlur:W,error:R.obrDate,touched:F.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:u,value:u.find(ee=>ee.value===_.fund)||null,onChange:ee=>Z("fund",ee.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:f,value:f.find(ee=>ee.value===_.fiscalYear)||null,onChange:ee=>Z("fiscalYear",ee.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:d,value:d.find(ee=>ee.value===_.project)||null,onChange:ee=>Z("project",ee.value),className:"react-select-container",classNamePrefix:"react-select"}),R.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.project})]})]}),o.jsx(Kr,{name:"accountingEntries",children:({push:ee,remove:H})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>E(!0),children:"+ Item"})]}),_.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),_.accountingEntries.map((z,me)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:z.responsibilityCenterName}),o.jsx("span",{children:z.Remarks}),o.jsx("span",{children:z.itemName}),o.jsx("span",{children:z.FPP}),o.jsx("span",{children:z.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(z.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>H(me),className:"text-red-600 text-xs",children:""})})]},me)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:_.accountingEntries.reduce((z,me)=>z+Number(me.subtotal),0).toFixed(2)})]})]}),o.jsx(ae,{isOpen:k,onClose:()=>E(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(kxe,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:p,budgetOptions:g,taxCodeFull:y,onClose:()=>E(!1),onSubmit:z=>{ee(z),E(!1)}})})]})}),R.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.accountingEntries}),o.jsx("hr",{}),o.jsx(Kr,{name:"Attachments",render:({remove:ee,push:H})=>{var z;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>H({File:null}),children:"+ Attachment"})]}),(z=_.Attachments)==null?void 0:z.map((me,we)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[me.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${me.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:me.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${we}].ID`,value:me.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${we+1}`}),o.jsx("input",{type:"file",name:`Attachments[${we}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ie=>Z(`Attachments[${we}].File`,Ie.currentTarget.files[0]),onBlur:W,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>ee(we),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Mr,{className:"w-4 h-4"})})]},we))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Dxe(){const t=ie(),{fundUtilizations:e,isLoading:r}=V(j=>j.fundUtilizations),{employees:n}=V(j=>j.employees),{customers:a}=V(j=>j.customers),{vendorDetails:s}=V(j=>j.vendorDetails),{departments:i}=V(j=>j.departments),{projectDetails:l}=V(j=>j.projectDetails),{funds:c}=V(j=>j.funds),{fiscalYears:u}=V(j=>j.fiscalYears),{items:d}=V(j=>j.items),{taxCodes:f}=V(j=>j.taxCodes),{itemUnits:m}=V(j=>j.itemUnits),{budgets:h}=V(j=>j.budget),[p,g]=v.useState("list"),[y,x]=v.useState(null);v.useEffect(()=>{t(mb()),t(Un()),t(zn()),t(ps()),t(Cr()),t($i()),t(sr()),t(ys()),t(gs()),t(fa()),t(_a()),t(Co())},[t]);const b=()=>{x(null),g("form")},w=j=>{x(j),g("form")},S=()=>{g("list"),x(null)},C=[{key:"Status",header:"Status",sortable:!0,render:j=>{let N="bg-neutral-100 text-neutral-800";switch(j){case"Requested":N="bg-warning-100 text-warning-800";break;case"Pending Approval":N="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":N="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:j})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>new Date(j).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[p==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{children:o.jsx("h1",{children:"Fund Utilization Request & Status"})}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:C,data:e,actions:j=>{var T;const N=[];return((T=j.Transaction)==null?void 0:T.Status)==="Rejected"&&N.push({icon:Ae,title:"Edit",onClick:()=>w(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),N},loading:r})})]}),p==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:y?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),o.jsxs("p",{children:["Fill out the form to"," ",y?"update":"create"," a fund utilization request."]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Pxe,{initialData:y,employeeOptions:n.map(j=>({value:j.ID,label:j.FirstName+" "+j.MiddleName+" "+j.LastName})),vendorOptions:s.map(j=>({value:j.ID,label:j.Name})),individualOptions:a.map(j=>({value:j.ID,label:j.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(j=>({value:j.ID,label:j.Name})),fundOptions:c.map(j=>({value:j.ID,label:j.Name})),projectOptions:l.map(j=>({value:j.ID,label:j.Title})),fiscalYearOptions:u.map(j=>({value:j.ID,label:j.Name})),particularsOptions:d.map(j=>({value:j.ID,label:j.Name})),unitOptions:m.map(j=>({value:j.ID,label:j.Name})),taxCodeOptions:f.map(j=>({value:j.ID,label:j.Name})),budgetOptions:h.map(j=>({value:j.ID,label:j.Name})),taxCodeFull:f,onCancel:S,onSubmitSuccess:S,onClose:S})})]})]})}const JV=t=>{const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE"],r=["TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],n=["","TEN","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];if(t===0)return"ZERO";let a="";const s=t.toString().split(".");let i=parseInt(s[0]);return i>=1e3&&(a+=e[Math.floor(i/1e3)]+" THOUSAND ",i%=1e3),i>=100&&(a+=e[Math.floor(i/100)]+" HUNDRED ",i%=100),i>=20?(a+=n[Math.floor(i/10)]+" ",i%=10):i>=10&&(a+=r[i-10]+" ",i=0),i>0&&(a+=e[i]+" "),s.length>1&&parseInt(s[1])&&(a+="AND "+parseInt(s[1])+"/100"),a.trim()},_xe=oe({Year:te().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:I().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:Re().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:I().required("Certificate number is required").min(3,"Certificate number must be at least 3 characters"),TIN:I().matches(/^[0-9-]*$/,"TIN must contain only numbers and dashes").nullable(),LastName:I().required("Last Name is required").min(2,"Last Name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"Last Name can only contain letters, spaces, hyphens, and apostrophes"),FirstName:I().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:I().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:I().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:I().required("Citizenship is required"),ICRNo:I().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:I().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:Re().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return a<0||a===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:I().required("Civil status is required"),Occupation:I().required("Profession/Occupation is required").min(2,"Profession must be at least 2 characters"),Gender:I().required("Sex is required"),HeightFeet:te().typeError("Feet must be a number").required("Feet is required").min(3,"Minimum height is 3 feet").max(8,"Maximum height is 8 feet").integer("Feet must be a whole number"),HeightInches:te().typeError("Inches must be a number").required("Inches is required").min(0,"Inches cannot be negative").max(11,"Inches must be between 0 and 11").test("total-height",`Total height must be between 3'0" and 8'11"`,function(t){const e=this.parent.HeightFeet;if(!e||t===void 0)return!0;const r=e*12+t;return r>=36&&r<=107}),Weight:te().typeError("Weight must be a number").required("Weight is required").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:te().required("Basic tax is required").min(0,"Basic tax cannot be negative").max(1e4,"Basic tax cannot exceed 10,000"),BusinessEarnings:te().typeError("Must be a number").min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:te().typeError("Must be a number").min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:te().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:te().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:te().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:te().min(0,"Real property tax cannot be negative").nullable(),Total:te().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:te().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),AmountReceived:te().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:I().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:I().max(500,"Amount in words cannot exceed 500 characters")}),D$=({selectedCustomer:t=null,initialData:e=null,onCancel:r,onSubmitForm:n,isReadOnly:a=!1})=>{const s=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],i=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],l=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],c=g=>{if(!g)return"";const y=parseFloat(g);return Math.floor(y/12).toString()},u=g=>{if(!g)return"";const y=parseFloat(g);return Math.round(y%12).toString()},f=et({initialValues:(()=>{const g=(e==null?void 0:e.Customer)||t,y=(g==null?void 0:g.Height)||"",x=y?c(y):"",b=y?u(y):"";return{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",TIN:(e==null?void 0:e.TIN)||(g==null?void 0:g.TIN)||"",LastName:(g==null?void 0:g.LastName)||"",FirstName:(g==null?void 0:g.FirstName)||"",MiddleName:(g==null?void 0:g.MiddleName)||"",Address:(g==null?void 0:g.StreetAddress)||"",Citizenship:(g==null?void 0:g.Citizenship)||"",ICRNo:(g==null?void 0:g.ICRNumber)||"",PlaceOfBirth:(g==null?void 0:g.PlaceofBirth)||"",CivilStatus:(g==null?void 0:g.CivilStatus)||"",Occupation:(g==null?void 0:g.Occupation)||"",Gender:(g==null?void 0:g.Gender)||"",HeightFeet:x,HeightInches:b,Weight:(g==null?void 0:g.Weight)||"",BirthDate:(g==null?void 0:g.Birthdate)||"",BasicTax:(e==null?void 0:e.BasicTax)||"",BusinessEarnings:(e==null?void 0:e.BusinessEarnings)||"",BusinessTaxDue:(e==null?void 0:e.BusinessTaxDue)||"",OccupationEarnings:(e==null?void 0:e.OccupationEarnings)||"",OccupationTaxDue:(e==null?void 0:e.OccupationTaxDue)||"",IncomeProperty:(e==null?void 0:e.IncomeProperty)||"",PropertyTaxDue:(e==null?void 0:e.PropertyTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountReceived:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""}})(),validationSchema:_xe,onSubmit:g=>{const x=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",ID:e.ID,CustomerID:e.CustomerID,...m(g)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...m(g)};n(x)}}),m=g=>{const y={...g,Year:String(g.Year),Height:String(g.Height),Weight:String(g.Weight),InputOne:Number(g.BusinessEarnings),InputTwo:Number(g.OccupationEarnings),InputThree:Number(g.IncomeProperty),OutputOne:Number(g.BusinessTaxDue),OutputTwo:Number(g.OccupationTaxDue),OutputThree:Number(g.PropertyTaxDue),Municipality:g.PlaceIssued,AmountPaid:Number(g.AmountReceived),Words:g.AmountinWords,Profession:g.Occupation};return delete y.BusinessEarnings,delete y.OccupationEarnings,delete y.IncomeProperty,delete y.BusinessTaxDue,delete y.OccupationTaxDue,delete y.PropertyTaxDue,delete y.PlaceIssued,delete y.AmountReceived,delete y.AmountinWords,delete y.Occupation,y},h=g=>({name:g,value:f.values[g]||"",onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched[g]&&f.errors[g],disabled:a});v.useEffect(()=>{p()},[f.values.AmountReceived]);const p=()=>{const g=f.values.Total,y=JV(g);f.setFieldValue("AmountinWords",y)};return o.jsx("div",{className:"min-h-screen",children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(wI,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-6 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(A,{label:"Year",...h("Year"),type:"number",disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Year&&f.errors.Year,touched:f.touched.Year,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Place of Issue",...h("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceIssued&&f.errors.PlaceIssued,touched:f.touched.PlaceIssued,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Date Issued",...h("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.DateIssued&&f.errors.DateIssued,touched:f.touched.DateIssued,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"OR No.",...h("CCNumber"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:f.touched.CCNumber&&f.errors.CCNumber,touched:f.touched.CCNumber,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(A,{label:"TIN (if Any)",...h("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000",error:f.touched.TIN&&f.errors.TIN,touched:f.touched.TIN})}),o.jsx("div",{className:"hidden md:block"}),o.jsx("div",{className:"hidden lg:block"}),o.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(zv,{className:"h-5 w-5"}),"Personal Information"]})}),o.jsxs("div",{className:"p-6 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(A,{label:"Last Name",...h("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.LastName&&f.errors.LastName,touched:f.touched.LastName})}),o.jsx("div",{children:o.jsx(A,{label:"First Name",...h("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.FirstName&&f.errors.FirstName,touched:f.touched.FirstName})}),o.jsx("div",{children:o.jsx(A,{label:"Middle Name",...h("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.MiddleName&&f.errors.MiddleName,touched:f.touched.MiddleName})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(A,{label:"Address",...h("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Address&&f.errors.Address,touched:f.touched.Address,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(A,{label:"Citizenship",...h("Citizenship"),type:"select",options:s,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Citizenship&&f.errors.Citizenship,touched:f.touched.Citizenship,required:!0}),o.jsx(A,{label:"ICR No.",...h("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.ICRNo&&f.errors.ICRNo,touched:f.touched.ICRNo}),o.jsx(A,{label:"Place of Birth",...h("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceOfBirth&&f.errors.PlaceOfBirth,touched:f.touched.PlaceOfBirth,required:!0}),o.jsx(A,{label:"Date of Birth",...h("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",required:!0,error:f.touched.BirthDate&&f.errors.BirthDate,touched:f.touched.BirthDate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(A,{label:"Civil Status",...h("CivilStatus"),type:"radio",options:i,error:f.touched.CivilStatus&&f.errors.CivilStatus,touched:f.touched.CivilStatus,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Profession/Occupation",...h("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Occupation&&f.errors.Occupation,touched:f.touched.Occupation,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Sex",...h("Gender"),type:"radio",options:l,error:f.touched.Gender&&f.errors.Gender,touched:f.touched.Gender,required:!0})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{children:o.jsx(A,{label:"Height (feet)",...h("HeightFeet"),type:"text",min:"3",max:"8",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightFeet&&f.errors.HeightFeet,touched:f.touched.HeightFeet,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Height (inches)",...h("HeightInches"),type:"text",min:"0",max:"11",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightInches&&f.errors.HeightInches,touched:f.touched.HeightInches,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Weight (kg)",...h("Weight"),type:"text",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Weight&&f.errors.Weight,touched:f.touched.Weight,required:!0})})]})]})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(q6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-6 pt-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(A,{label:"Taxable Amount:",...h("BasicTax"),type:"text",min:"0",step:"0.01",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:f.touched.BasicTax&&f.errors.BasicTax,touched:f.touched.BasicTax,required:!0})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(A,{label:"Taxable Amount:",...h("BusinessEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.BusinessEarnings&&f.errors.BusinessEarnings,touched:f.touched.BusinessEarnings})}),o.jsx("div",{children:o.jsx(A,{label:"Community Due Amount:",...h("BusinessTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.BusinessTaxDue&&f.errors.BusinessTaxDue,touched:f.touched.BusinessTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(A,{label:"Taxable Amount:",...h("OccupationEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.OccupationEarnings&&f.errors.OccupationEarnings,touched:f.touched.OccupationEarnings})}),o.jsx("div",{children:o.jsx(A,{label:"Community Due Amount:",...h("OccupationTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.OccupationTaxDue&&f.errors.OccupationTaxDue,touched:f.touched.OccupationTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(A,{label:"Taxable Amount:",...h("IncomeProperty"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.IncomeProperty&&f.errors.IncomeProperty,touched:f.touched.IncomeProperty})}),o.jsx("div",{children:o.jsx(A,{label:"Community Due Amount:",...h("PropertyTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.PropertyTaxDue&&f.errors.PropertyTaxDue,touched:f.touched.PropertyTaxDue})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Total"}),o.jsx(A,{...h("Total"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Total&&f.errors.Total,touched:f.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest %"}),o.jsx(A,{...h("Interest"),type:"text",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Interest&&f.errors.Interest,touched:f.touched.Interest})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),o.jsx(A,{...h("AmountReceived"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.AmountReceived&&f.errors.AmountReceived,touched:f.touched.AmountReceived})]}),o.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsxs("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:[f.values.AmountinWords||"ZERO"," PESOS"]})]})})]})}),o.jsx(A,{label:"Remarks",...h("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(dt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:!f.isValid||f.isSubmitting,children:f.isSubmitting?"Generating...":"Generate Certificate"})]}),f.submitCount>0&&Object.keys(f.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(f.errors).map(([g,y])=>o.jsx("li",{children:y},g))})]})]})})},qm="https://staging-engine.testthelink.online",$xe=[],uc=M("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),lC=M("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),gb=M("communityTax/addCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),cC=M("communityTax/updateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),yb=M("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),QV=ye({name:"communityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(uc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(uc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=$xe}).addCase(lC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(lC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(gb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase(cC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(cC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(yb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:q7e}=QV.actions,Rxe=QV.reducer;function Mxe(){const t=ie(),{records:e,isLoading:r}=V($=>$.communityTax),{customers:n,isLoading:a}=V($=>$.customers),[s,i]=v.useState("list"),[l,c]=v.useState(null),[u,d]=v.useState(""),[f,m]=v.useState(!1),[h,p]=v.useState({});v.useEffect(()=>{t(uc()),t(zn())},[t]);const g=()=>{c(null),i("form")},y=$=>{c($),i("details")},x=$=>{c($),i("form"),console.log("Edit certificate:",$),L($.CustomerID)},b=$=>{console.log("Print certificate:",$)},w=()=>{i("list"),c(null),p(null)},S=async $=>{try{await t(yb($.ID)).unwrap(),t(uc())}catch(D){console.error("Error deleting certificate:",D)}},C=e==null?void 0:e.filter($=>{var B,U,_,R;const D=u.toLowerCase();return((B=$==null?void 0:$.LinkID)==null?void 0:B.toLowerCase().includes(D))||((U=$==null?void 0:$.CustomerName)==null?void 0:U.toLowerCase().includes(D))||((R=(_=$==null?void 0:$.Customer)==null?void 0:_.StreetAddress)==null?void 0:R.toLowerCase().includes(D))}),j=[{key:"LinkID",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,render:$=>N($),className:"text-right"},{key:"AmountReceived",header:"Received Amount",sortable:!0,render:$=>N($),className:"text-right"},{key:"InvoiceDate",header:"Date",sortable:!0,render:$=>new Date($).toLocaleDateString()},{key:"Employee",header:"Employee",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:$=>T($)}],N=$=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format($||0),T=$=>{let D="bg-neutral-100 text-neutral-800";switch($){case"Requested":D="bg-success-100 text-success-800";break;case"Posted":D="bg-warning-100 text-warning-800";break;case"Cancelled":D="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${D}`,children:$})},k=[{icon:nv,title:"View",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Yn,title:"Delete",onClick:S,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],E=()=>{m(!0)},O=()=>{m(!1)},P=async $=>{try{await t(gb($)).unwrap(),t(uc()),it.success("Certificate saved successfully.")}catch(D){console.error("Error saving certificate:",D),it.error("Failed to save certificate. Please try again.")}finally{w()}},L=$=>{const D=n.find(B=>B.ID===$);p(D)};return o.jsxs("div",{className:"container mx-auto p-2 sm:px-4 sm:py-8",children:[s==="list"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates"})]}),o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsx(ge,{columns:j,data:C,actions:k,loading:r||a,onRowClick:y})})]}),s==="form"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:w,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l?"Edit Community Tax Certificate (INDIVIDUAL)":"Community Tax Certificate (INDIVIDUAL)"}),o.jsx("p",{className:"text-gray-600",children:l?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex items-end gap-2 justify-end w-full",children:[o.jsx(Rr,{options:(n==null?void 0:n.map($=>({label:$.Name,value:$.ID})))||[],placeholder:"Choose Citizen",selectedValue:h==null?void 0:h.ID,onSelect:L,label:"Choose Citizen",required:!0}),o.jsx("button",{type:"button",onClick:E,className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:h?o.jsx(D$,{selectedCustomer:h,initialData:l,onCancel:w,onSubmitForm:P},h==null?void 0:h.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a Citizen first to start"," "]})})]}),s==="details"&&l&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:w,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>x(l),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>b(l),className:"btn btn-outline flex items-center",children:[o.jsx(al,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(D$,{initialData:l,onCancel:w,isReadOnly:!0})})]}),o.jsx(ae,{isOpen:f,onClose:O,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}const Lxe=oe().shape({Year:I().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),PlaceIssued:I().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:Re().required("Date issued is required").max(new Date,"Date cannot be in the future"),CCNumber:I().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Name:I().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:I().matches(/^\d{3}-\d{3}-\d{3}-\d{3}$|^\d{9}$|^$/,"TIN must be 9 digits or in XXX-XXX-XXX-XXX format"),Address:I().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:Re().required("Registration date is required"),KindofOrganization:I().required("Organization type is required").oneOf(["Corporation","Partnership","Association"],"Invalid organization type"),PlaceofIncorporation:I().required("Place of incorporation is required"),NatureOfOrganization:I().required("Business nature is required"),BasicTax:te().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:te().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:te().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:te().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:te().typeError("Must be a number").min(0,"Cannot be negative"),Total:te().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:te().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:te().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:I().max(500,"Remarks must be less than 500 characters"),AmountinWords:I().max(500,"Amount in words cannot exceed 500 characters")}),_$=({selectedVendor:t=null,initialData:e=null,onBack:r,onSubmitSuccess:n,readOnly:a})=>{const s=[{value:"Corporation",label:"Corporation"},{value:"Partnership",label:"Partnership"},{value:"Association",label:"Association"}],i=(e==null?void 0:e.Customer)||t;console.log("Customer Source:",i);const l=et({initialValues:{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",Name:(e==null?void 0:e.CustomerName)||"",TIN:(e==null?void 0:e.TIN)||"",Address:(i==null?void 0:i.StreetAddress)||"",dateOfRegistration:(i==null?void 0:i.DateofRegistration)||"",KindofOrganization:(i==null?void 0:i.KindofOrganization)||"Corporation",PlaceofIncorporation:(i==null?void 0:i.PlaceofIncorporation)||"",NatureOfOrganization:(i==null?void 0:i.NatureOfOrganization)||"",BasicTax:(e==null?void 0:e.BasicTax)||0,assessedValueRealProperty:(e==null?void 0:e.BusinessEarnings)||"",assessedValueTax:(e==null?void 0:e.BusinessTaxDue)||"",grossReceipts:(e==null?void 0:e.OccupationEarnings)||"",grossReceiptsTax:(e==null?void 0:e.OccupationTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountPaid:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""},validationSchema:Lxe,onSubmit:d=>{const m=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",CustomerID:e==null?void 0:e.CustomerID,ID:e.ID,...c(d)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...c(d)};console.log("Submitted values:",m),n(m)}}),c=d=>{const f={...d,InputOne:Number(d.assessedValueRealProperty),InputTwo:Number(d.grossReceipts),OutputOne:Number(d.assessedValueTax),OutputTwo:Number(d.grossReceiptsTax),BasicTax:Number(d.BasicTax),Total:Number(d.Total),AmountPaid:Number(d.AmountPaid),Interest:Number(d.Interest),Words:d.AmountinWords};return delete f.assessedValueRealProperty,delete f.assessedValueTax,delete f.grossReceipts,delete f.grossReceiptsTax,delete f.AmountinWords,f};v.useEffect(()=>{u()},[l.values.AmountPaid]);const u=()=>{const d=l.values.Total,f=JV(d);l.setFieldValue("AmountinWords",f)};return console.log("Formik Values:",l.errors),o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("form",{onSubmit:l.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(wI,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-2 sm:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx(A,{label:"Year",name:"Year",value:l.values.Year,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.Year&&l.errors.Year?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Year}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"Place of Issue (City/Mun/Province)",name:"PlaceIssued",value:l.values.PlaceIssued,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.PlaceIssued&&l.errors.PlaceIssued?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.PlaceIssued}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"Date Issued",name:"DateIssued",type:"date",value:l.values.DateIssued,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.DateIssued&&l.errors.DateIssued?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.DateIssued}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"Certificate No.",name:"CCNumber",value:l.values.CCNumber,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600"}),l.touched.CCNumber&&l.errors.CCNumber?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.CCNumber}):null]})]}),o.jsx("div",{className:"text-right mb-4",children:o.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(B6,{className:"h-5 w-5"}),"Company Information"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(A,{label:"Company's Full Name",name:"Name",value:l.values.Name,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.Name&&l.errors.Name?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Name}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"TIN (if Any)",name:"TIN",value:l.values.TIN,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.TIN&&l.errors.TIN?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.TIN}):null]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(A,{label:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Wde,{className:"h-4 w-4"}),"Address of Principal Place of Business"]}),name:"Address",value:l.values.Address,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.Address&&l.errors.Address?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Address}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:l.values.dateOfRegistration,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.dateOfRegistration&&l.errors.dateOfRegistration?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.dateOfRegistration}):null]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(A,{label:"Kind of Organization",name:"KindofOrganization",type:"radio",value:l.values.KindofOrganization,onChange:l.handleChange,options:s,disabled:a}),l.touched.KindofOrganization&&l.errors.KindofOrganization?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.KindofOrganization}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:l.values.PlaceofIncorporation,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.PlaceofIncorporation&&l.errors.PlaceofIncorporation?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.PlaceofIncorporation}):null]})]}),o.jsxs("div",{children:[o.jsx(A,{label:"Kind/Nature of Business",name:"NatureOfOrganization",value:l.values.NatureOfOrganization,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.NatureOfOrganization&&l.errors.NatureOfOrganization?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.NatureOfOrganization}):null]})]})})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(q6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsxs("div",{children:[o.jsx(A,{name:"BasicTax",label:"Community Due Amount:",value:l.values.BasicTax,onChange:l.handleChange,disabled:a,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500"}),l.touched.BasicTax&&l.errors.BasicTax?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.BasicTax}):null]})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{children:[o.jsx(A,{name:"assessedValueRealProperty",value:l.values.assessedValueRealProperty,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount"}),l.touched.assessedValueRealProperty&&l.errors.assessedValueRealProperty?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.assessedValueRealProperty}):null]}),o.jsxs("div",{children:[o.jsx(A,{name:"assessedValueTax",value:l.values.assessedValueTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax"}),l.touched.assessedValueTax&&l.errors.assessedValueTax?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.assessedValueTax}):null]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{children:[o.jsx(A,{name:"grossReceipts",value:l.values.grossReceipts,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount"}),l.touched.grossReceipts&&l.errors.grossReceipts?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.grossReceipts}):null]}),o.jsxs("div",{children:[o.jsx(A,{name:"grossReceiptsTax",value:l.values.grossReceiptsTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax"}),l.touched.grossReceiptsTax&&l.errors.grossReceiptsTax?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.grossReceiptsTax}):null]})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[o.jsx("div",{className:"md:w-1/3 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"TOTAL"}),o.jsx(A,{name:"Total",value:l.values.Total,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),l.touched.Total&&l.errors.Total?o.jsx("div",{className:"text-red-300 text-sm mt-1",children:l.errors.Total}):null]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"INTEREST %"}),o.jsx(A,{name:"Interest",value:l.values.Interest,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),l.touched.Interest&&l.errors.Interest?o.jsx("div",{className:"text-red-300 text-sm mt-1",children:l.errors.Interest}):null]})]})}),o.jsx("div",{className:"md:w-1/3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),o.jsx(A,{name:"AmountPaid",value:l.values.AmountPaid,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),l.touched.AmountPaid&&l.errors.AmountPaid?o.jsx("div",{className:"text-red-300 text-sm mt-1",children:l.errors.AmountPaid}):null]})}),o.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsxs("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:[l.values.AmountinWords||"ZERO"," PESOS"]})]})})]})}),o.jsxs("div",{children:[o.jsx(A,{label:"Remarks",name:"Remarks",type:"textarea",value:l.values.Remarks,onChange:l.handleChange,disabled:a,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3}),l.touched.Remarks&&l.errors.Remarks?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Remarks}):null]})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(dt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",children:l.isSubmitting?"Generating...":"Generate Certificate"})]})]}),l.submitCount>0&&Object.keys(l.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(l.errors).map(([d,f])=>o.jsx("li",{children:f},d))})]})]})},Vm="https://staging-engine.testthelink.online",Fxe=[],dc=M("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),uC=M("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),bb=M("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),dC=M("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),xb=M("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),ZV=ye({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(dc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(dc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=Fxe}).addCase(uC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(uC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase(bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(dC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(dC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(xb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:V7e}=ZV.actions,Bxe=ZV.reducer;function qxe(){const[t,e]=v.useState("list"),[r,n]=v.useState(null),[a,s]=v.useState(!1),[i,l]=v.useState(null),{records:c,isLoading:u}=V(O=>O.corporateCommunityTax),{vendorDetails:d,isLoading:f}=V(O=>O.vendorDetails),m=ie();v.useEffect(()=>{m(ps()),m(dc())},[m]);const h=()=>{n(null),e("form")},p=O=>{n(O),e("details")},g=O=>{n(O),console.log("Edit certificate:",O),E(O.CustomerID),e("form")},y=O=>{console.log("Print certificate:",O)},x=()=>{e("list"),n(null),l(null)},b=[{key:"CustomerID",header:"Customer ID",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:O=>w(O),className:"text-right"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:O=>w(O),className:"text-right"},{key:"Earnings",header:"Earnings",sortable:!0,render:O=>w(O),className:"text-right"},{key:"TaxDue",header:"Tax Due",sortable:!0,render:O=>w(O),className:"text-right"},{key:"Year",header:"Year",sortable:!0},{key:"IssuedBy",header:"Issued By",sortable:!0},{key:"Status",header:"Status",render:O=>S(O)}],w=O=>O>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(O):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(O),S=O=>{let P="bg-neutral-100 text-neutral-800";switch(O){case"Posted":P="bg-green-100 text-green-800";break;case"Requested":P="bg-yellow-100 text-yellow-800";break;case"Cancelled":P="bg-red-100 text-red-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P}`,children:O})},j=[{icon:nv,title:"View",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Yn,title:"Delete",onClick:async O=>{try{await m(xb(O.ID)).unwrap(),m(dc()),console.log("Certificate deleted and data reFetched"),it.success("Certificate deleted successfully.")}catch(P){console.error("Error deleting certificate:",P),it.error("Failed to delete certificate. Please try again.")}finally{x()}},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],N=()=>{s(!0)},T=()=>{s(!1)},k=async O=>{try{await m(bb(O)).unwrap(),m(dc()),it.success("Certificate saved successfully.")}catch(P){console.error("Error saving certificate:",P),it.error("Failed to save certificate. Please try again.")}finally{x()}},E=O=>{const P=d.find(L=>L.ID===O);l(P),console.log("Selected vendor:",P)};return o.jsxs("div",{className:"container mx-auto  sm:px-4 sm:py-8",children:[t==="list"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Corporation Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage corporation tax certificates"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsx(ge,{columns:b,data:c,actions:j,loading:f||u,onRowClick:p})})]}),t==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate (CORPORATE)":"Community Tax Certificate (CORPORATE)"}),o.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex items-end gap-2 justify-end w-full",children:[o.jsx(Rr,{options:(d==null?void 0:d.map(O=>({label:O.Name,value:O.ID})))||[],selectedValue:i==null?void 0:i.ID,label:"Choose Vendor",placeholder:"Choose Vendor",onSelect:E,required:!0}),o.jsx("button",{type:"button",onClick:N,className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:i?o.jsx(_$,{selectedVendor:i,initialData:r,onCancel:x,onSubmitSuccess:k,readOnly:!1},i==null?void 0:i.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a vendor first to start"," "]})})]}),t==="details"&&r&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>g(r),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>y(r),className:"btn btn-outline flex items-center",children:[o.jsx(al,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(_$,{initialData:r,readOnly:!0,onBack:x})})]}),o.jsx(ae,{isOpen:a,onClose:T,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}function Vxe(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),a=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],s=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),i=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:m=>s(m),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:m=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:m})}],l=[{icon:nv,title:"View",onClick:m=>u(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:m=>d(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{n(m),e(!0)},f=async(m,{setSubmitting:h})=>{try{await Q_.validate(m,{abortEarly:!1}),console.log("Form data:",m),e(!1)}catch(p){console.error("Validation errors:",p.errors)}finally{h(!1)}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Market Collections"}),o.jsx("p",{children:"Manage market stall rental collections"})]}),o.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:i,data:a,actions:l,pagination:!0})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:o.jsx($e,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:Q_,onSubmit:f,children:({values:m,errors:h,touched:p,handleChange:g,handleBlur:y,isSubmitting:x})=>o.jsxs(Be,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Date",name:"date",type:"date",required:!0,value:m.date,onChange:g,onBlur:y,error:h.date,touched:p.date}),o.jsx(A,{label:"Period",name:"period",type:"select",required:!0,value:m.period,onChange:g,onBlur:y,error:h.period,touched:p.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:m.stallNumber,onChange:g,onBlur:y,error:h.stallNumber,touched:p.stallNumber}),o.jsx(A,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:m.stallType,onChange:g,onBlur:y,error:h.stallType,touched:p.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),o.jsx(A,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:m.stallOwner,onChange:g,onBlur:y,error:h.stallOwner,touched:p.stallOwner}),o.jsx(A,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:m.amount,onChange:g,onBlur:y,error:h.amount,touched:p.amount,min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:x?"Saving...":r?"Update":"Save"})]})]})})})]})}function eU(t,e){return function(){return t.apply(e,arguments)}}const{toString:Uxe}=Object.prototype,{getPrototypeOf:MI}=Object,{iterator:_j,toStringTag:tU}=Symbol,$j=(t=>e=>{const r=Uxe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ga=t=>(t=t.toLowerCase(),e=>$j(e)===t),Rj=t=>e=>typeof e===t,{isArray:su}=Array,Ff=Rj("undefined");function zxe(t){return t!==null&&!Ff(t)&&t.constructor!==null&&!Ff(t.constructor)&&rn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rU=ga("ArrayBuffer");function Wxe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rU(t.buffer),e}const Hxe=Rj("string"),rn=Rj("function"),nU=Rj("number"),Mj=t=>t!==null&&typeof t=="object",Gxe=t=>t===!0||t===!1,vb=t=>{if($j(t)!=="object")return!1;const e=MI(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(tU in t)&&!(_j in t)},Yxe=ga("Date"),Kxe=ga("File"),Xxe=ga("Blob"),Jxe=ga("FileList"),Qxe=t=>Mj(t)&&rn(t.pipe),Zxe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||rn(t.append)&&((e=$j(t))==="formdata"||e==="object"&&rn(t.toString)&&t.toString()==="[object FormData]"))},eve=ga("URLSearchParams"),[tve,rve,nve,ave]=["ReadableStream","Request","Response","Headers"].map(ga),sve=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Um(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),su(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,t[l],l,t)}}function aU(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const wi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sU=t=>!Ff(t)&&t!==wi;function GA(){const{caseless:t}=sU(this)&&this||{},e={},r=(n,a)=>{const s=t&&aU(e,a)||a;vb(e[s])&&vb(n)?e[s]=GA(e[s],n):vb(n)?e[s]=GA({},n):su(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Um(arguments[n],r);return e}const ove=(t,e,r,{allOwnKeys:n}={})=>(Um(e,(a,s)=>{r&&rn(a)?t[s]=eU(a,r):t[s]=a},{allOwnKeys:n}),t),ive=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),lve=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},cve=(t,e,r,n)=>{let a,s,i;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)i=a[s],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&MI(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},uve=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},dve=t=>{if(!t)return null;if(su(t))return t;let e=t.length;if(!nU(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},fve=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&MI(Uint8Array)),mve=(t,e)=>{const n=(t&&t[_j]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},hve=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},pve=ga("HTMLFormElement"),gve=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),$$=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),yve=ga("RegExp"),oU=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Um(r,(a,s)=>{let i;(i=e(a,s,t))!==!1&&(n[s]=i||a)}),Object.defineProperties(t,n)},bve=t=>{oU(t,(e,r)=>{if(rn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(rn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},xve=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return su(t)?n(t):n(String(t).split(e)),r},vve=()=>{},jve=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function wve(t){return!!(t&&rn(t.append)&&t[tU]==="FormData"&&t[_j])}const Cve=t=>{const e=new Array(10),r=(n,a)=>{if(Mj(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const s=su(n)?[]:{};return Um(n,(i,l)=>{const c=r(i,a+1);!Ff(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return r(t,0)},Nve=ga("AsyncFunction"),Sve=t=>t&&(Mj(t)||rn(t))&&rn(t.then)&&rn(t.catch),iU=((t,e)=>t?setImmediate:e?((r,n)=>(wi.addEventListener("message",({source:a,data:s})=>{a===wi&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),wi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",rn(wi.postMessage)),Ave=typeof queueMicrotask<"u"?queueMicrotask.bind(wi):typeof process<"u"&&process.nextTick||iU,Tve=t=>t!=null&&rn(t[_j]),Q={isArray:su,isArrayBuffer:rU,isBuffer:zxe,isFormData:Zxe,isArrayBufferView:Wxe,isString:Hxe,isNumber:nU,isBoolean:Gxe,isObject:Mj,isPlainObject:vb,isReadableStream:tve,isRequest:rve,isResponse:nve,isHeaders:ave,isUndefined:Ff,isDate:Yxe,isFile:Kxe,isBlob:Xxe,isRegExp:yve,isFunction:rn,isStream:Qxe,isURLSearchParams:eve,isTypedArray:fve,isFileList:Jxe,forEach:Um,merge:GA,extend:ove,trim:sve,stripBOM:ive,inherits:lve,toFlatObject:cve,kindOf:$j,kindOfTest:ga,endsWith:uve,toArray:dve,forEachEntry:mve,matchAll:hve,isHTMLForm:pve,hasOwnProperty:$$,hasOwnProp:$$,reduceDescriptors:oU,freezeMethods:bve,toObjectSet:xve,toCamelCase:gve,noop:vve,toFiniteNumber:jve,findKey:aU,global:wi,isContextDefined:sU,isSpecCompliantForm:wve,toJSONObject:Cve,isAsyncFn:Nve,isThenable:Sve,setImmediate:iU,asap:Ave,isIterable:Tve};function Le(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Q.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const lU=Le.prototype,cU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cU[t]={value:t}});Object.defineProperties(Le,cU);Object.defineProperty(lU,"isAxiosError",{value:!0});Le.from=(t,e,r,n,a,s)=>{const i=Object.create(lU);return Q.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Le.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const kve=null;function YA(t){return Q.isPlainObject(t)||Q.isArray(t)}function uU(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function R$(t,e,r){return t?t.concat(e).map(function(a,s){return a=uU(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function Ive(t){return Q.isArray(t)&&!t.some(YA)}const Ove=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function Lj(t,e,r){if(!Q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!Q.isUndefined(y[g])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Q.isDate(p))return p.toISOString();if(!c&&Q.isBlob(p))throw new Le("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(p)||Q.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,g,y){let x=p;if(p&&!y&&typeof p=="object"){if(Q.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(Q.isArray(p)&&Ive(p)||(Q.isFileList(p)||Q.endsWith(g,"[]"))&&(x=Q.toArray(p)))return g=uU(g),x.forEach(function(w,S){!(Q.isUndefined(w)||w===null)&&e.append(i===!0?R$([g],S,s):i===null?g:g+"[]",u(w))}),!1}return YA(p)?!0:(e.append(R$(y,g,s),u(p)),!1)}const f=[],m=Object.assign(Ove,{defaultVisitor:d,convertValue:u,isVisitable:YA});function h(p,g){if(!Q.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),Q.forEach(p,function(x,b){(!(Q.isUndefined(x)||x===null)&&a.call(e,x,Q.isString(b)?b.trim():b,g,m))===!0&&h(x,g?g.concat(b):[b])}),f.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return h(t),e}function M$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function LI(t,e){this._pairs=[],t&&Lj(t,this,e)}const dU=LI.prototype;dU.append=function(e,r){this._pairs.push([e,r])};dU.toString=function(e){const r=e?function(n){return e.call(this,n,M$)}:M$;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Eve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fU(t,e,r){if(!e)return t;const n=r&&r.encode||Eve;Q.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=Q.isURLSearchParams(e)?e.toString():new LI(e,r).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class L${constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(n){n!==null&&e(n)})}}const mU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pve=typeof URLSearchParams<"u"?URLSearchParams:LI,Dve=typeof FormData<"u"?FormData:null,_ve=typeof Blob<"u"?Blob:null,$ve={isBrowser:!0,classes:{URLSearchParams:Pve,FormData:Dve,Blob:_ve},protocols:["http","https","file","blob","url","data"]},FI=typeof window<"u"&&typeof document<"u",KA=typeof navigator=="object"&&navigator||void 0,Rve=FI&&(!KA||["ReactNative","NativeScript","NS"].indexOf(KA.product)<0),Mve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lve=FI&&window.location.href||"http://localhost",Fve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FI,hasStandardBrowserEnv:Rve,hasStandardBrowserWebWorkerEnv:Mve,navigator:KA,origin:Lve},Symbol.toStringTag,{value:"Module"})),Er={...Fve,...$ve};function Bve(t,e){return Lj(t,new Er.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,s){return Er.isNode&&Q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function qve(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Vve(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function hU(t){function e(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&Q.isArray(a)?a.length:i,c?(Q.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!Q.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],s)&&Q.isArray(a[i])&&(a[i]=Vve(a[i])),!l)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const r={};return Q.forEachEntry(t,(n,a)=>{e(qve(n),a,r,0)}),r}return null}function Uve(t,e,r){if(Q.isString(t))try{return(e||JSON.parse)(t),Q.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const zm={transitional:mU,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Q.isObject(e);if(s&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return a?JSON.stringify(hU(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Bve(e,this.formSerializer).toString();if((l=Q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Lj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Uve(e)):e}],transformResponse:[function(e){const r=this.transitional||zm.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?Le.from(l,Le.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Er.classes.FormData,Blob:Er.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{zm.headers[t]={}});const zve=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wve=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&zve[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},F$=Symbol("internals");function Lu(t){return t&&String(t).trim().toLowerCase()}function jb(t){return t===!1||t==null?t:Q.isArray(t)?t.map(jb):String(t)}function Hve(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Gve=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function fC(t,e,r,n,a){if(Q.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!Q.isString(e)){if(Q.isString(n))return e.indexOf(n)!==-1;if(Q.isRegExp(n))return n.test(e)}}function Yve(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Kve(t,e){const r=Q.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let nn=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(l,c,u){const d=Lu(c);if(!d)throw new Error("header name must be a non-empty string");const f=Q.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=jb(l))}const i=(l,c)=>Q.forEach(l,(u,d)=>s(u,d,c));if(Q.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(Q.isString(e)&&(e=e.trim())&&!Gve(e))i(Wve(e),r);else if(Q.isObject(e)&&Q.isIterable(e)){let l={},c,u;for(const d of e){if(!Q.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Q.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Lu(e),e){const n=Q.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return Hve(a);if(Q.isFunction(r))return r.call(this,a,n);if(Q.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Lu(e),e){const n=Q.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||fC(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(i){if(i=Lu(i),i){const l=Q.findKey(n,i);l&&(!r||fC(n,n[l],l,r))&&(delete n[l],a=!0)}}return Q.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||fC(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return Q.forEach(this,(a,s)=>{const i=Q.findKey(n,s);if(i){r[i]=jb(a),delete r[s];return}const l=e?Yve(s):String(s).trim();l!==s&&delete r[s],r[l]=jb(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Q.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&Q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[F$]=this[F$]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=Lu(i);n[l]||(Kve(a,i),n[l]=!0)}return Q.isArray(e)?e.forEach(s):s(e),this}};nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(nn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Q.freezeMethods(nn);function mC(t,e){const r=this||zm,n=e||r,a=nn.from(n.headers);let s=n.data;return Q.forEach(t,function(l){s=l.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function pU(t){return!!(t&&t.__CANCEL__)}function ou(t,e,r){Le.call(this,t??"canceled",Le.ERR_CANCELED,e,r),this.name="CanceledError"}Q.inherits(ou,Le,{__CANCEL__:!0});function gU(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Le("Request failed with status code "+r.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Xve(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Jve(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),u-i<e)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function Qve(t,e){let r=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const F0=(t,e,r=3)=>{let n=0;const a=Jve(50,250);return Qve(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},B$=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},q$=t=>(...e)=>Q.asap(()=>t(...e)),Zve=Er.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Er.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Er.origin),Er.navigator&&/(msie|trident)/i.test(Er.navigator.userAgent)):()=>!0,eje=Er.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const i=[t+"="+encodeURIComponent(e)];Q.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Q.isString(n)&&i.push("path="+n),Q.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tje(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rje(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function yU(t,e,r){let n=!tje(e);return t&&(n||r==!1)?rje(t,e):e}const V$=t=>t instanceof nn?{...t}:t;function Zi(t,e){e=e||{};const r={};function n(u,d,f,m){return Q.isPlainObject(u)&&Q.isPlainObject(d)?Q.merge.call({caseless:m},u,d):Q.isPlainObject(d)?Q.merge({},d):Q.isArray(d)?d.slice():d}function a(u,d,f,m){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!Q.isUndefined(d))return n(void 0,d)}function i(u,d){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(V$(u),V$(d),f,!0)};return Q.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=c[d]||a,m=f(t[d],e[d],d);Q.isUndefined(m)&&f!==l||(r[d]=m)}),r}const bU=t=>{const e=Zi({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;e.headers=i=nn.from(i),e.url=fU(yU(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Q.isFormData(r)){if(Er.hasStandardBrowserEnv||Er.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Er.hasStandardBrowserEnv&&(n&&Q.isFunction(n)&&(n=n(e)),n||n!==!1&&Zve(e.url))){const u=a&&s&&eje.read(s);u&&i.set(a,u)}return e},nje=typeof XMLHttpRequest<"u",aje=nje&&function(t){return new Promise(function(r,n){const a=bU(t);let s=a.data;const i=nn.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,h,p;function g(){h&&h(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function x(){if(!y)return;const w=nn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:t,request:y};gU(function(N){r(N),g()},function(N){n(N),g()},C),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(n(new Le("Request aborted",Le.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new Le("Network Error",Le.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||mU;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),n(new Le(S,C.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,t,y)),y=null},s===void 0&&i.setContentType(null),"setRequestHeader"in y&&Q.forEach(i.toJSON(),function(S,C){y.setRequestHeader(C,S)}),Q.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),l&&l!=="json"&&(y.responseType=a.responseType),u&&([m,p]=F0(u,!0),y.addEventListener("progress",m)),c&&y.upload&&([f,h]=F0(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=w=>{y&&(n(!w||w.type?new ou(null,t,y):w),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=Xve(a.url);if(b&&Er.protocols.indexOf(b)===-1){n(new Le("Unsupported protocol "+b+":",Le.ERR_BAD_REQUEST,t));return}y.send(s||null)})},sje=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Le?d:new ou(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Q.asap(l),c}},oje=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},ije=async function*(t,e){for await(const r of lje(t))yield*oje(r,e)},lje=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},U$=(t,e,r,n)=>{const a=ije(t,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Fj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xU=Fj&&typeof ReadableStream=="function",cje=Fj&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),vU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},uje=xU&&vU(()=>{let t=!1;const e=new Request(Er.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),z$=64*1024,XA=xU&&vU(()=>Q.isReadableStream(new Response("").body)),B0={stream:XA&&(t=>t.body)};Fj&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!B0[e]&&(B0[e]=Q.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Le(`Response type '${e}' is not supported`,Le.ERR_NOT_SUPPORT,n)})})})(new Response);const dje=async t=>{if(t==null)return 0;if(Q.isBlob(t))return t.size;if(Q.isSpecCompliantForm(t))return(await new Request(Er.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(t)||Q.isArrayBuffer(t))return t.byteLength;if(Q.isURLSearchParams(t)&&(t=t+""),Q.isString(t))return(await cje(t)).byteLength},fje=async(t,e)=>{const r=Q.toFiniteNumber(t.getContentLength());return r??dje(e)},mje=Fj&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=bU(t);u=u?(u+"").toLowerCase():"text";let h=sje([a,s&&s.toAbortSignal()],i),p;const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(c&&uje&&r!=="get"&&r!=="head"&&(y=await fje(d,n))!==0){let C=new Request(e,{method:"POST",body:n,duplex:"half"}),j;if(Q.isFormData(n)&&(j=C.headers.get("content-type"))&&d.setContentType(j),C.body){const[N,T]=B$(y,F0(q$(c)));n=U$(C.body,z$,N,T)}}Q.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;p=new Request(e,{...m,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:x?f:void 0});let b=await fetch(p);const w=XA&&(u==="stream"||u==="response");if(XA&&(l||w&&g)){const C={};["status","statusText","headers"].forEach(k=>{C[k]=b[k]});const j=Q.toFiniteNumber(b.headers.get("content-length")),[N,T]=l&&B$(j,F0(q$(l),!0))||[];b=new Response(U$(b.body,z$,N,()=>{T&&T(),g&&g()}),C)}u=u||"text";let S=await B0[Q.findKey(B0,u)||"text"](b,t);return!w&&g&&g(),await new Promise((C,j)=>{gU(C,j,{data:S,headers:nn.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:p})})}catch(x){throw g&&g(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,t,p),{cause:x.cause||x}):Le.from(x,x&&x.code,t,p)}}),JA={http:kve,xhr:aje,fetch:mje};Q.forEach(JA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const W$=t=>`- ${t}`,hje=t=>Q.isFunction(t)||t===null||t===!1,jU={getAdapter:t=>{t=Q.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let i;if(n=r,!hje(r)&&(n=JA[(i=String(r)).toLowerCase()],n===void 0))throw new Le(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+s]=n}if(!n){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(W$).join(`
`):" "+W$(s[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:JA};function hC(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ou(null,t)}function H$(t){return hC(t),t.headers=nn.from(t.headers),t.data=mC.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),jU.getAdapter(t.adapter||zm.adapter)(t).then(function(n){return hC(t),n.data=mC.call(t,t.transformResponse,n),n.headers=nn.from(n.headers),n},function(n){return pU(n)||(hC(t),n&&n.response&&(n.response.data=mC.call(t,t.transformResponse,n.response),n.response.headers=nn.from(n.response.headers))),Promise.reject(n)})}const wU="1.9.0",Bj={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Bj[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const G$={};Bj.transitional=function(e,r,n){function a(s,i){return"[Axios v"+wU+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Le(a(i," has been removed"+(r?" in "+r:"")),Le.ERR_DEPRECATED);return r&&!G$[i]&&(G$[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,l):!0}};Bj.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function pje(t,e,r){if(typeof t!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=t[s],c=l===void 0||i(l,s,t);if(c!==!0)throw new Le("option "+s+" must be "+c,Le.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Le("Unknown option "+s,Le.ERR_BAD_OPTION)}}const wb={assertOptions:pje,validators:Bj},xa=wb.validators;let Ri=class{constructor(e){this.defaults=e||{},this.interceptors={request:new L$,response:new L$}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Zi(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&wb.assertOptions(n,{silentJSONParsing:xa.transitional(xa.boolean),forcedJSONParsing:xa.transitional(xa.boolean),clarifyTimeoutError:xa.transitional(xa.boolean)},!1),a!=null&&(Q.isFunction(a)?r.paramsSerializer={serialize:a}:wb.assertOptions(a,{encode:xa.function,serialize:xa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),wb.assertOptions(r,{baseUrl:xa.spelling("baseURL"),withXsrfToken:xa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&Q.merge(s.common,s[r.method]);s&&Q.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=nn.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,m;if(!c){const p=[H$.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,u),m=p.length,d=Promise.resolve(r);f<m;)d=d.then(p[f++],p[f++]);return d}m=l.length;let h=r;for(f=0;f<m;){const p=l[f++],g=l[f++];try{h=p(h)}catch(y){g.call(this,y);break}}try{d=H$.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Zi(this.defaults,e);const r=yU(e.baseURL,e.url,e.allowAbsoluteUrls);return fU(r,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Ri.prototype[e]=function(r,n){return this.request(Zi(n||{},{method:e,url:r,data:(n||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function r(n){return function(s,i,l){return this.request(Zi(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Ri.prototype[e]=r(),Ri.prototype[e+"Form"]=r(!0)});let gje=class CU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new ou(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new CU(function(a){e=a}),cancel:e}}};function yje(t){return function(r){return t.apply(null,r)}}function bje(t){return Q.isObject(t)&&t.isAxiosError===!0}const QA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(QA).forEach(([t,e])=>{QA[e]=t});function NU(t){const e=new Ri(t),r=eU(Ri.prototype.request,e);return Q.extend(r,Ri.prototype,e,{allOwnKeys:!0}),Q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return NU(Zi(t,a))},r}const nt=NU(zm);nt.Axios=Ri;nt.CanceledError=ou;nt.CancelToken=gje;nt.isCancel=pU;nt.VERSION=wU;nt.toFormData=Lj;nt.AxiosError=Le;nt.Cancel=nt.CanceledError;nt.all=function(e){return Promise.all(e)};nt.spread=yje;nt.isAxiosError=bje;nt.mergeConfig=Zi;nt.AxiosHeaders=nn;nt.formToJSON=t=>hU(Q.isHTMLForm(t)?new FormData(t):t);nt.getAdapter=jU.getAdapter;nt.HttpStatusCode=QA;nt.default=nt;const{Axios:W7e,AxiosError:H7e,CanceledError:G7e,isCancel:Y7e,CancelToken:K7e,VERSION:X7e,all:J7e,Cancel:Q7e,isAxiosError:Z7e,spread:eWe,toFormData:tWe,AxiosHeaders:rWe,HttpStatusCode:nWe,formToJSON:aWe,getAdapter:sWe,mergeConfig:oWe}=nt,pC=M("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await nt.get("/api/general-service-receipts")).data),gC=M("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await nt.post("/api/general-service-receipts",t)).data),yC=M("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await nt.put(`/api/general-service-receipts/${t}`,e)).data),bC=M("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await nt.delete(`/api/general-service-receipts/${t}`),t)),xje={receipts:[],loading:!1,error:null},SU=ye({name:"generalServiceReceipts",initialState:xje,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(pC.pending,e=>{e.loading=!0,e.error=null}).addCase(pC.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(pC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(gC.pending,e=>{e.loading=!0,e.error=null}).addCase(gC.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(gC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(yC.pending,e=>{e.loading=!0,e.error=null}).addCase(yC.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(yC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(bC.pending,e=>{e.loading=!0,e.error=null}).addCase(bC.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(bC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:iWe}=SU.actions,vje=SU.reducer,jje=oe().shape({CustomerName:I().required("Name is required"),CustomerID:te(),DeceasedCustomerName:I().required("Deceased name is required"),DeceasedCustomerID:te(),Nationality:I().required("Nationality is required"),NationalityID:te().required("Nationality is required"),Age:te().required("Age is required").min(0,"Age must be positive"),Sex:I().required("Sex is required"),DeathDate:Re().required("Date of death is required"),CauseofDeath:I().required("Cause of death is required"),Cementery:I().required("Cemetery name is required"),BurialType:I().required("Service type is required"),Infectious:Ji(),Embalmed:Ji(),Disposition:I().when("BurialType",{is:t=>["disinter","remove"].includes(t),then:I().required("Disposition remarks are required")}),InvoiceDate:Re().required("Invoice date is required"),paymentMethod:I().required("Payment method is required"),Total:te().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:I(),Remarks:I()}),wje="https://staging-engine.testthelink.online";function Cje({initialData:t,onClose:e,onSubmit:r,nationalities:n,customers:a}){const[s,i]=v.useState(!1),l={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||"",DeceasedCustomerName:(t==null?void 0:t.DeceasedCustomerName)||"",DeceasedCustomerID:(t==null?void 0:t.DeceasedCustomerID)||"",Nationality:(t==null?void 0:t.Nationality)||"",NationalityID:(t==null?void 0:t.NationalityID)||"",Age:(t==null?void 0:t.Age)||"",Sex:(t==null?void 0:t.Sex)||"",DeathDate:(t==null?void 0:t.DeathDate)||"",CauseofDeath:(t==null?void 0:t.CauseofDeath)||"",Cementery:(t==null?void 0:t.Cementery)||"",BurialType:(t==null?void 0:t.BurialType)||"inter",Infectious:(t==null?void 0:t.Infectious)||!1,Embalmed:(t==null?void 0:t.Embalmed)||!1,Disposition:(t==null?void 0:t.Disposition)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerID:(t==null?void 0:t.CustomerID)||"",paymentMethod:(t==null?void 0:t.paymentMethod)||"",Total:(t==null?void 0:t.Total)||"",ReferenceNumber:(t==null?void 0:t.ReferenceNumber)||"",Remarks:(t==null?void 0:t.Remarks)||"",Attachments:(t==null?void 0:t.Attachments)||[]},c=(p,g,y)=>{const b=Array.from(p.target.files).map(w=>w);g("Attachments",[...y.Attachments,...b])},u=(p,g,y)=>{const x=[...y.Attachments];x.splice(p,1),g("Attachments",x)},d=(p,g)=>{const y=p.target.value;g("BurialType",y),i(y!=="INTER")},f=async(p,{setSubmitting:g})=>{console.log("Form values:",p);try{await r(p),e()}catch(y){console.error("Submission failed:",y),it.error(y.message||"Submission failed. Please try again.")}finally{g(!1)}},m=a==null?void 0:a.map(p=>({value:p.ID,label:p.Name})),h=n==null?void 0:n.map(p=>({value:p.ID,label:p.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:l,validationSchema:jje,onSubmit:f,enableReinitialize:!0,children:({values:p,errors:g,touched:y,handleChange:x,setFieldValue:b,isSubmitting:w,handleBlur:S,submitCount:C})=>o.jsxs(Be,{className:"space-y-4 p-4 bg-white rounded-lg",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:j=>c(j,b,p),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),p.Attachments.length>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:p.Attachments.map((j,N)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(O0,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:j.ID?o.jsx("a",{href:`${wje}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:j.name||j.DataName}):j.name||j.DataName})]}),o.jsx("button",{type:"button",onClick:()=>u(N,b,p),className:"text-red-500 hover:text-red-700",children:o.jsx(Mr,{className:"h-4 w-4"})})]},N))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx("div",{className:"text-center",children:o.jsx(A,{name:"InvoiceNumber",type:"text",value:p.InvoiceNumber||"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),o.jsx("div",{children:o.jsx(Rr,{label:"MR. / MRS.",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const N=m.find(T=>T.value===j);b("CustomerName",(N==null?void 0:N.label)||""),b("CustomerID",(N==null?void 0:N.value)||"")},selectedValue:p.CustomerID,error:g.CustomerName,touched:y.CustomerName})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Rr,{label:"Name of Deceased",name:"DeceasedCustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const N=m.find(T=>T.value===j);b("DeceasedCustomerName",(N==null?void 0:N.label)||""),b("DeceasedCustomerID",(N==null?void 0:N.value)||"")},selectedValue:p.DeceasedCustomerID,error:g.DeceasedCustomerName,touched:y.DeceasedCustomerName}),o.jsx(Rr,{label:"Nationality",name:"NationalityID",type:"select",options:h,required:!0,placeholder:"Select Nationality",onSelect:j=>{const N=h.find(T=>T.value===j);b("NationalityID",j||""),b("Nationality",(N==null?void 0:N.label)||"")},className:"w-full",selectedValue:p.NationalityID,error:g.Nationality,touched:y.Nationality}),o.jsx(A,{label:"Age",name:"Age",type:"number",required:!0,value:p.Age,onChange:x,touched:y.Age,error:y.Age&&g.Age}),o.jsx(A,{label:"Sex",name:"Sex",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],value:p.Sex,onChange:x,touched:y.Sex,required:!0,error:y.sex&&g.sex}),o.jsx(A,{label:"Date of Death",name:"DeathDate",type:"date",required:!0,value:p.DeathDate,onChange:x,touched:y.DeathDate,error:y.DeathDate&&g.DeathDate}),o.jsx(A,{label:"Cause of Death",name:"CauseofDeath",type:"text",required:!0,value:p.CauseofDeath,onChange:x,touched:y.CauseofDeath,error:y.CauseofDeath&&g.CauseofDeath}),o.jsx(A,{label:"Name of Cemetery",name:"Cementery",type:"text",required:!0,value:p.Cementery,onChange:x,touched:y.Cementery,error:y.Cementery&&g.Cementery})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block font-medium",children:"Service Type"}),o.jsx("div",{className:"flex space-x-4",children:["INTER","DISINTER","REMOVE"].map(j=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"BurialType",value:j,checked:p.BurialType===j,onChange:N=>d(N,b),className:"form-radio"}),o.jsx("span",{className:"ml-2",children:j.toUpperCase()})]},j))}),y.BurialType&&g.BurialType&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:g.BurialType})]}),s&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Infectious",value:p.Infectious,checked:p.Infectious,onChange:x,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Infectious"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Embalmed",value:p.Embalmed,checked:p.Embalmed,onChange:x,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),o.jsx(A,{label:"Disposition of Remains",name:"Disposition",type:"textarea",rows:2,value:p.Disposition,onChange:x,onBlur:S,required:p.BurialType!=="INTER",error:y.Disposition&&g.Disposition})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Invoice Date",name:"InvoiceDate",type:"date",required:!0,value:p.InvoiceDate,onChange:x,onBlur:S,error:y.InvoiceDate&&g.InvoiceDate}),o.jsx(A,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,value:p.paymentMethod,onChange:x,onBlur:S,touched:y.paymentMethod,error:y.paymentMethod&&g.paymentMethod}),o.jsx(A,{label:"Amount Received",name:"Total",type:"number",required:!0,min:"0",value:p.Total,onChange:x,onBlur:S,touched:y.Total,error:y.Total&&g.Total}),o.jsx(A,{label:"Reference Number",name:"ReferenceNumber",type:"text",value:p.ReferenceNumber,onChange:x,onBlur:S,touched:y.ReferenceNumber,error:y.ReferenceNumber&&g.ReferenceNumber})]}),o.jsx(A,{label:"Remarks",name:"Remarks",type:"textarea",rows:2,value:p.Remarks,onChange:x,onBlur:S,touched:y.Remarks,error:y.Remarks&&g.Remarks}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:w,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:w?"Submitting...":"Submit"})]}),C>0&&Object.keys(g).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(g).map(([j,N])=>o.jsx("li",{children:N},j))})]})]})})]})}const Wm="https://staging-engine.testthelink.online",Nje=[],zd=M("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/burialrecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial records");return a}catch(r){return e.rejectWithValue(r.message)}}),xC=M("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/burialrecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Cb=M("burialRecords/addBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/burialrecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),vC=M("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/burialrecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Nb=M("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/burialrecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),AU=ye({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(zd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zd.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(zd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=Nje}).addCase(xC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(xC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(Cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(vC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(vC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase(Nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:lWe}=AU.actions,Sje=AU.reducer;function Aje(){const t=ie(),{customers:e,isLoading:r}=V(w=>w.customers),{nationalities:n,isLoading:a}=V(w=>w.nationalities),{records:s,isLoading:i}=V(w=>w.burialRecords),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ld()),t(zd()),t(zn())},[t]);const f=[{key:"InvoiceNumber",header:"Receipt No",sortable:!0,className:"font-medium text-neutral-900",render:w=>o.jsx("div",{className:"flex items-center gap-1",children:w||""})},{key:"CustomerName",header:"Name",sortable:!0,render:w=>(w==null?void 0:w.trim())||"N/A"},{key:"Municipality",header:"Municipality",sortable:!0,render:w=>w||""},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"DocumentType.Name",header:"Service Type",sortable:!0,render:(w,S)=>{var C;return((C=S.DocumentType)==null?void 0:C.Name)||""},className:"text-gray-500"},{key:"Total",header:"Amount",sortable:!0,render:w=>m(w||"0.00"),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:w=>w||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:w=>({1:"General Fund",2:"Special Education Fund"})[w]||""}],m=w=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(w),h=()=>{d(null),c(!0)},p=w=>{d(w),c(!0)},g=async w=>{console.log("Deleting ticket:",w);try{await t(Nb(w.ID)).unwrap(),it.success("Burial Receipt deleted successfully")}catch(S){it.error(S.message||"Failed to delete Burial Receipt")}},y=()=>{c(!1),d(null)},x=async w=>{const S=new FormData;for(const C in w)if(C!=="Attachments"){const j=typeof w[C]=="object"?JSON.stringify(w[C]):w[C];C==="TransactionItemsAll"?S.append("Items",j):S.append(C,j)}w==null||w.Attachments.forEach((C,j)=>{C.ID?S.append(`Attachments[${j}].ID`,C.ID):S.append(`Attachments[${j}].File`,C)}),u?(S.append("IsNew","false"),S.append("LinkID",u.LinkID),S.append("ID",u.ID)):S.append("IsNew","true");try{await t(Cb(S)).unwrap(),u?it.success("Burial Receipt Updated Successfully"):it.success("Burial Receipt Added Successfully"),t(zd())}catch(C){it.error(C.message||"Something went wrong")}finally{y()}},b=[{icon:Va,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Yn,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),o.jsxs("button",{onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:f,data:s,className:"min-w-full divide-y divide-gray-200",actions:b,isLoading:i||a||userLoading||municipalityLoading||provinceLoading||r})}),o.jsx(ae,{isOpen:l,onClose:y,title:u?"Edit Burial Service Receipt":"New Burial Service Receipt",children:o.jsx(Cje,{initialData:u,onClose:y,onSubmit:x,nationalities:n,municipalities,provinces,customers:e,users})})]})}const Tje=oe().shape({InvoiceNumber:I().required("Invoice number is required"),CustomerName:I().required("Customer is required"),CustomerAge:te().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),Remarks:I().required("Remarks are required"),InvoiceDate:Re().required("Invoice date is required"),Cenomar:I().required("CENOMAR is required"),MarrytoID:I().required('"Marry to" is required'),MarrytoName:I().required('"Marry to Name" is required'),MarrytoAge:te().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),RegisterNumber:I().required("Register number is required"),Total:te().required("Price is required").min(0,"Price cannot be negative"),RemainingBalance:te().required("Balance is required").min(0,"Balance cannot be negative"),AmountReceived:te().required("Amount received is required").min(0,"Amount cannot be negative"),Attachments:tn()});function kje({initialData:t,customers:e,onClose:r,onSubmit:n}){const[a,s]=v.useState(!1),[i,l]=v.useState([]),c={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"MA-RE-30GE-CEIPT",CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerAge:(t==null?void 0:t.CustomerAge)||"",Remarks:(t==null?void 0:t.Remarks)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],Cenomar:(t==null?void 0:t.Cenomar)||"",MarrytoID:(t==null?void 0:t.MarrytoID)||"",MarrytoName:(t==null?void 0:t.MarrytoName)||"",MarrytoAge:(t==null?void 0:t.MarrytoAge)||"",RegisterNumber:(t==null?void 0:t.RegisterNumber)||"",Total:(t==null?void 0:t.Total)||0,RemainingBalance:(t==null?void 0:t.RemainingBalance)||0,AmountReceived:(t==null?void 0:t.AmountReceived)||0,Attachments:(t==null?void 0:t.Attachments)||[]},u=async h=>{s(!0);try{await n(h),r()}catch(p){console.error("Error submitting form:",p),it.error(p.message||"Submission failed. Please try again.")}finally{s(!1)}},d=(h,p,g)=>{const x=Array.from(h.target.files).map(b=>b);p("Attachments",[...g.Attachments,...x])},f=(h,p,g)=>{const y=[...g.Attachments];y.splice(h,1),p("Attachments",y)},m=e==null?void 0:e.map(h=>({value:h.ID,label:h.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:c,validationSchema:Tje,onSubmit:u,enableReinitialize:!0,children:({values:h,errors:p,touched:g,handleChange:y,handleBlur:x,setFieldValue:b})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:w=>d(w,b,h),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),(h==null?void 0:h.Attachments.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.Attachments.map((w,S)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(O0,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:w.ID?o.jsx("a",{href:`${API_URL}/uploads/${w.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:w.name||w.DataName}):w.name||w.DataName})]}),o.jsx("button",{type:"button",onClick:()=>f(S,b,h),className:"text-red-500 hover:text-red-700",children:o.jsx(Mr,{className:"h-4 w-4"})})]},S))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(A,{label:"Invoice Number",name:"InvoiceNumber",type:"text",disabled:!0,readOnly:!0,value:h.InvoiceNumber,onChange:y,onBlur:x,error:p.InvoiceNumber,touched:g.InvoiceNumber,className:"bg-gray-200 cursor-not-allowed"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Rr,{label:"Customer",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:w=>{const S=m.find(C=>C.value===w);b("CustomerName",(S==null?void 0:S.label)||""),b("CustomerID",(S==null?void 0:S.value)||"")},selectedValue:h.CustomerID,error:p.CustomerName,touched:g.CustomerName}),o.jsx(A,{label:"Age",name:"CustomerAge",type:"number",placeholder:"Enter customer age",required:!0,value:h.CustomerAge,onChange:y,onBlur:x,error:p.CustomerAge,touched:g.CustomerAge,min:"1"})]}),o.jsx(A,{label:"Remarks",name:"Remarks",type:"textarea",placeholder:"Enter remarks",rows:3,required:!0,value:h.Remarks,onChange:y,onBlur:x,error:p.Remarks,touched:g.Remarks}),o.jsx(A,{label:"Invoice Date",name:"InvoiceDate",type:"date",placeholder:"Enter invoice date",required:!0,value:h.InvoiceDate,onChange:y,onBlur:x,error:p.InvoiceDate,touched:g.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"CENOMAR",name:"Cenomar",type:"text",required:!0,placeholder:"Enter CENOMAR",value:h.Cenomar,onChange:y,onBlur:x,error:p.Cenomar,touched:g.Cenomar}),o.jsx(Rr,{label:"Marry to",name:"MarrytoID",type:"select",options:m,required:!0,placeholder:"Select Marry to",onSelect:w=>{const S=m.find(C=>C.value===w);b("MarrytoName",(S==null?void 0:S.label)||""),b("MarrytoID",(S==null?void 0:S.value)||"")},selectedValue:h.MarrytoID,error:p.MarrytoName,touched:g.MarrytoName})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Age",name:"MarrytoAge",type:"number",required:!0,placeholder:"Enter Marry to age",value:h.MarrytoAge,onChange:y,onBlur:x,error:p.MarrytoAge,touched:g.MarrytoAge,min:"1"}),o.jsx(A,{label:"Register Number",name:"RegisterNumber",type:"text",required:!0,placeholder:"Enter register number",value:h.RegisterNumber,onChange:y,onBlur:x,error:p.RegisterNumber,touched:g.RegisterNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{label:"Price",name:"Total",type:"number",required:!0,placeholder:"Enter price",value:h.Total,onChange:y,onBlur:x,error:p.Total,touched:g.Total,min:"0"}),o.jsx(A,{label:"Remaining Balance",name:"RemainingBalance",type:"number",required:!0,placeholder:"Enter remaining balance",value:h.RemainingBalance,onChange:y,onBlur:x,error:p.RemainingBalance,touched:g.RemainingBalance,min:"0"}),o.jsx(A,{label:"Amount Received",name:"AmountReceived",type:"number",required:!0,placeholder:"Enter amount received",value:h.AmountReceived,onChange:y,onBlur:x,error:p.AmountReceived,touched:g.AmountReceived,min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:a,children:t?"Update":"Create"})]})]})})]})}const Hm="https://staging-engine.testthelink.online",Ije=[],Wd=M("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/marriagerecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage records");return a}catch(r){return e.rejectWithValue(r.message)}}),jC=M("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/marriagerecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Sb=M("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/marriagerecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),wC=M("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/marriagerecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Ab=M("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/marriagerecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete marriage record")}return t}catch(r){return e.rejectWithValue(r.message)}}),TU=ye({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Wd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wd.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Wd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=Ije}).addCase(jC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(jC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(Sb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(wC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(wC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(Ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ab.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:cWe}=TU.actions,Oje=TU.reducer;function Eje(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),a=ie(),{records:s,isLoading:i}=V(y=>y.marriageRecords),{customers:l,isLoading:c}=V(y=>y.customers);v.useEffect(()=>{a(Wd()),a(zn())},[a]);const u=async y=>{console.log("Form data to save:",y);const x=new FormData;for(const b in y)if(b!=="Attachments"){const w=typeof y[b]=="object"?JSON.stringify(y[b]):y[b];b==="TransactionItemsAll"?x.append("Items",w):x.append(b,w)}y==null||y.Attachments.forEach((b,w)=>{b.ID?x.append(`Attachments[${w}].ID`,b.ID):x.append(`Attachments[${w}].File`,b)}),r?(x.append("IsNew",!1),x.append("LinkID",r.LinkID),x.append("ID",r.ID)):x.append("IsNew",!0);try{await a(Sb(x)).unwrap(),r?it.success("Marriage Receipt Updated Successfully"):it.success("Marriage Receipt Added Successfully"),a(Wd())}catch(b){it.error(b.message||"Something went wrong")}finally{m()}},d=async y=>{console.log("Deleting ticket:",y);try{await a(Ab(y.ID)).unwrap(),it.success("Marriage Receipt deleted successfully")}catch(x){it.error(x.message||"Failed to delete Marriage Receipt")}},f=y=>{n(y),e(!0)},m=()=>{n(null),e(!1)},h=[{key:"Status",header:"Status",sortable:!0,render:y=>o.jsx("span",{className:`px-2 py-1 rounded ${y==="Posted"?"bg-green-100 text-green-800":y==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:y})},{key:"APAR",header:"AP/AR",sortable:!0,render:y=>y||""},{key:"CustomerName",header:"Customer",sortable:!0,render:y=>(y==null?void 0:y.trim())||"N/A"},{key:"Total",header:"Total Amount",sortable:!0,render:y=>p(y),className:"text-right font-medium"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:y=>p(y||"0.00"),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:y=>p(y||"0.00"),className:"text-right"},{key:"Debit",header:"Debit",sortable:!0,render:y=>p(y||"0.00"),className:"text-right"},{key:"EWT",header:"EWT",sortable:!0,render:y=>p(y||"0.00"),className:"text-right"},{key:"WithheldAmount",header:"Withheld Amount",sortable:!0,render:y=>p(y||"0.00"),className:"text-right"},{key:"Vat_Total",header:"Total",sortable:!0,render:y=>p(y||"0.00"),className:"text-right font-medium"},{key:"Discounts",header:"Discount (%)",sortable:!0,render:y=>y?`${y}%`:"0%",className:"text-right"},{key:"AmountDue",header:"Amount Due",sortable:!0,render:y=>p(y||"0.00"),className:"text-right font-medium"}],p=y=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(y||0),g=[{icon:Ae,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:d,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),o.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Receipt"]})]}),o.jsx(ge,{columns:h,data:s,actions:g,className:"bg-white rounded-lg shadow",isLoading:i||c}),o.jsx(ae,{isOpen:t,onClose:m,title:r?"Edit Receipt":"Add Receipt",children:o.jsx(kje,{initialData:r,customers:l,onClose:m,onSubmit:u})})]})}const kU=6048e5,Pje=864e5,IU=6e4,OU=36e5,Y$=Symbol.for("constructDateFrom");function Is(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Y$ in t?t[Y$](e):t instanceof Date?new t.constructor(e):new Date(e)}function Nn(t,e){return Is(e||t,t)}let Dje={};function qj(){return Dje}function Bf(t,e){var l,c,u,d;const r=qj(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Nn(t,e==null?void 0:e.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function q0(t,e){return Bf(t,{...e,weekStartsOn:1})}function EU(t,e){const r=Nn(t,e==null?void 0:e.in),n=r.getFullYear(),a=Is(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=q0(a),i=Is(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=q0(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function K$(t){const e=Nn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function _je(t,...e){const r=Is.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function X$(t,e){const r=Nn(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function $je(t,e,r){const[n,a]=_je(r==null?void 0:r.in,t,e),s=X$(n),i=X$(a),l=+s-K$(s),c=+i-K$(i);return Math.round((l-c)/Pje)}function Rje(t,e){const r=EU(t,e),n=Is(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),q0(n)}function Mje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lje(t){return!(!Mje(t)&&typeof t!="number"||isNaN(+Nn(t)))}function Fje(t,e){const r=Nn(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Bje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qje=(t,e,r)=>{let n;const a=Bje[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function CC(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Vje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Uje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wje={date:CC({formats:Vje,defaultWidth:"full"}),time:CC({formats:Uje,defaultWidth:"full"}),dateTime:CC({formats:zje,defaultWidth:"full"})},Hje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gje=(t,e,r,n)=>Hje[t];function Fu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const Yje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kje={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xje={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jje={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ewe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},twe={ordinalNumber:ewe,era:Fu({values:Yje,defaultWidth:"wide"}),quarter:Fu({values:Kje,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Fu({values:Xje,defaultWidth:"wide"}),day:Fu({values:Jje,defaultWidth:"wide"}),dayPeriod:Fu({values:Qje,defaultWidth:"wide",formattingValues:Zje,defaultFormattingWidth:"wide"})};function Bu(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?nwe(l,f=>f.test(i)):rwe(l,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function rwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function nwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function awe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const swe=/^(\d+)(th|st|nd|rd)?/i,owe=/\d+/i,iwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lwe={any:[/^b/i,/^(a|c)/i]},cwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uwe={any:[/1/i,/2/i,/3/i,/4/i]},dwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ywe={ordinalNumber:awe({matchPattern:swe,parsePattern:owe,valueCallback:t=>parseInt(t,10)}),era:Bu({matchPatterns:iwe,defaultMatchWidth:"wide",parsePatterns:lwe,defaultParseWidth:"any"}),quarter:Bu({matchPatterns:cwe,defaultMatchWidth:"wide",parsePatterns:uwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Bu({matchPatterns:dwe,defaultMatchWidth:"wide",parsePatterns:fwe,defaultParseWidth:"any"}),day:Bu({matchPatterns:mwe,defaultMatchWidth:"wide",parsePatterns:hwe,defaultParseWidth:"any"}),dayPeriod:Bu({matchPatterns:pwe,defaultMatchWidth:"any",parsePatterns:gwe,defaultParseWidth:"any"})},bwe={code:"en-US",formatDistance:qje,formatLong:Wje,formatRelative:Gje,localize:twe,match:ywe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xwe(t,e){const r=Nn(t,e==null?void 0:e.in);return $je(r,Fje(r))+1}function vwe(t,e){const r=Nn(t,e==null?void 0:e.in),n=+q0(r)-+Rje(r);return Math.round(n/kU)+1}function PU(t,e){var d,f,m,h;const r=Nn(t,e==null?void 0:e.in),n=r.getFullYear(),a=qj(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,i=Is((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=Bf(i,e),c=Is((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Bf(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function jwe(t,e){var l,c,u,d;const r=qj(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=PU(t,e),s=Is((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Bf(s,e)}function wwe(t,e){const r=Nn(t,e==null?void 0:e.in),n=+Bf(r,e)-+jwe(r,e);return Math.round(n/kU)+1}function at(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Hs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return at(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):at(r+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return at(a,e.length)}},Sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J$={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Hs.y(t,e)},Y:function(t,e,r,n){const a=PU(t,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return at(i,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):at(s,e.length)},R:function(t,e){const r=EU(t);return at(r,e.length)},u:function(t,e){const r=t.getFullYear();return at(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return at(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return at(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Hs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return at(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=wwe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):at(a,e.length)},I:function(t,e,r){const n=vwe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):at(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Hs.d(t,e)},D:function(t,e,r){const n=xwe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):at(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return at(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return at(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return at(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Sl.noon:n===0?a=Sl.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Sl.evening:n>=12?a=Sl.afternoon:n>=4?a=Sl.morning:a=Sl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Hs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Hs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Hs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Hs.s(t,e)},S:function(t,e){return Hs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Z$(n);case"XXXX":case"XX":return ui(n);case"XXXXX":case"XXX":default:return ui(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Z$(n);case"xxxx":case"xx":return ui(n);case"xxxxx":case"xxx":default:return ui(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Q$(n,":");case"OOOO":default:return"GMT"+ui(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Q$(n,":");case"zzzz":default:return"GMT"+ui(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return at(n,e.length)},T:function(t,e,r){return at(+t,e.length)}};function Q$(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+at(s,2)}function Z$(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):ui(t,e)}function ui(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=at(Math.trunc(n/60),2),s=at(n%60,2);return r+a+e+s}const eR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},DU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Cwe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return eR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",eR(n,e)).replace("{{time}}",DU(a,e))},Nwe={p:DU,P:Cwe},Swe=/^D+$/,Awe=/^Y+$/,Twe=["D","DD","YY","YYYY"];function kwe(t){return Swe.test(t)}function Iwe(t){return Awe.test(t)}function Owe(t,e,r){const n=Ewe(t,e,r);if(console.warn(n),Twe.includes(t))throw new RangeError(n)}function Ewe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Pwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_we=/^'([^]*?)'?$/,$we=/''/g,Rwe=/[a-zA-Z]/;function tR(t,e,r){var d,f,m,h;const n=qj(),a=n.locale??bwe,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=Nn(t,r==null?void 0:r.in);if(!Lje(l))throw new RangeError("Invalid time value");let c=e.match(Dwe).map(p=>{const g=p[0];if(g==="p"||g==="P"){const y=Nwe[g];return y(p,a.formatLong)}return p}).join("").match(Pwe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:Mwe(p)};if(J$[g])return{isToken:!0,value:p};if(g.match(Rwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(p=>{if(!p.isToken)return p.value;const g=p.value;(Iwe(g)||kwe(g))&&Owe(g,e,String(t));const y=J$[g[0]];return y(l,g,a.localize,u)}).join("")}function Mwe(t){const e=t.match(_we);return e?e[1].replace($we,"'"):t}function rR(t,e){const r=()=>Is(e==null?void 0:e.in,NaN),a=qwe(t);let s;if(a.date){const u=Vwe(a.date,2);s=Uwe(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const i=+s;let l=0,c;if(a.time&&(l=zwe(a.time),isNaN(l)))return r();if(a.timezone){if(c=Wwe(a.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=Nn(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Nn(i+l+c,e==null?void 0:e.in)}const Hh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Lwe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Fwe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bwe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qwe(t){const e={},r=t.split(Hh.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Hh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Hh.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=Hh.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Vwe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Uwe(t,e){if(e===null)return new Date(NaN);const r=t.match(Lwe);if(!r)return new Date(NaN);const n=!!r[4],a=qu(r[1]),s=qu(r[2])-1,i=qu(r[3]),l=qu(r[4]),c=qu(r[5])-1;if(n)return Xwe(e,l,c)?Hwe(e,l,c):new Date(NaN);{const u=new Date(0);return!Ywe(e,s,i)||!Kwe(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,i)),u)}}function qu(t){return t?parseInt(t):1}function zwe(t){const e=t.match(Fwe);if(!e)return NaN;const r=NC(e[1]),n=NC(e[2]),a=NC(e[3]);return Jwe(r,n,a)?r*OU+n*IU+a*1e3:NaN}function NC(t){return t&&parseFloat(t.replace(",","."))||0}function Wwe(t){if(t==="Z")return 0;const e=t.match(Bwe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return Qwe(n,a)?r*(n*OU+a*IU):NaN}function Hwe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const Gwe=[31,null,31,30,31,30,31,31,30,31,30,31];function _U(t){return t%400===0||t%4===0&&t%100!==0}function Ywe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Gwe[e]||(_U(t)?29:28))}function Kwe(t,e){return e>=1&&e<=(_U(t)?366:365)}function Xwe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Jwe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Qwe(t,e){return e>=0&&e<=59}const Gm="https://staging-engine.testthelink.online",Zwe=[],fc=M("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Gm}/public-market-ticketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market tickets");return a}catch(r){return e.rejectWithValue(r.message)}}),SC=M("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Gm}/public-market-ticketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Hd=M("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Gm}/public-market-ticketing/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),AC=M("publicMarketTicketing/public-market-ticketing",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Gm}/publicMarketTicketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Tb=M("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Gm}/public-market-ticketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete public market ticket")}return t}catch(r){return e.rejectWithValue(r.message)}}),$U=ye({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(fc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fc.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(fc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=Zwe}).addCase(SC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(SC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(Hd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hd.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(Hd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(AC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(AC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(Tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets=e.tickets.filter(n=>n.ID!==r.payload),e.currentTicket&&e.currentTicket.ID===r.payload&&(e.currentTicket=null)}).addCase(Tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)})}}),{clearCurrentTicket:uWe}=$U.actions,e1e=$U.reducer,t1e=oe().shape({items:I().required("Items type is required"),startTime:Re().required("Start time is required"),endTime:Re().required("End time is required").min(Df("startTime"),"End time must be after start time"),issuedBy:I().required("Issued by is required"),dateIssued:Re().required("Date issued is required"),postingPeriod:Re().required("Posting period is required"),amountIssued:te().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:I().required("Remarks are required")}),r1e={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},n1e=({ticket:t,onClose:e})=>{const r=ie(),n=s=>s?(console.log(s),{...s,items:s.Items||"",startTime:s.StartTime?tR(rR(s.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:s.EndTime?tR(rR(s.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:s.IssuedBy||"",dateIssued:s.DateIssued||"",postingPeriod:s.PostingPeriod||"",amountIssued:s.AmountIssued||"",remarks:s.Remarks||""}):r1e,a=async s=>{try{const i={Items:s.items,StartTime:new Date(s.startTime).toISOString(),EndTime:new Date(s.endTime).toISOString(),IssuedBy:s.issuedBy,DateIssued:s.dateIssued,PostingPeriod:s.postingPeriod,AmountIssued:s.amountIssued,Remarks:s.remarks};t?(await r(Hd({IsNew:!1,ID:t.ID,LinkID:t.LinkID,...i})).unwrap(),pe.success("Ticket updated successfully"),r(fc())):(await r(Hd({IsNew:!0,...i})).unwrap(),pe.success("Ticket added successfully"),r(fc()))}catch(i){pe.error(i.message||"Something went wrong")}finally{e()}};return o.jsx($e,{initialValues:n(t),validationSchema:t1e,onSubmit:a,enableReinitialize:!0,children:({isSubmitting:s,isValid:i,dirty:l,values:c,errors:u,touched:d,handleChange:f,handleBlur:m})=>o.jsxs(Be,{className:"space-y-6",children:[o.jsx(A,{label:"Items:",name:"items",type:"text",placeholder:"Enter items",required:!0,error:d.items&&u.items,touched:d.items,value:c.items,onChange:f,onBlur:m}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(A,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0],required:!0,error:d.dateIssued&&u.dateIssued,touched:d.dateIssued,value:c.dateIssued,onChange:f,onBlur:m}),o.jsx(A,{label:"Posting Period:",name:"postingPeriod",type:"date",min:c.dateIssued,max:new Date().toISOString().split("T")[0],required:!0,error:d.postingPeriod&&u.postingPeriod,touched:d.postingPeriod,value:c.postingPeriod,onChange:f,onBlur:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(A,{label:"Start Time:",name:"startTime",type:"datetime-local",max:c.postingPeriod,required:!0,error:d.startTime&&u.startTime,touched:d.startTime,value:c.startTime,onChange:f,onBlur:m}),o.jsx(A,{label:"End Time:",name:"endTime",type:"datetime-local",min:c.startTime,max:c.postingPeriod,required:!0,error:d.endTime&&u.endTime,touched:d.endTime,value:c.endTime,onChange:f,onBlur:m})]}),o.jsx(A,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name",required:!0,error:d.issuedBy&&u.issuedBy,touched:d.issuedBy,value:c.issuedBy,onChange:f,onBlur:m}),o.jsx(A,{label:"Amount Issued:",name:"amountIssued",type:"number",placeholder:"0.00",min:"0",step:"0.01",required:!0,error:d.amountIssued&&u.amountIssued,touched:d.amountIssued,value:c.amountIssued,onChange:f,onBlur:m}),o.jsx(A,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",required:!0,error:d.remarks&&u.remarks,touched:d.remarks,value:c.remarks,onChange:f,onBlur:m,rows:4}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[o.jsx("button",{type:"button",onClick:e,disabled:s,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s||!i||!l,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},a1e=()=>{const t=ie(),[e,r]=v.useState(!1),[n,a]=v.useState(null),{tickets:s,isLoading:i,error:l}=V(h=>h.publicMarketTicketing);v.useEffect(()=>{t(fc())},[t]),v.useEffect(()=>{l&&pe.error(l)},[l]);const c=()=>{a(null),r(!0)},u=async h=>{console.log("Deleting ticket:",h);try{await t(Tb(h.ID)).unwrap(),pe.success("Ticket deleted successfully")}catch(p){pe.error(p.message||"Failed to delete ticket")}},d=[{key:"Items",header:"Items",accessorKey:"items"},{key:"StartTime",header:"Start Time",accessorKey:"startTime",render:h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",render:h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",render:h=>new Date(h).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",render:h=>new Date(h).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",render:h=>`${h==null?void 0:h.toLocaleString()}`},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],m=[{icon:Va,title:"Edit",onClick:h=>{console.log("Edit ticket:",h),a(h),r(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Yn,title:"Delete",onClick:u,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),o.jsxs(dt,{onClick:c,disabled:i,children:[o.jsx(Nde,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:d,data:s,isLoading:i,actions:m})}),o.jsx(ae,{isOpen:e,onClose:()=>r(!1),title:n?"Edit Ticket":"Add Ticket",children:o.jsx(n1e,{ticket:n,onClose:()=>r(!1)})})]})};oe().shape({budgetName:I().required("Budget Name is required"),fiscalYear:I().required("Fiscal Year is required"),department:I().required("Department is required"),subDepartment:I().required("Sub-Department is required"),chartOfAccounts:I().required("Chart of Accounts is required"),fund:I().required("Fund is required"),project:I().required("Project is required"),january:I().required("January is required"),february:I().required("February is required"),march:I().required("March is required"),april:I().required("April is required"),may:I().required("May is required"),june:I().required("June is required"),july:I().required("July is required"),august:I().required("August is required"),september:I().required("September is required"),october:I().required("October is required"),november:I().required("November is required"),december:I().required("December is required")});const s1e=oe().shape({budgetName:I().required("Budget name is required"),fiscalYear:I().required("Fiscal year is required"),department:I().required("Department is required"),subDepartment:I().required("Sub department is required"),chartOfAccounts:I().required("Chart of accounts is required"),fund:I().required("Fund is required"),project:I().required("Project is required"),january:I().required("January is required"),february:I().required("February is required"),march:I().required("March is required"),april:I().required("April is required"),may:I().required("May is required"),june:I().required("June is required"),july:I().required("July is required"),august:I().required("August is required"),september:I().required("September is required"),october:I().required("October is required"),november:I().required("November is required"),december:I().required("December is required")}),nR={budgetName:"",fiscalYear:1,department:1,subDepartment:1,chartOfAccounts:1,fund:1,project:1,appropriation:0,charges:0,totalAmount:0,balance:0,january:0,february:0,march:0,april:0,may:0,june:0,july:0,august:0,september:0,october:0,november:0,december:0},o1e=[{value:1,label:"FY 202324"},{value:2,label:"FY 202425"},{value:3,label:"FY 202526"}],i1e=[{value:1,label:"Finance"},{value:2,label:"Human Resources"},{value:3,label:"Information Technology"}],l1e=[{value:1,label:"Accounts Payable"},{value:2,label:"Recruitment"},{value:3,label:"Infrastructure Support"}],c1e=[{value:1,label:"Cash and Cash Equivalents"},{value:2,label:"Accounts Receivable"},{value:3,label:"Office Supplies Expense"}],u1e=[{value:1,label:"ERP Implementation"},{value:2,label:"Employee Onboarding Automation"},{value:3,label:"Cloud Migration"}];function BI({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...nR}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(nR)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:s1e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Budget Name",name:"budgetName",type:"text",onChange:u,onBlur:d,value:i.budgetName,error:l.budgetName,touched:c.budgetName,required:!0}),o.jsx(A,{label:"Fiscal Year",name:"fiscalYear",type:"select",onChange:u,onBlur:d,value:i.fiscalYear,error:l.fiscalYear,touched:c.fiscalYear,options:o1e,required:!0}),o.jsx(A,{label:"Department",name:"department",type:"select",onChange:u,onBlur:d,value:i.department,error:l.department,touched:c.department,options:i1e,required:!0}),o.jsx(A,{label:"Sub-Department",name:"subDepartment",type:"select",onChange:u,onBlur:d,value:i.subDepartment,error:l.subDepartment,touched:c.subDepartment,options:l1e,required:!0}),o.jsx(A,{label:"Chart of Accounts",name:"chartOfAccounts",type:"select",onChange:u,onBlur:d,value:i.chartOfAccounts,error:l.chartOfAccounts,touched:c.chartOfAccounts,options:c1e,required:!0}),o.jsx(A,{label:"Fund",name:"fund",type:"select",onChange:u,onBlur:d,value:i.fund,error:l.fund,touched:c.fund,options:[{value:"1",label:"General Fund"}],required:!0}),o.jsx(A,{label:"Project",name:"project",type:"select",onChange:u,onBlur:d,value:i.project,error:l.project,touched:c.project,options:u1e,required:!0}),o.jsx(A,{label:"Appropriation",name:"appropriation",onChange:u,onBlur:d,value:i.appropriation,error:l.appropriation,touched:c.appropriation,type:"number",required:!0}),o.jsx(A,{label:"Charges",name:"charges",type:"number",onChange:u,onBlur:d,value:i.charges,error:l.charges,touched:c.charges,required:!0}),o.jsx(A,{label:"Total Amount",name:"totalAmount",type:"number",onChange:u,onBlur:d,value:i.totalAmount,error:l.totalAmount,touched:c.totalAmount,required:!0}),o.jsx(A,{label:"Balance",name:"balance",type:"number",onChange:u,onBlur:d,value:i.balance,error:l.balance,touched:c.balance,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{label:"January",name:"january",type:"number",onChange:u,onBlur:d,value:i.january,error:l.january,touched:c.january}),o.jsx(A,{label:"February",name:"february",type:"number",onChange:u,onBlur:d,value:i.february,error:l.february,touched:c.february}),o.jsx(A,{label:"March",name:"march",type:"number",onChange:u,onBlur:d,value:i.march,error:l.march,touched:c.march}),o.jsx(A,{label:"April",name:"april",type:"number",onChange:u,onBlur:d,value:i.april,error:l.april,touched:c.april}),o.jsx(A,{label:"May",name:"may",type:"number",onChange:u,onBlur:d,value:i.may,error:l.may,touched:c.may}),o.jsx(A,{label:"June",name:"june",type:"number",onChange:u,onBlur:d,value:i.june,error:l.june,touched:c.june}),o.jsx(A,{label:"July",name:"july",type:"number",onChange:u,onBlur:d,value:i.july,error:l.july,touched:c.july}),o.jsx(A,{label:"August",name:"august",type:"number",onChange:u,onBlur:d,value:i.august,error:l.august,touched:c.august}),o.jsx(A,{label:"September",name:"september",type:"number",onChange:u,onBlur:d,value:i.september,error:l.september,touched:c.september}),o.jsx(A,{label:"October",name:"october",type:"number",onChange:u,onBlur:d,value:i.october,error:l.october,touched:c.october}),o.jsx(A,{label:"November",name:"november",type:"number",onChange:u,onBlur:d,value:i.november,error:l.november,touched:c.november}),o.jsx(A,{label:"December",name:"december",type:"number",onChange:u,onBlur:d,value:i.december,error:l.december,touched:c.december})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const d1e=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],f1e=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],m1e=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],h1e=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],p1e=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],aR=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],ZA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g1e=oe().shape({budgetName:I().required("Required"),fiscalYear:I().required("Required"),department:I().required("Required"),subDepartment:I().required("Required"),chartOfAccount:I().required("Required"),fund:I().required("Required"),project:I().required("Required"),monthlyAmounts:oe().shape(ZA.reduce((t,e)=>(t[e]=te().min(0,"Must be >= 0").required("Required"),t),{}))});function y1e(){const[t,e]=v.useState({});return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),o.jsx($e,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:ZA.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:g1e,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:a})=>(v.useEffect(()=>{const s=aR.find(i=>i.value===r.project);s&&e(s)},[r.project]),o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),o.jsx(A,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:d1e,value:r.fiscalYear,onChange:n}),o.jsx(A,{name:"department",label:"Department",type:"select",required:!0,options:f1e,value:r.department,onChange:n}),o.jsx(A,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:m1e,value:r.subDepartment,onChange:n}),o.jsx(A,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:h1e,value:r.chartOfAccount,onChange:n}),o.jsx(A,{name:"fund",label:"Fund",type:"select",required:!0,options:p1e,value:r.fund,onChange:n}),o.jsx(A,{name:"project",label:"Project",type:"select",required:!0,options:aR.map(s=>({value:s.value,label:s.label})),value:r.project,onChange:n}),r.project&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",t.charges]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Amount:"})," ",t.total]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:ZA.map(s=>o.jsx(A,{name:`monthlyAmounts.${s}`,label:s,type:"number",value:r.monthlyAmounts[s],onChange:n,min:"0",step:"0.01"},s))}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}oe().shape({Status:I().oneOf(["Requested"]).required(),APAR:I().oneOf(["Budget Supplemental"]).required(),DocumentTypeID:te().oneOf([21]).required(),RequestedBy:te().required("Requested by (lngUser) is required"),InvoiceDate:Re().required("Invoice date is required"),InvoiceNumber:I().required("Invoice number is required"),Total:te().typeError("Total must be a number").positive("Total must be positive").required("Total is required"),Active:Ji().required("Active is required"),Remarks:I().nullable(),CreatedBy:I().required("Created by is required"),CreatedDate:Re().required("Created date is required"),ApprovalProgress:te().min(0).required("Approval progress is required"),BudgetID:te().required("Budget id is requeired"),ApprovalVersion:te().required("Approval version is required")});const Vj="https://staging-engine.testthelink.online",b1e=[],Gd=M("subFunds/fetchSubFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vj}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),kb=M("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${Vj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),eT=M("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${Vj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ib=M("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${Vj}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),x1e=ye({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Gd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gd.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(Gd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=b1e}).addCase(kb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase(kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(eT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(Ib.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ib.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(Ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),v1e=x1e.reducer;function j1e(){ie();const[t,e]=v.useState(!1),[r,n]=v.useState(null),{budgets:a,isLoading:s}=V(m=>m.budget),i=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.balance)},{header:"Status",accessorKey:"status",cell:({row:m})=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.original.status})}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{console.log("Delete record:",m)},f=async m=>{try{console.log(r?"Update record:":"Create record:",m),e(!1)}catch(h){console.error("Error saving record:",h)}};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),o.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),o.jsx("div",{className:"bg-white shadow rounded-lg",children:o.jsx(ge,{columns:l,data:i,isLoading:s,onEdit:u,onDelete:d})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(BI,{initialData:r,onSubmit:f,onClose:()=>e(!1)})})]})}const w1e=()=>{const t=ie(),[e,r]=v.useState(null);v.useEffect(()=>{t(_i()),t(Di()),t(Pi()),t(Ei()),a()},[t]);const n="https://staging-engine.testthelink.online",a=async()=>{try{const S=localStorage.getItem("token"),C=await fetch(`${n}/lgu`,{headers:{Authorization:`Bearer ${S}`}});if(!C.ok)throw new Error("Failed to fetch LGU data");const j=await C.json();f(j),h(j.Logo||"https://placehold.co/150x150?text=LGU+Logo")}catch(S){console.error("Error loading LGU data:",S)}},s=async(S,C)=>{try{const j=localStorage.getItem("token"),N=new FormData;Object.entries(S).forEach(([E,O])=>{N.append(E,O)}),C&&N.append("Logo",C);const T=await fetch(`${n}/lgu/${S.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${j}`},body:N});if(!T.ok)throw new Error("Failed to update LGU");const k=await T.json();return f(k),h(k.Logo||"https://placehold.co/150x150?text=LGU+Logo"),!0}catch(j){return console.error("Update error:",j),!1}},{barangays:i}=V(S=>S.barangays),{municipalities:l}=V(S=>S.municipalities),{provinces:c}=V(S=>S.provinces),{regions:u}=V(S=>S.regions),[d,f]=v.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[m,h]=v.useState("https://placehold.co/150x150?text=LGU+Logo"),[p,g]=v.useState(!1),y=oe({Code:I().required("Code is required"),Name:I().required("Name is required"),TIN:I().required("TIN is required"),RDO:I().required("RDO is required"),StreetAddress:I().required("Street Address is required"),BarangayID:I().required("Barangay is required"),MunicipalityID:I().required("Municipality is required"),ProvinceID:I().required("Province is required"),RegionID:I().required("Region is required"),ZIPCode:I().required("Zip Code is required"),PhoneNumber:I().required("Phone Number is required"),EmailAddress:I().email("Invalid email").required("Email is required"),Website:I().required("Website is required")}),x=et({initialValues:d,validationSchema:y,enableReinitialize:!0,onSubmit:async(S,{setSubmitting:C})=>{await s(S,e)&&g(!1),C(!1)}}),b=S=>{var j;const C=(j=S.target.files)==null?void 0:j[0];if(C){r(C);const N=new FileReader;N.onloadend=()=>{h(N.result)},N.readAsDataURL(C)}},w=[{ID:1,Name:"RDO 1"},{ID:2,Name:"RDO 2"},{ID:3,Name:"RDO 3"},{ID:4,Name:"RDO 4"},{ID:5,Name:"RDO 5"}];return o.jsxs("div",{className:"py-6 px-4",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"LGU Maintenance"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage Local Government Unit information"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(B6,{className:"h-5 w-5 mr-2 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold",children:"LGU Information"})]}),!p&&o.jsx("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors w-full sm:w-auto text-center",children:"Edit Information"})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("img",{src:m,className:"h-[150px] w-[150px] rounded-full object-cover",alt:"LGU Logo"}),p&&o.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"mt-2"})]}),p?o.jsxs("form",{onSubmit:x.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"LGU Code",name:"Code",value:x.values.Code,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Code,touched:x.touched.Code,required:!0}),o.jsx(A,{label:"LGU Name",name:"Name",value:x.values.Name,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Name,touched:x.touched.Name,required:!0}),o.jsx(A,{label:"TIN",name:"TIN",value:x.values.TIN,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.TIN,touched:x.touched.TIN,required:!0}),o.jsx(A,{label:"RDO",name:"RDO",type:"select",options:w.map(S=>({value:S.ID,label:S.Name})),value:x.values.RDO,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.RDO,touched:x.touched.RDO,required:!0}),o.jsx(A,{label:"Street Address",name:"StreetAddress",value:x.values.StreetAddress,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.StreetAddress,touched:x.touched.StreetAddress,required:!0}),o.jsx(A,{label:"Barangay",name:"BarangayID",type:"select",value:x.values.BarangayID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.BarangayID,touched:x.touched.BarangayID,options:i.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(A,{label:"Municipality",name:"MunicipalityID",type:"select",value:x.values.MunicipalityID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.MunicipalityID,touched:x.touched.MunicipalityID,options:l.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(A,{label:"Province",name:"ProvinceID",type:"select",value:x.values.ProvinceID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.ProvinceID,touched:x.touched.ProvinceID,options:c.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(A,{label:"Region",name:"RegionID",type:"select",value:x.values.RegionID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.RegionID,touched:x.touched.RegionID,options:u.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(A,{label:"Zip Code",name:"ZIPCode",value:x.values.ZIPCode,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.ZIPCode,touched:x.touched.ZIPCode,required:!0}),o.jsx(A,{label:"Mobile Number",name:"PhoneNumber",value:x.values.PhoneNumber,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.PhoneNumber,touched:x.touched.PhoneNumber,required:!0}),o.jsx(A,{label:"Email",name:"EmailAddress",type:"email",value:x.values.EmailAddress,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.EmailAddress,touched:x.touched.EmailAddress,required:!0}),o.jsx(A,{label:"Website",name:"Website",value:x.values.Website,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Website,touched:x.touched.Website,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>{x.resetForm(),g(!1)},className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x.isSubmitting,children:x.isSubmitting?"Saving...":"Save"})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({Code:"LGU Code",Name:"LGU Name",TIN:"TIN",RDO:"RDO",StreetAddress:"Street Address",BarangayName:"Barangay",MunicipalityName:"Municipality",ProvinceName:"Province",RegionName:"Region",ZIPCode:"ZIP Code",PhoneNumber:"Phone Number",EmailAddress:"Email Address",Website:"Website"}).map(([S,C])=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:C}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d[S]})]},S))})]})]})]})},C1e=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:a,handleFileUpload:s,handleRemoveAttachment:i})=>o.jsxs("div",{className:" sm:p-4 space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"Applicant Type",name:"applicantType",type:"radio-group",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l)}),o.jsx(A,{label:"Mode of Payment",name:"modeOfPayment",type:"radio-group",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),o.jsx(A,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),o.jsx(A,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),o.jsx(A,{label:"Type of Business",name:"typeOfBusiness",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"From",name:"amendmentFrom",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),o.jsx(A,{label:"To",name:"amendmentTo",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),o.jsx(A,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio-group",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(A,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),o.jsx(A,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),o.jsx(A,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(A,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),o.jsx(A,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(A,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),o.jsx(A,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),o.jsx(A,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),o.jsx(A,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),o.jsx(A,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),o.jsx(A,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(A,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(A,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(A,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),o.jsx(A,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),o.jsx(A,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),o.jsx(A,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),o.jsx(A,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(A,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(A,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),o.jsx(A,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),o.jsx(A,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(A,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),o.jsx(A,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),o.jsx(A,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),o.jsx(A,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),o.jsx(A,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(A,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),o.jsx(A,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),o.jsx(A,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(A,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),o.jsx(A,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),o.jsx(A,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),o.jsx(A,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),o.jsxs("div",{className:"pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),o.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),o.jsx("input",{type:"file",onChange:s,className:"hidden",id:"fileUpload",multiple:!0}),o.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsx("span",{className:"text-sm truncate",children:l.name}),o.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:a?"Update Application":"Create Application"})]})]});function N1e(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),[a,s]=v.useState(""),i=[{id:1,applicantType:"Renewal",modeOfPayment:"Annually",applicationDate:"1/13/2025",dtiSecCdaRegistration:"21447756",dtiRegistrationDate:"1/13/2025",businessName:"ABC Store",ownerName:"John Smith",status:"Active"},{id:2,applicantType:"New",modeOfPayment:"Semi-Annually",applicationDate:"1/14/2025",dtiSecCdaRegistration:"21447757",dtiRegistrationDate:"1/14/2025",businessName:"XYZ Restaurant",ownerName:"Jane Doe",status:"Pending"}],[l,c]=v.useState({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),u=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"applicationDate",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistration",header:"DTI/SEC/CDA Registration",sortable:!0},{key:"status",header:"Status",sortable:!0,render:b=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b==="Active"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:b})}],d=[{icon:V6,title:"View",onClick:b=>h(b)},{icon:Va,title:"Edit",onClick:b=>p(b)},{icon:Yn,title:"Delete",onClick:b=>g(b)}],f=(b,w)=>{c(S=>({...S,[b]:w}))},m=()=>{n(null),c({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),e(!0)},h=b=>{n(b),e(!0)},p=b=>{n(b),e(!0)},g=b=>{window.confirm("Are you sure you want to delete this permit?")&&console.log("Deleting permit:",b)},y=()=>{console.log("Saving form data:",l),e(!1)},x=i.filter(b=>b.businessName.toLowerCase().includes(a.toLowerCase())||b.ownerName.toLowerCase().includes(a.toLowerCase())||b.dtiSecCdaRegistration.includes(a));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Business Permit Applications"}),o.jsx("p",{children:"Manage business permit applications and registrations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Uv,{className:"h-5 w-5 mr-2"}),"New Application"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:a,onChange:b=>s(b.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),o.jsx(ge,{columns:u,data:x,actions:d,pagination:!0})]})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Application":"New Business Application",size:"xl",children:o.jsx(C1e,{formData:l,handleInputChange:f,handleSave:y,onCancel:()=>e(!1),isEdit:!!r})})]})}function S1e(){var w;const[t,e]=v.useState({payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",particulars:"",checkNumber:"",brstn:"",dv:""}),[r,n]=v.useState({type:"Double",bank:"BDO-MSL - BDO Makati",dv:"10420252213355100"}),[a,s]=v.useState(""),[i,l]=v.useState(""),[c,u]=v.useState(""),d=[{value:"LBP",label:"Land Bank of the Philippines"},{value:"DBP",label:"Development Bank of the Philippines"},{value:"PNB",label:"Philippine National Bank"},{value:"BDO",label:"BDO-MSL - BDO Makati"}],f=[{id:1,name:"Leah, Bugarin, Marquez - 00000"},{id:2,name:"MElvin, Alvarez - 00001"},{id:3,name:"John, Doe - 00002"}],[m,h]=v.useState([{id:1,status:"Cheq...",linkId:"1112...",disbursementId:"8",bankType:"",signalType:"123",accountNumber:"Pedro",accountName:"456",checkNumber:"789",brstn:"1...",chP:"J.S.f.",pA:"1",vS:"6",sR:"1",aFP:"1"},{id:3,status:"Posted",linkId:"1102...",disbursementId:"1042025...",bankType:"2",signalType:"Dou...",accountNumber:"1231...",accountName:"YES",checkNumber:"0000...",brstn:"112",chP:"1...",pA:"M.I.E.",vS:"6",sR:"1",aFP:"1"},{id:4,status:"Posted",linkId:"1212...",disbursementId:"2",bankType:"Sin...",signalType:"3860...",accountNumber:"BLS IN...",accountName:"0002...",checkNumber:"010...",brstn:"2...",chP:"M.5.F.",pA:"1",vS:"2",sR:"",aFP:""},{id:5,status:"Posted",linkId:"1242...",disbursementId:"2",bankType:"Dou...",signalType:"3860...",accountNumber:"BLS IN...",accountName:"0002...",checkNumber:"010...",brstn:"2...",chP:"D.T.T.",pA:"1",vS:"2",sR:"",aFP:""},{id:6,status:"Posted",linkId:"2252...",disbursementId:"2252025...",bankType:"6",signalType:"Dou...",accountNumber:"3971...",accountName:"TESTI...",checkNumber:"0000...",brstn:"201",chP:"1...",pA:"C.9.N.",vS:"1",sR:"1",aFP:"2"},{id:7,status:"Posted",linkId:"2252...",disbursementId:"2252025...",bankType:"8",signalType:"Dou...",accountNumber:"1005...",accountName:"test",checkNumber:"2132...",brstn:"1231",chP:"2...",pA:"C.1.N.",vS:"4",sR:"1",aFP:"2"},{id:8,status:"Posted",linkId:"2262...",disbursementId:"2262025...",bankType:"5",signalType:"Dou...",accountNumber:"1202...",accountName:"PNB",checkNumber:"1221...",brstn:"121",chP:"2...",pA:"C.7.S.",vS:"1",sR:"1",aFP:"2"},{id:9,status:"Posted",linkId:"2262...",disbursementId:"2262025...",bankType:"6",signalType:"Dou...",accountNumber:"3123...",accountName:"wewe",checkNumber:"2312...",brstn:"121",chP:"1...",pA:"C.6.S.",vS:"2",sR:"3",aFP:"2"},{id:10,status:"Posted",linkId:"3042...",disbursementId:"3042025...",bankType:"6",signalType:"Dou...",accountNumber:"2132...",accountName:"cedric",checkNumber:"1231...",brstn:"213",chP:"0...",pA:"C.9.N.",vS:"6",sR:"1",aFP:"2"},{id:11,status:"Posted",linkId:"3052...",disbursementId:"3052025...",bankType:"5",signalType:"Dou...",accountNumber:"2131...",accountName:"test",checkNumber:"2132...",brstn:"1332",chP:"0...",pA:"C.1.O.",vS:"1",sR:"1",aFP:"2"}]),p=S=>{const{name:C,value:j}=S.target;e(N=>({...N,[C]:j}))},g=(S,C)=>{n(j=>({...j,[S]:C}))},y=()=>{window.print()},x=S=>S?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(S)+" ONLY":"Enter Amount",b=m.filter(S=>Object.values(S).some(C=>C.toString().toLowerCase().includes(a.toLowerCase())));return o.jsxs("div",{className:"md:p-6 bg-gray-50 min-h-screen",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Cheque Generator"}),o.jsx("p",{className:"text-gray-600",children:"Generate and print cheques"})]}),o.jsxs("button",{type:"button",onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center hover:bg-blue-700",children:[o.jsx(oA,{className:"h-5 w-5 mr-2"}),"Print Cheque"]})]}),o.jsxs("div",{className:"grid grid-cols-1  xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bank:"}),o.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:r.bank})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:r.type==="Single",onChange:S=>g("type",S.target.value),className:"mr-2"}),"Single"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:r.type==="Double",onChange:S=>g("type",S.target.value),className:"mr-2"}),"Double"]})]})}),o.jsx("button",{className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300",children:"Choose Bank"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"DV:"}),o.jsx("input",{type:"text",value:r.dv,onChange:S=>g("dv",S.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),o.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:"Status: Posted"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Number:"}),o.jsx("input",{type:"text",name:"accountNumber",value:"1231312123",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Name:"}),o.jsx("input",{type:"text",value:"YES",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Check Number:"}),o.jsx("input",{type:"text",name:"checkNumber",value:"00007111",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"BRSTN:"}),o.jsx("input",{type:"text",name:"brstn",value:"112",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date:"}),o.jsx("input",{type:"date",name:"date",value:"2024-11-11",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pay to the order of:"}),o.jsx("input",{type:"text",name:"payee",value:"MElvin Alvarez",onChange:p,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount:"}),o.jsx("input",{type:"number",name:"amount",value:"18600.00",onChange:p,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.01"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),o.jsx("input",{type:"text",value:"EIGHTEEN THOUSAND SIX HUNDRED PESOS",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("button",{className:"w-full bg-blue-100 text-blue-800 py-2 px-4 rounded hover:bg-blue-200",children:"Choose number 1"}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Signatory 1:"}),o.jsxs("select",{value:i,onChange:S=>l(S.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"Select signatory"}),f.map(S=>o.jsx("option",{value:S.name,children:S.name},S.id))]})]})]}),o.jsxs("div",{children:[o.jsx("button",{className:"w-full bg-blue-100 text-blue-800 py-2 px-4 rounded hover:bg-blue-200",children:"Choose number 2"}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Signatory 2:"}),o.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"Select signatory"}),f.map(S=>o.jsx("option",{value:S.name,children:S.name},S.id))]})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),o.jsx("textarea",{placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})]})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Check List"}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Jde,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:S=>s(S.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Status"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Link ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Disbursement ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Bank Type"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Signal Type"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Account Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Account Name"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Check Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"BRSTN"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Ch P"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"P A"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"V S"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"S R"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"A FP"})]})}),o.jsx("tbody",{children:b.map((S,C)=>o.jsxs("tr",{className:C%2===0?"bg-white":"bg-gray-50",children:[o.jsx("td",{className:"border border-gray-300 p-2",children:S.id}),o.jsx("td",{className:"border border-gray-300 p-2",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${S.status==="Posted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:S.status})}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.linkId}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.disbursementId}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.bankType}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.signalType}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.accountNumber}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.accountName}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.checkNumber}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.brstn}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.chP}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.pA}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.vS}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.sR}),o.jsx("td",{className:"border border-gray-300 p-2",children:S.aFP})]},S.id))})]})})]}),o.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),o.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),o.jsx("p",{className:"font-medium",children:((w=d.find(S=>S.value===t.bank))==null?void 0:w.label)||"BDO-MSL - BDO Makati"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),o.jsx("p",{className:"font-medium",children:t.date?new Date(t.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),o.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:t.payee||"MElvin Alvarez"})]}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),o.jsx("p",{className:"font-medium",children:t.amount?x(t.amount):"EIGHTEEN THOUSAND SIX HUNDRED PESOS ONLY"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),o.jsx("p",{className:"font-medium text-lg",children:t.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(t.amount):"18,600.00"})]})]}),o.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]})]})}function A1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=oe({ChartofAccountsID:I().required("Chart of Accounts is required"),CutOffDate:I().required("Cut Off Date is required"),FundID:I().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:g,setFieldValue:y})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Chart of Accounts",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:e,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsID",value:e.find(x=>String(x.value)===String(d.ChartofAccountsID))||null,onChange:x=>y("ChartofAccountsID",(x==null?void 0:x.value)||""),onBlur:p}),f.ChartofAccountsID&&m.ChartofAccountsID&&o.jsx("p",{className:"mt-1 text-sm text-error-600",children:f.ChartofAccountsID})]}),o.jsx(A,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:p,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"FundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:g,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const T1e="https://staging-engine.testthelink.online",k1e={generalLedgers:[],isLoading:!1,error:null},Ob=M("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${T1e}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),TC=M("generalLedger/exportGeneralLedgers",async t=>!0),RU=ye({name:"generalLedger",initialState:k1e,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ob.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase(Ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(TC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TC.fulfilled,e=>{e.isLoading=!1}).addCase(TC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:I1e}=RU.actions,O1e=RU.reducer;function E1e(){const t="https://staging-engine.testthelink.online",e=ie(),{generalLedgers:r,isLoading:n,error:a}=V(f=>f.generalLedger),{funds:s}=V(f=>f.funds),{accounts:i}=V(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e(I1e()),e(sr()),e(Nr())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:f.startDate,endDate:f.endDate,fundID:f.fundID})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),p=m.headers.get("Content-Disposition");let g="General_Ledger.xlsx";p&&p.includes("filename=")&&(g=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(h),x=document.createElement("a");x.href=y,x.download=g,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(y)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export general ledger")}},d=f=>{e(Ob(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Ledger"}),o.jsx("p",{children:"Generate general ledger reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(A1e,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}function P1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=oe({ChartofAccountsID:I().required("Chart of Accounts is required"),CutOffDate:I().required("Cut Off Date is required"),FundID:I().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:g,setFieldValue:y})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Chart of Accounts",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(jr,{options:e,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsID",value:e.find(x=>String(x.value)===String(d.ChartofAccountsID))||null,onChange:x=>y("ChartofAccountsID",(x==null?void 0:x.value)||""),onBlur:p}),f.ChartofAccountsID&&m.ChartofAccountsID&&o.jsx("p",{className:"mt-1 text-sm text-error-600",children:f.ChartofAccountsID})]}),o.jsx(A,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:p,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"FundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:h,onBlur:p,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:g,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const D1e="https://staging-engine.testthelink.online",_1e={subsidiaryLedgers:[],isLoading:!1,error:null},Eb=M("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${D1e}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),kC=M("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),MU=ye({name:"subsidiaryLedger",initialState:_1e,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eb.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(Eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(kC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kC.fulfilled,e=>{e.isLoading=!1}).addCase(kC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:$1e}=MU.actions,R1e=MU.reducer;function M1e(){const t="https://staging-engine.testthelink.online",e=ie(),{subsidiaryLedgers:r,isLoading:n,error:a}=V(f=>f.subsidiaryLedger),{funds:s}=V(f=>f.funds),{accounts:i}=V(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e($1e()),e(sr()),e(Nr())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:f.startDate,endDate:f.endDate,fundID:f.fundID})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),p=m.headers.get("Content-Disposition");let g="Subsidiary_Ledger.xlsx";p&&p.includes("filename=")&&(g=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(h),x=document.createElement("a");x.href=y,x.download=g,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(y)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export subsidiary ledger")}},d=f=>{e(Eb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Subsidiary Ledger"}),o.jsx("p",{children:"Generate subsidiary ledger reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(P1e,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}function L1e({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=v.useRef(null),a=oe({year:I().required("Year is required")}),s={year:new Date().getFullYear()-1},i=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return o.jsx($e,{initialValues:s,validationSchema:a,onSubmit:i,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,setFieldValue:h})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:o.jsx(A,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:f,error:c.year,touched:u.year,required:!0})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,onClick:()=>n.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:m,children:"Generate FSP"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:m,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const F1e="https://staging-engine.testthelink.online",B1e={financialStatements:[],isLoading:!1,error:null},Pb=M("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${F1e}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),IC=M("financialStatement/exportFinancialStatements",async t=>!0),LU=ye({name:"financialStatement",initialState:B1e,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase(Pb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pb.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase(Pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(IC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IC.fulfilled,e=>{e.isLoading=!1}).addCase(IC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:q1e}=LU.actions,V1e=LU.reducer;function U1e(){const t="https://staging-engine.testthelink.online",e=ie(),{financialStatements:r,isLoading:n,error:a}=V(u=>u.financialStatementsReports);v.useEffect(()=>{e(q1e())},[e]);const s=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>s(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>s(u),className:"text-right"}],l=async u=>{try{const d=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({year:u.year})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let h="Consolidated_Statement_of_Financial_Position.xlsx";m&&m.includes("filename=")&&(h=m.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(f),g=document.createElement("a");g.href=p,g.download=h,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(p)}catch(d){console.error("Export failed:",d),alert(d.message||"Failed to export")}},c=u=>{e(Pb(u))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Consolidated Comparison"}),o.jsx("p",{children:"Generate reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(L1e,{onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:i,data:r,loading:n,pagination:!0})})]})}function sR(){const[t,e]=v.useState({year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),reportType:"summary",fund:""}),r=[{value:"General Fund",label:"General Fund"},{value:"Special Education Fund",label:"Special Education Fund"},{value:"Trust Fund",label:"Trust Fund"}],n=[{value:"summary",label:"Budget Summary"},{value:"saaob",label:"Statement of Appropriations, Allotments and Obligations"},{value:"scba",label:"Statement of Comparison of Budget and Actual Amounts"}],a=c=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(c),s=c=>new Intl.NumberFormat("en-PH",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(c),i=[{id:1,accountCode:"5-01-01-010",accountTitle:"Personal Services - Regular",appropriation:5e6,allotment:45e5,obligation:35e5,balance:1e6,utilizationRate:.78},{id:2,accountCode:"5-02-01-010",accountTitle:"Traveling Expenses - Local",appropriation:1e6,allotment:8e5,obligation:6e5,balance:2e5,utilizationRate:.75}],l=[{key:"accountCode",header:"Account Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"accountTitle",header:"Account Title",sortable:!0},{key:"appropriation",header:"Appropriation",sortable:!0,render:c=>a(c),className:"text-right"},{key:"allotment",header:"Allotment",sortable:!0,render:c=>a(c),className:"text-right"},{key:"obligation",header:"Obligation",sortable:!0,render:c=>a(c),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:c=>a(c),className:"text-right"},{key:"utilizationRate",header:"Utilization",sortable:!0,render:c=>s(c),className:"text-right"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Reports"}),o.jsx("p",{children:"View and generate budget utilization reports"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(QB,{className:"h-5 w-5 mr-2"}),"Export"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(al,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(A,{label:"Year",name:"year",type:"number",value:t.year,onChange:c=>e({...t,year:c.target.value}),min:"2000",max:"2100"}),o.jsx(A,{label:"Month",name:"month",type:"select",value:t.month,onChange:c=>e({...t,month:c.target.value}),options:[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}]}),o.jsx(A,{label:"Report Type",name:"reportType",type:"select",value:t.reportType,onChange:c=>e({...t,reportType:c.target.value}),options:n}),o.jsx(A,{label:"Fund",name:"fund",type:"select",value:t.fund,onChange:c=>e({...t,fund:c.target.value}),options:r})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{},children:"Generate Report"})})]}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Local Government Unit"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotments and Obligations"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the Month Ended ",new Date(t.year,t.month-1).toLocaleDateString("en-PH",{month:"long",year:"numeric"})]})]}),o.jsx(ge,{columns:l,data:i,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Appropriation"}),o.jsx("p",{className:"text-lg font-semibold",children:a(i.reduce((c,u)=>c+u.appropriation,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Allotment"}),o.jsx("p",{className:"text-lg font-semibold",children:a(i.reduce((c,u)=>c+u.allotment,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Obligation"}),o.jsx("p",{className:"text-lg font-semibold",children:a(i.reduce((c,u)=>c+u.obligation,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Overall Utilization"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((c,u)=>c+u.obligation,0)/i.reduce((c,u)=>c+u.appropriation,0))})]})]})})]})]})}function z1e(){const[t,e]=v.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),r=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],n=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],a=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),s=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],i=[{key:"date",header:"Date",sortable:!0,render:u=>new Date(u).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:u=>a(u),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:u=>`${(u*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:u=>a(u),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:u=>a(u),className:"text-right"}],c=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(n.find(d=>d.value===t.vendor)||n[0]).label,address:"Employee Address, City",zipCode:"1000"};{const u=r.find(d=>d.value===t.vendor)||r[0];return{tin:"123-456-789-000",name:u.label,address:`${u.label} Street, Business District`,zipCode:"2000"}}})();return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-[200px]",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(QB,{className:"h-5 w-5 mr-2"}),"Export"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(al,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(A,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:u=>e({...t,startDate:u.target.value})}),o.jsx(A,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:u=>e({...t,endDate:u.target.value})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Employee"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),o.jsx(A,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:u=>e({...t,vendor:u.target.value}),options:t.payeeType==="employee"?n:r})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),o.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",c.tin]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",c.name]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",c.address]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",c.zipCode]})]})]})]}),o.jsx(ge,{columns:i,data:s,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.grossAmount,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.taxWithheld,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.netAmount,0))})]})]})}),o.jsxs("div",{className:"mt-6 card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),o.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),o.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),o.jsx("p",{className:"font-medium",children:"Maria Santos"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const oR="https://staging-engine.testthelink.online",OC={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function W1e(){const t=ie(),{userroles:e,isLoading:r,error:n}=V(h=>h.userroles),a=V(h=>h.modules.modules),[s,i]=v.useState(null),[l,c]=v.useState({});v.useEffect(()=>{t(rc()),t(Rd())},[t]),v.useEffect(()=>{e.length>0&&!s&&i(e[0])},[e]),v.useEffect(()=>{if(!(s!=null&&s.ID)||a.length===0)return;(async()=>{try{const p=await fetch(`${oR}/moduleAccess/${s.ID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),g=await p.json();if(!p.ok)throw new Error(g.message||"Failed to fetch access");const y={};g.forEach(b=>{y[b.ModuleID]={id:b.ID,view:!!b.View,add:!!b.Add,edit:!!b.Edit,delete:!!b.Delete,print:!!b.Print,mayor:!!b.Mayor}});const x={};a.forEach(b=>{x[b.ID]=y[b.ID]||{...OC}}),c(x)}catch(p){console.error("Error loading module access:",p.message)}})()},[s,a]);const u=(h,p)=>{c(g=>({...g,[h]:{...g[h],[p]:!g[h][p]}}))},d=h=>{const p={};a.forEach(g=>{p[g.ID]={...l[g.ID]||OC,view:h,add:h,edit:h,delete:h,print:h,mayor:h}}),c(p)},f=(h,p)=>{const g={...l};a.forEach(y=>{g[y.ID]={...g[y.ID]||OC,[h]:p}}),c(g)},m=async()=>{if(!(s!=null&&s.ID))return;const h=Object.entries(l).map(([p,g])=>({id:g.id||null,ModuleID:parseInt(p),View:g.view?1:0,Add:g.add?1:0,Edit:g.edit?1:0,Delete:g.delete?1:0,Print:g.print?1:0,Mayor:g.mayor?1:0}));try{const p=await fetch(`${oR}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:s.ID,modules:h})});if(!p.ok){const g=await p.json();throw new Error(g.message||"Failed to save permissions")}alert("Permissions saved successfully!")}catch(p){console.error("Save failed:",p.message),alert("Error saving permissions.")}};return o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("header",{className:"page-header space-y-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Access"}),o.jsx("p",{className:"text-gray-600",children:"Manage user roles and module access."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search role...",className:"border px-3 py-2 rounded-md w-full sm:w-60"}),o.jsx("button",{className:"btn btn-primary flex items-center",onClick:m,children:"Save"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[o.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?o.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?o.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):o.jsx("ul",{children:e.map(h=>o.jsx("li",{onClick:()=>i(h),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(s==null?void 0:s.ID)===h.ID?"bg-blue-200 font-semibold":""}`,children:h.Description},h.ID))})]}),o.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[o.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(s==null?void 0:s.Description)||""]}),o.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(h=>o.jsx("th",{className:"px-2 capitalize text-center",children:o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("span",{children:h})})},h))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(h=>o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:a.every(p=>{var g;return(g=l[p.ID])==null?void 0:g[h]}),onChange:p=>f(h,p.target.checked),className:"accent-blue-600"})},`select-all-${h}`))]}),a.map(h=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-1",children:h.Description}),["view","add","edit","delete","print","mayor"].map(p=>{var g;return o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:((g=l[h.ID])==null?void 0:g[p])||!1,onChange:()=>u(h.ID,p),className:"accent-blue-600"})},p)})]},h.ID))]})]}),o.jsxs("div",{className:"p-2 border-t space-x-2",children:[o.jsx("button",{onClick:()=>d(!0),className:"btn btn-outline",children:"Select All"}),o.jsx("button",{onClick:()=>d(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const H1e=()=>{const t=Am(),[e,r]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""});ie();const[n,a]=v.useState({current:!1,new:!1,confirm:!1}),s=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},i=u=>{a(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){it.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){it.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),it.success("Password updated successfully!"),t("/dashboard")}catch(d){it.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,f)=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:n[f]?"text":"password",name:d,value:e[d],onChange:s,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(f),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[f]?o.jsx(Bde,{size:18}):o.jsx(V6,{size:18})})]})]});return o.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[o.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[o.jsx(Mde,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),o.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),o.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})},G1e={approved:"bg-green-100 text-green-700",requested:"bg-blue-100 text-blue-700",pending:"bg-yellow-100 text-yellow-700",rejected:"bg-red-100 text-red-700"},Y1e=({documents:t})=>o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full bg-white rounded shadow",children:[o.jsx("thead",{className:"bg-gray-100 text-left text-sm font-medium text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Status"}),o.jsx("th",{className:"px-4 py-3",children:"AP AR"}),o.jsx("th",{className:"px-4 py-3",children:"Invoice Date"}),o.jsx("th",{className:"px-4 py-3",children:"Invoice #"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Total"}),o.jsx("th",{className:"px-4 py-3",children:"Funds"})]})}),o.jsx("tbody",{className:"text-sm text-gray-700 divide-y divide-gray-200",children:t.map(e=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{className:"flex gap-2 flex-wrap",children:e.status.map(r=>o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${G1e[r]}`,children:r},r))})}),o.jsx("td",{className:"px-4 py-3",children:e.apar}),o.jsx("td",{className:"px-4 py-3",children:e.invoiceDate}),o.jsx("td",{className:"px-4 py-3",children:e.invoiceNumber}),o.jsx("td",{className:"px-4 py-3 text-right",children:e.total}),o.jsx("td",{className:"px-4 py-3",children:e.funds})]},e.id))})]})}),Vu=[{id:1,status:["approved"],apar:"Disbursement Voucher",invoiceDate:"2024-06-01",invoiceNumber:"INV-001",total:"$15,000.00",funds:"General Fund",owner:"Me"},{id:2,status:["requested","pending"],apar:"Obligation Request",invoiceDate:"2024-06-03",invoiceNumber:"INV-002",total:"$25,000.00",funds:"Special Fund",owner:"Department"},{id:3,status:["rejected"],apar:"Disbursement Voucher",invoiceDate:"2024-06-05",invoiceNumber:"INV-003",total:"$5,000.00",funds:"General Fund",owner:"All"}],K1e=()=>{const[t,e]=v.useState("Me"),r=Vu.filter(a=>t==="All"?!0:a.owner===t),n={total:Vu.length,approved:Vu.filter(a=>a.status.includes("approved")).length,requested:Vu.filter(a=>a.status.includes("requested")).length,rejected:Vu.filter(a=>a.status.includes("rejected")).length};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Iue,{className:"w-20 h-20 text-gray-400"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome, John Doe"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Position: Accountant"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Department: Finance"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(Ql,{to:"/budget-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),o.jsx(Ql,{to:"/disbursement-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),o.jsx(Ql,{to:"/collection-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Gh,{title:"Total Documents",value:n.total,icon:Cue}),o.jsx(Gh,{title:"Approved",value:n.approved,icon:pue}),o.jsx(Gh,{title:"Requested",value:n.requested,icon:jue}),o.jsx(Gh,{title:"Rejected",value:n.rejected,icon:Eue})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),["Me","Department","All"].map(a=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"owner",value:a,checked:t===a,onChange:()=>e(a),className:"text-blue-600"}),o.jsx("span",{className:"text-sm",children:a})]},a))]}),o.jsx(Y1e,{documents:r})]})},Gh=({title:t,value:e,icon:r})=>o.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:o.jsx(r,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-500",children:t}),o.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]}),X1e="https://staging-engine.testthelink.online",J1e={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},EC=M("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${X1e}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Q1e=ye({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(EC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(EC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(EC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=J1e})}}),Z1e=Q1e.reducer;var eCe=Array.isArray,on=eCe,tCe=typeof rh=="object"&&rh&&rh.Object===Object&&rh,FU=tCe,rCe=FU,nCe=typeof self=="object"&&self&&self.Object===Object&&self,aCe=rCe||nCe||Function("return this")(),Ua=aCe,sCe=Ua,oCe=sCe.Symbol,Ym=oCe,iR=Ym,BU=Object.prototype,iCe=BU.hasOwnProperty,lCe=BU.toString,Uu=iR?iR.toStringTag:void 0;function cCe(t){var e=iCe.call(t,Uu),r=t[Uu];try{t[Uu]=void 0;var n=!0}catch{}var a=lCe.call(t);return n&&(e?t[Uu]=r:delete t[Uu]),a}var uCe=cCe,dCe=Object.prototype,fCe=dCe.toString;function mCe(t){return fCe.call(t)}var hCe=mCe,lR=Ym,pCe=uCe,gCe=hCe,yCe="[object Null]",bCe="[object Undefined]",cR=lR?lR.toStringTag:void 0;function xCe(t){return t==null?t===void 0?bCe:yCe:cR&&cR in Object(t)?pCe(t):gCe(t)}var Ls=xCe;function vCe(t){return t!=null&&typeof t=="object"}var Fs=vCe,jCe=Ls,wCe=Fs,CCe="[object Symbol]";function NCe(t){return typeof t=="symbol"||wCe(t)&&jCe(t)==CCe}var iu=NCe,SCe=on,ACe=iu,TCe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kCe=/^\w*$/;function ICe(t,e){if(SCe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||ACe(t)?!0:kCe.test(t)||!TCe.test(t)||e!=null&&t in Object(e)}var qI=ICe;function OCe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zo=OCe;const lu=Ze(zo);var ECe=Ls,PCe=zo,DCe="[object AsyncFunction]",_Ce="[object Function]",$Ce="[object GeneratorFunction]",RCe="[object Proxy]";function MCe(t){if(!PCe(t))return!1;var e=ECe(t);return e==_Ce||e==$Ce||e==DCe||e==RCe}var VI=MCe;const Ve=Ze(VI);var LCe=Ua,FCe=LCe["__core-js_shared__"],BCe=FCe,PC=BCe,uR=function(){var t=/[^.]+$/.exec(PC&&PC.keys&&PC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function qCe(t){return!!uR&&uR in t}var VCe=qCe,UCe=Function.prototype,zCe=UCe.toString;function WCe(t){if(t!=null){try{return zCe.call(t)}catch{}try{return t+""}catch{}}return""}var qU=WCe,HCe=VI,GCe=VCe,YCe=zo,KCe=qU,XCe=/[\\^$.*+?()[\]{}|]/g,JCe=/^\[object .+?Constructor\]$/,QCe=Function.prototype,ZCe=Object.prototype,eNe=QCe.toString,tNe=ZCe.hasOwnProperty,rNe=RegExp("^"+eNe.call(tNe).replace(XCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nNe(t){if(!YCe(t)||GCe(t))return!1;var e=HCe(t)?rNe:JCe;return e.test(KCe(t))}var aNe=nNe;function sNe(t,e){return t==null?void 0:t[e]}var oNe=sNe,iNe=aNe,lNe=oNe;function cNe(t,e){var r=lNe(t,e);return iNe(r)?r:void 0}var ml=cNe,uNe=ml,dNe=uNe(Object,"create"),Uj=dNe,dR=Uj;function fNe(){this.__data__=dR?dR(null):{},this.size=0}var mNe=fNe;function hNe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var pNe=hNe,gNe=Uj,yNe="__lodash_hash_undefined__",bNe=Object.prototype,xNe=bNe.hasOwnProperty;function vNe(t){var e=this.__data__;if(gNe){var r=e[t];return r===yNe?void 0:r}return xNe.call(e,t)?e[t]:void 0}var jNe=vNe,wNe=Uj,CNe=Object.prototype,NNe=CNe.hasOwnProperty;function SNe(t){var e=this.__data__;return wNe?e[t]!==void 0:NNe.call(e,t)}var ANe=SNe,TNe=Uj,kNe="__lodash_hash_undefined__";function INe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=TNe&&e===void 0?kNe:e,this}var ONe=INe,ENe=mNe,PNe=pNe,DNe=jNe,_Ne=ANe,$Ne=ONe;function cu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cu.prototype.clear=ENe;cu.prototype.delete=PNe;cu.prototype.get=DNe;cu.prototype.has=_Ne;cu.prototype.set=$Ne;var RNe=cu;function MNe(){this.__data__=[],this.size=0}var LNe=MNe;function FNe(t,e){return t===e||t!==t&&e!==e}var UI=FNe,BNe=UI;function qNe(t,e){for(var r=t.length;r--;)if(BNe(t[r][0],e))return r;return-1}var zj=qNe,VNe=zj,UNe=Array.prototype,zNe=UNe.splice;function WNe(t){var e=this.__data__,r=VNe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():zNe.call(e,r,1),--this.size,!0}var HNe=WNe,GNe=zj;function YNe(t){var e=this.__data__,r=GNe(e,t);return r<0?void 0:e[r][1]}var KNe=YNe,XNe=zj;function JNe(t){return XNe(this.__data__,t)>-1}var QNe=JNe,ZNe=zj;function eSe(t,e){var r=this.__data__,n=ZNe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var tSe=eSe,rSe=LNe,nSe=HNe,aSe=KNe,sSe=QNe,oSe=tSe;function uu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}uu.prototype.clear=rSe;uu.prototype.delete=nSe;uu.prototype.get=aSe;uu.prototype.has=sSe;uu.prototype.set=oSe;var Wj=uu,iSe=ml,lSe=Ua,cSe=iSe(lSe,"Map"),zI=cSe,fR=RNe,uSe=Wj,dSe=zI;function fSe(){this.size=0,this.__data__={hash:new fR,map:new(dSe||uSe),string:new fR}}var mSe=fSe;function hSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var pSe=hSe,gSe=pSe;function ySe(t,e){var r=t.__data__;return gSe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Hj=ySe,bSe=Hj;function xSe(t){var e=bSe(this,t).delete(t);return this.size-=e?1:0,e}var vSe=xSe,jSe=Hj;function wSe(t){return jSe(this,t).get(t)}var CSe=wSe,NSe=Hj;function SSe(t){return NSe(this,t).has(t)}var ASe=SSe,TSe=Hj;function kSe(t,e){var r=TSe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var ISe=kSe,OSe=mSe,ESe=vSe,PSe=CSe,DSe=ASe,_Se=ISe;function du(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}du.prototype.clear=OSe;du.prototype.delete=ESe;du.prototype.get=PSe;du.prototype.has=DSe;du.prototype.set=_Se;var WI=du,VU=WI,$Se="Expected a function";function HI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError($Se);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(HI.Cache||VU),r}HI.Cache=VU;var UU=HI;const RSe=Ze(UU);var MSe=UU,LSe=500;function FSe(t){var e=MSe(t,function(n){return r.size===LSe&&r.clear(),n}),r=e.cache;return e}var BSe=FSe,qSe=BSe,VSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,USe=/\\(\\)?/g,zSe=qSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(VSe,function(r,n,a,s){e.push(a?s.replace(USe,"$1"):n||r)}),e}),WSe=zSe;function HSe(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var GI=HSe,mR=Ym,GSe=GI,YSe=on,KSe=iu,hR=mR?mR.prototype:void 0,pR=hR?hR.toString:void 0;function zU(t){if(typeof t=="string")return t;if(YSe(t))return GSe(t,zU)+"";if(KSe(t))return pR?pR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var XSe=zU,JSe=XSe;function QSe(t){return t==null?"":JSe(t)}var WU=QSe,ZSe=on,eAe=qI,tAe=WSe,rAe=WU;function nAe(t,e){return ZSe(t)?t:eAe(t,e)?[t]:tAe(rAe(t))}var HU=nAe,aAe=iu;function sAe(t){if(typeof t=="string"||aAe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Gj=sAe,oAe=HU,iAe=Gj;function lAe(t,e){e=oAe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[iAe(e[r++])];return r&&r==n?t:void 0}var YI=lAe,cAe=YI;function uAe(t,e,r){var n=t==null?void 0:cAe(t,e);return n===void 0?r:n}var GU=uAe;const ma=Ze(GU);function dAe(t){return t==null}var fAe=dAe;const Ge=Ze(fAe);var mAe=Ls,hAe=on,pAe=Fs,gAe="[object String]";function yAe(t){return typeof t=="string"||!hAe(t)&&pAe(t)&&mAe(t)==gAe}var bAe=yAe;const Km=Ze(bAe);var YU={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI=Symbol.for("react.element"),XI=Symbol.for("react.portal"),Yj=Symbol.for("react.fragment"),Kj=Symbol.for("react.strict_mode"),Xj=Symbol.for("react.profiler"),Jj=Symbol.for("react.provider"),Qj=Symbol.for("react.context"),xAe=Symbol.for("react.server_context"),Zj=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),nw=Symbol.for("react.lazy"),vAe=Symbol.for("react.offscreen"),KU;KU=Symbol.for("react.module.reference");function Kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case KI:switch(t=t.type,t){case Yj:case Xj:case Kj:case ew:case tw:return t;default:switch(t=t&&t.$$typeof,t){case xAe:case Qj:case Zj:case nw:case rw:case Jj:return t;default:return e}}case XI:return e}}}ut.ContextConsumer=Qj;ut.ContextProvider=Jj;ut.Element=KI;ut.ForwardRef=Zj;ut.Fragment=Yj;ut.Lazy=nw;ut.Memo=rw;ut.Portal=XI;ut.Profiler=Xj;ut.StrictMode=Kj;ut.Suspense=ew;ut.SuspenseList=tw;ut.isAsyncMode=function(){return!1};ut.isConcurrentMode=function(){return!1};ut.isContextConsumer=function(t){return Kn(t)===Qj};ut.isContextProvider=function(t){return Kn(t)===Jj};ut.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===KI};ut.isForwardRef=function(t){return Kn(t)===Zj};ut.isFragment=function(t){return Kn(t)===Yj};ut.isLazy=function(t){return Kn(t)===nw};ut.isMemo=function(t){return Kn(t)===rw};ut.isPortal=function(t){return Kn(t)===XI};ut.isProfiler=function(t){return Kn(t)===Xj};ut.isStrictMode=function(t){return Kn(t)===Kj};ut.isSuspense=function(t){return Kn(t)===ew};ut.isSuspenseList=function(t){return Kn(t)===tw};ut.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yj||t===Xj||t===Kj||t===ew||t===tw||t===vAe||typeof t=="object"&&t!==null&&(t.$$typeof===nw||t.$$typeof===rw||t.$$typeof===Jj||t.$$typeof===Qj||t.$$typeof===Zj||t.$$typeof===KU||t.getModuleId!==void 0)};ut.typeOf=Kn;YU.exports=ut;var jAe=YU.exports,wAe=Ls,CAe=Fs,NAe="[object Number]";function SAe(t){return typeof t=="number"||CAe(t)&&wAe(t)==NAe}var XU=SAe;const AAe=Ze(XU);var TAe=XU;function kAe(t){return TAe(t)&&t!=+t}var IAe=kAe;const Xm=Ze(IAe);var Bn=function(e){return e===0?0:e>0?1:-1},Ci=function(e){return Km(e)&&e.indexOf("%")===e.length-1},be=function(e){return AAe(e)&&!Xm(e)},ar=function(e){return be(e)||Km(e)},OAe=0,aw=function(e){var r=++OAe;return"".concat(e||"").concat(r)},Xr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&!Km(e))return n;var s;if(Ci(e)){var i=e.indexOf("%");s=r*parseFloat(e.slice(0,i))/100}else s=+e;return Xm(s)&&(s=n),a&&s>r&&(s=r),s},kl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},EAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},gR=function(e,r){return be(e)&&be(r)?function(n){return e+n*(r-e)}:function(){return r}};function tT(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ma(n,e))===r})}function rT(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function nT(t){"@babel/helpers - typeof";return nT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nT(t)}var PAe=["viewBox","children"],DAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yR=["points","pathLength"],DC={svg:PAe,polygon:yR,polyline:yR},JI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],V0=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!lu(n))return null;var a={};return Object.keys(n).forEach(function(s){JI.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},_Ae=function(e,r,n){return function(a){return e(r,n,a),null}},sw=function(e,r,n){if(!lu(e)||nT(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var i=e[s];JI.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=_Ae(i,r,n))}),a},$Ae=["children"],RAe=["children"];function bR(t,e){if(t==null)return{};var r=MAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},vR=null,_C=null,QI=function t(e){if(e===vR&&Array.isArray(_C))return _C;var r=[];return v.Children.forEach(e,function(n){Ge(n)||(jAe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),_C=r,vR=e,r};function Ra(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return xs(a)}):n=[xs(e)],QI(t).forEach(function(a){var s=ma(a,"type.displayName")||ma(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function $n(t,e){var r=Ra(t,e);return r&&r[0]}var jR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!be(n)||n<=0||!be(a)||a<=0)},LAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],FAe=function(e){return e&&e.type&&Km(e.type)&&LAe.indexOf(e.type)>=0},BAe=function(e,r,n,a){var s,i=(s=DC==null?void 0:DC[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ve(e)&&(a&&i.includes(r)||DAe.includes(r))||n&&JI.includes(r)},qe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(v.isValidElement(e)&&(a=e.props),!lu(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;BAe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},aT=function t(e,r){if(e===r)return!0;var n=v.Children.count(e);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!t(s,i))return!1}else if(!wR(s,i))return!1}return!0},wR=function(e,r){if(Ge(e)&&Ge(r))return!0;if(!Ge(e)&&!Ge(r)){var n=e.props||{},a=n.children,s=bR(n,$Ae),i=r.props||{},l=i.children,c=bR(i,RAe);return a&&l?rT(s,c)&&aT(a,l):!a&&!l?rT(s,c):!1}return!1},CR=function(e,r){var n=[],a={};return QI(e).forEach(function(s,i){if(FAe(s))n.push(s);else if(s){var l=xs(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},qAe=function(e){var r=e&&e.type;return r&&xR[r]?xR[r]:null},VAe=function(e,r){return QI(r).indexOf(e)},UAe=["children","width","height","viewBox","className","style","title","desc"];function sT(){return sT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sT.apply(this,arguments)}function zAe(t,e){if(t==null)return{};var r=WAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oT(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,i=t.style,l=t.title,c=t.desc,u=zAe(t,UAe),d=a||{width:r,height:n,x:0,y:0},f=_e("recharts-surface",s);return q.createElement("svg",sT({},qe(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,l),q.createElement("desc",null,c),e)}var HAe=["children","className"];function iT(){return iT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iT.apply(this,arguments)}function GAe(t,e){if(t==null)return{};var r=YAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Vt=q.forwardRef(function(t,e){var r=t.children,n=t.className,a=GAe(t,HAe),s=_e("recharts-layer",n);return q.createElement("g",iT({className:s},qe(a,!0),{ref:e}),r)}),vs=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function KAe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(a);++n<a;)s[n]=t[n+e];return s}var XAe=KAe,JAe=XAe;function QAe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:JAe(t,e,r)}var ZAe=QAe,eTe="\\ud800-\\udfff",tTe="\\u0300-\\u036f",rTe="\\ufe20-\\ufe2f",nTe="\\u20d0-\\u20ff",aTe=tTe+rTe+nTe,sTe="\\ufe0e\\ufe0f",oTe="\\u200d",iTe=RegExp("["+oTe+eTe+aTe+sTe+"]");function lTe(t){return iTe.test(t)}var JU=lTe;function cTe(t){return t.split("")}var uTe=cTe,QU="\\ud800-\\udfff",dTe="\\u0300-\\u036f",fTe="\\ufe20-\\ufe2f",mTe="\\u20d0-\\u20ff",hTe=dTe+fTe+mTe,pTe="\\ufe0e\\ufe0f",gTe="["+QU+"]",lT="["+hTe+"]",cT="\\ud83c[\\udffb-\\udfff]",yTe="(?:"+lT+"|"+cT+")",ZU="[^"+QU+"]",ez="(?:\\ud83c[\\udde6-\\uddff]){2}",tz="[\\ud800-\\udbff][\\udc00-\\udfff]",bTe="\\u200d",rz=yTe+"?",nz="["+pTe+"]?",xTe="(?:"+bTe+"(?:"+[ZU,ez,tz].join("|")+")"+nz+rz+")*",vTe=nz+rz+xTe,jTe="(?:"+[ZU+lT+"?",lT,ez,tz,gTe].join("|")+")",wTe=RegExp(cT+"(?="+cT+")|"+jTe+vTe,"g");function CTe(t){return t.match(wTe)||[]}var NTe=CTe,STe=uTe,ATe=JU,TTe=NTe;function kTe(t){return ATe(t)?TTe(t):STe(t)}var ITe=kTe,OTe=ZAe,ETe=JU,PTe=ITe,DTe=WU;function _Te(t){return function(e){e=DTe(e);var r=ETe(e)?PTe(e):void 0,n=r?r[0]:e.charAt(0),a=r?OTe(r,1).join(""):e.slice(1);return n[t]()+a}}var $Te=_Te,RTe=$Te,MTe=RTe("toUpperCase"),LTe=MTe;const ow=Ze(LTe);function bt(t){return function(){return t}}const az=Math.cos,U0=Math.sin,ya=Math.sqrt,z0=Math.PI,iw=2*z0,uT=Math.PI,dT=2*uT,di=1e-6,FTe=dT-di;function sz(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function BTe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return sz;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class qTe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?sz:BTe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,i){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-r,d=i-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>di)if(!(Math.abs(f*c-u*d)>di)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-i,p=a-l,g=c*c+u*u,y=h*h+p*p,x=Math.sqrt(g),b=Math.sqrt(m),w=s*Math.tan((uT-Math.acos((g+m-y)/(2*x*b)))/2),S=w/b,C=w/x;Math.abs(S-1)>di&&this._append`L${e+S*d},${r+S*f}`,this._append`A${s},${s},0,0,${+(f*h>d*p)},${this._x1=e+C*c},${this._y1=r+C*u}`}}arc(e,r,n,a,s,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>di||Math.abs(this._y1-d)>di)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%dT+dT),m>FTe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>di&&this._append`A${n},${n},0,${+(m>=uT)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function ZI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new qTe(e)}function eO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oz(t){this._context=t}oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lw(t){return new oz(t)}function iz(t){return t[0]}function lz(t){return t[1]}function cz(t,e){var r=bt(!0),n=null,a=lw,s=null,i=ZI(l);t=typeof t=="function"?t:t===void 0?iz:bt(t),e=typeof e=="function"?e:e===void 0?lz:bt(e);function l(c){var u,d=(c=eO(c)).length,f,m=!1,h;for(n==null&&(s=a(h=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:bt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Yh(t,e,r){var n=null,a=bt(!0),s=null,i=lw,l=null,c=ZI(u);t=typeof t=="function"?t:t===void 0?iz:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?lz:bt(+r);function u(f){var m,h,p,g=(f=eO(f)).length,y,x=!1,b,w=new Array(g),S=new Array(g);for(s==null&&(l=i(b=c())),m=0;m<=g;++m){if(!(m<g&&a(y=f[m],m,f))===x)if(x=!x)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=h;--p)l.point(w[p],S[p]);l.lineEnd(),l.areaEnd()}x&&(w[m]=+t(y,m,f),S[m]=+e(y,m,f),l.point(n?+n(y,m,f):w[m],r?+r(y,m,f):S[m]))}if(b)return l=null,b+""||null}function d(){return cz().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:bt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:bt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:bt(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class uz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function VTe(t){return new uz(t,!0)}function UTe(t){return new uz(t,!1)}const tO={draw(t,e){const r=ya(e/z0);t.moveTo(r,0),t.arc(0,0,r,0,iw)}},zTe={draw(t,e){const r=ya(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},dz=ya(1/3),WTe=dz*2,HTe={draw(t,e){const r=ya(e/WTe),n=r*dz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},GTe={draw(t,e){const r=ya(e),n=-r/2;t.rect(n,n,r,r)}},YTe=.8908130915292852,fz=U0(z0/10)/U0(7*z0/10),KTe=U0(iw/10)*fz,XTe=-az(iw/10)*fz,JTe={draw(t,e){const r=ya(e*YTe),n=KTe*r,a=XTe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const i=iw*s/5,l=az(i),c=U0(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},$C=ya(3),QTe={draw(t,e){const r=-ya(e/($C*3));t.moveTo(0,r*2),t.lineTo(-$C*r,-r),t.lineTo($C*r,-r),t.closePath()}},Dn=-.5,_n=ya(3)/2,fT=1/ya(12),ZTe=(fT/2+1)*3,eke={draw(t,e){const r=ya(e/ZTe),n=r/2,a=r*fT,s=n,i=r*fT+r,l=-s,c=i;t.moveTo(n,a),t.lineTo(s,i),t.lineTo(l,c),t.lineTo(Dn*n-_n*a,_n*n+Dn*a),t.lineTo(Dn*s-_n*i,_n*s+Dn*i),t.lineTo(Dn*l-_n*c,_n*l+Dn*c),t.lineTo(Dn*n+_n*a,Dn*a-_n*n),t.lineTo(Dn*s+_n*i,Dn*i-_n*s),t.lineTo(Dn*l+_n*c,Dn*c-_n*l),t.closePath()}};function tke(t,e){let r=null,n=ZI(a);t=typeof t=="function"?t:bt(t||tO),e=typeof e=="function"?e:bt(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:bt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:bt(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function W0(){}function H0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function mz(t){this._context=t}mz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:H0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:H0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rke(t){return new mz(t)}function hz(t){this._context=t}hz.prototype={areaStart:W0,areaEnd:W0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:H0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nke(t){return new hz(t)}function pz(t){this._context=t}pz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:H0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ake(t){return new pz(t)}function gz(t){this._context=t}gz.prototype={areaStart:W0,areaEnd:W0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ske(t){return new gz(t)}function NR(t){return t<0?-1:1}function SR(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),i=(r-t._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(NR(s)+NR(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function AR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function RC(t,e,r){var n=t._x0,a=t._y0,s=t._x1,i=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*r,s,i)}function G0(t){this._context=t}G0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:RC(this,this._t0,AR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,RC(this,AR(this,r=SR(this,t,e)),r);break;default:RC(this,this._t0,r=SR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function yz(t){this._context=new bz(t)}(yz.prototype=Object.create(G0.prototype)).point=function(t,e){G0.prototype.point.call(this,e,t)};function bz(t){this._context=t}bz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function oke(t){return new G0(t)}function ike(t){return new yz(t)}function xz(t){this._context=t}xz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=TR(t),a=TR(e),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function TR(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,i[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[r-1]=i[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function lke(t){return new xz(t)}function cw(t,e){this._context=t,this._t=e}cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function cke(t){return new cw(t,.5)}function uke(t){return new cw(t,0)}function dke(t){return new cw(t,1)}function Ic(t,e){if((i=t.length)>1)for(var r=1,n,a,s=t[e[0]],i,l=s.length;r<i;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function mT(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function fke(t,e){return t[e]}function mke(t){const e=[];return e.key=t,e}function hke(){var t=bt([]),e=mT,r=Ic,n=fke;function a(s){var i=Array.from(t.apply(this,arguments),mke),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=eO(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:bt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:bt(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?mT:typeof s=="function"?s:bt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Ic,a):r},a}function pke(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=t[r][a][1]||0;if(i)for(r=0;r<n;++r)t[r][a][1]/=i}Ic(t,e)}}function gke(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ic(t,e)}}function yke(t,e){if(!(!((i=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,p=0;p<l;++p){var g=t[e[p]],y=g[n][1]||0,x=g[n-1][1]||0;h+=y-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ic(t,e)}}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var bke=["type","size","sizeType"];function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hT.apply(this,arguments)}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){xke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xke(t,e,r){return e=vke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vke(t){var e=jke(t,"string");return qf(e)=="symbol"?e:e+""}function jke(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wke(t,e){if(t==null)return{};var r=Cke(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vz={symbolCircle:tO,symbolCross:zTe,symbolDiamond:HTe,symbolSquare:GTe,symbolStar:JTe,symbolTriangle:QTe,symbolWye:eke},Nke=Math.PI/180,Ske=function(e){var r="symbol".concat(ow(e));return vz[r]||tO},Ake=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Nke;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Tke=function(e,r){vz["symbol".concat(ow(e))]=r},rO=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,i=e.sizeType,l=i===void 0?"area":i,c=wke(e,bke),u=IR(IR({},c),{},{type:n,size:s,sizeType:l}),d=function(){var y=Ske(n),x=tke().type(y).size(Ake(s,l,n));return x()},f=u.className,m=u.cx,h=u.cy,p=qe(u,!0);return m===+m&&h===+h&&s===+s?q.createElement("path",hT({},p,{className:_e("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};rO.registerSymbol=Tke;function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function pT(){return pT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pT.apply(this,arguments)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){Vf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ike(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wz(n.key),n)}}function Eke(t,e,r){return e&&Oke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pke(t,e,r){return e=Y0(e),Dke(t,jz()?Reflect.construct(e,r||[],Y0(t).constructor):e.apply(t,r))}function Dke(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ke(t)}function _ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jz=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y0(t)}function $ke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gT(t,e)}function gT(t,e){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gT(t,e)}function Vf(t,e,r){return e=wz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wz(t){var e=Rke(t,"string");return Oc(e)=="symbol"?e:e+""}function Rke(t,e){if(Oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zn=32,nO=function(t){function e(){return Ike(this,e),Pke(this,e,arguments)}return $ke(e,t),Eke(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Zn/2,i=Zn/6,l=Zn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Zn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Zn,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Zn/8,"h").concat(Zn,"v").concat(Zn*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(q.isValidElement(n.legendIcon)){var u=kke({},n);return delete u.legendIcon,q.cloneElement(n.legendIcon,u)}return q.createElement(rO,{fill:c,cx:s,cy:s,size:Zn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Zn,height:Zn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,p){var g=h.formatter||c,y=_e(Vf(Vf({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=Ve(h.value)?null:h.value;vs(!Ve(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?u:h.color;return q.createElement("li",pT({className:y,style:f,key:"legend-item-".concat(p)},sw(n.props,h,p)),q.createElement(oT,{width:i,height:i,viewBox:d,style:m},n.renderIcon(h)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(x,h,p):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Vf(nO,"displayName","Legend");Vf(nO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Mke=Wj;function Lke(){this.__data__=new Mke,this.size=0}var Fke=Lke;function Bke(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var qke=Bke;function Vke(t){return this.__data__.get(t)}var Uke=Vke;function zke(t){return this.__data__.has(t)}var Wke=zke,Hke=Wj,Gke=zI,Yke=WI,Kke=200;function Xke(t,e){var r=this.__data__;if(r instanceof Hke){var n=r.__data__;if(!Gke||n.length<Kke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Yke(n)}return r.set(t,e),this.size=r.size,this}var Jke=Xke,Qke=Wj,Zke=Fke,e2e=qke,t2e=Uke,r2e=Wke,n2e=Jke;function fu(t){var e=this.__data__=new Qke(t);this.size=e.size}fu.prototype.clear=Zke;fu.prototype.delete=e2e;fu.prototype.get=t2e;fu.prototype.has=r2e;fu.prototype.set=n2e;var Cz=fu,a2e="__lodash_hash_undefined__";function s2e(t){return this.__data__.set(t,a2e),this}var o2e=s2e;function i2e(t){return this.__data__.has(t)}var l2e=i2e,c2e=WI,u2e=o2e,d2e=l2e;function K0(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new c2e;++e<r;)this.add(t[e])}K0.prototype.add=K0.prototype.push=u2e;K0.prototype.has=d2e;var Nz=K0;function f2e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Sz=f2e;function m2e(t,e){return t.has(e)}var Az=m2e,h2e=Nz,p2e=Sz,g2e=Az,y2e=1,b2e=2;function x2e(t,e,r,n,a,s){var i=r&y2e,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,h=r&b2e?new h2e:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var p=t[f],g=e[f];if(n)var y=i?n(g,p,f,e,t,s):n(p,g,f,t,e,s);if(y!==void 0){if(y)continue;m=!1;break}if(h){if(!p2e(e,function(x,b){if(!g2e(h,b)&&(p===x||a(p,x,r,n,s)))return h.push(b)})){m=!1;break}}else if(!(p===g||a(p,g,r,n,s))){m=!1;break}}return s.delete(t),s.delete(e),m}var Tz=x2e,v2e=Ua,j2e=v2e.Uint8Array,w2e=j2e;function C2e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var N2e=C2e;function S2e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var aO=S2e,ER=Ym,PR=w2e,A2e=UI,T2e=Tz,k2e=N2e,I2e=aO,O2e=1,E2e=2,P2e="[object Boolean]",D2e="[object Date]",_2e="[object Error]",$2e="[object Map]",R2e="[object Number]",M2e="[object RegExp]",L2e="[object Set]",F2e="[object String]",B2e="[object Symbol]",q2e="[object ArrayBuffer]",V2e="[object DataView]",DR=ER?ER.prototype:void 0,MC=DR?DR.valueOf:void 0;function U2e(t,e,r,n,a,s,i){switch(r){case V2e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case q2e:return!(t.byteLength!=e.byteLength||!s(new PR(t),new PR(e)));case P2e:case D2e:case R2e:return A2e(+t,+e);case _2e:return t.name==e.name&&t.message==e.message;case M2e:case F2e:return t==e+"";case $2e:var l=k2e;case L2e:var c=n&O2e;if(l||(l=I2e),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=E2e,i.set(t,e);var d=T2e(l(t),l(e),n,a,s,i);return i.delete(t),d;case B2e:if(MC)return MC.call(t)==MC.call(e)}return!1}var z2e=U2e;function W2e(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var kz=W2e,H2e=kz,G2e=on;function Y2e(t,e,r){var n=e(t);return G2e(t)?n:H2e(n,r(t))}var K2e=Y2e;function X2e(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}var J2e=X2e;function Q2e(){return[]}var Z2e=Q2e,eIe=J2e,tIe=Z2e,rIe=Object.prototype,nIe=rIe.propertyIsEnumerable,_R=Object.getOwnPropertySymbols,aIe=_R?function(t){return t==null?[]:(t=Object(t),eIe(_R(t),function(e){return nIe.call(t,e)}))}:tIe,sIe=aIe;function oIe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var iIe=oIe,lIe=Ls,cIe=Fs,uIe="[object Arguments]";function dIe(t){return cIe(t)&&lIe(t)==uIe}var fIe=dIe,$R=fIe,mIe=Fs,Iz=Object.prototype,hIe=Iz.hasOwnProperty,pIe=Iz.propertyIsEnumerable,gIe=$R(function(){return arguments}())?$R:function(t){return mIe(t)&&hIe.call(t,"callee")&&!pIe.call(t,"callee")},sO=gIe,X0={exports:{}};function yIe(){return!1}var bIe=yIe;X0.exports;(function(t,e){var r=Ua,n=bIe,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(X0,X0.exports);var Oz=X0.exports,xIe=9007199254740991,vIe=/^(?:0|[1-9]\d*)$/;function jIe(t,e){var r=typeof t;return e=e??xIe,!!e&&(r=="number"||r!="symbol"&&vIe.test(t))&&t>-1&&t%1==0&&t<e}var oO=jIe,wIe=9007199254740991;function CIe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wIe}var iO=CIe,NIe=Ls,SIe=iO,AIe=Fs,TIe="[object Arguments]",kIe="[object Array]",IIe="[object Boolean]",OIe="[object Date]",EIe="[object Error]",PIe="[object Function]",DIe="[object Map]",_Ie="[object Number]",$Ie="[object Object]",RIe="[object RegExp]",MIe="[object Set]",LIe="[object String]",FIe="[object WeakMap]",BIe="[object ArrayBuffer]",qIe="[object DataView]",VIe="[object Float32Array]",UIe="[object Float64Array]",zIe="[object Int8Array]",WIe="[object Int16Array]",HIe="[object Int32Array]",GIe="[object Uint8Array]",YIe="[object Uint8ClampedArray]",KIe="[object Uint16Array]",XIe="[object Uint32Array]",Ct={};Ct[VIe]=Ct[UIe]=Ct[zIe]=Ct[WIe]=Ct[HIe]=Ct[GIe]=Ct[YIe]=Ct[KIe]=Ct[XIe]=!0;Ct[TIe]=Ct[kIe]=Ct[BIe]=Ct[IIe]=Ct[qIe]=Ct[OIe]=Ct[EIe]=Ct[PIe]=Ct[DIe]=Ct[_Ie]=Ct[$Ie]=Ct[RIe]=Ct[MIe]=Ct[LIe]=Ct[FIe]=!1;function JIe(t){return AIe(t)&&SIe(t.length)&&!!Ct[NIe(t)]}var QIe=JIe;function ZIe(t){return function(e){return t(e)}}var Ez=ZIe,J0={exports:{}};J0.exports;(function(t,e){var r=FU,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(J0,J0.exports);var eOe=J0.exports,tOe=QIe,rOe=Ez,RR=eOe,MR=RR&&RR.isTypedArray,nOe=MR?rOe(MR):tOe,Pz=nOe,aOe=iIe,sOe=sO,oOe=on,iOe=Oz,lOe=oO,cOe=Pz,uOe=Object.prototype,dOe=uOe.hasOwnProperty;function fOe(t,e){var r=oOe(t),n=!r&&sOe(t),a=!r&&!n&&iOe(t),s=!r&&!n&&!a&&cOe(t),i=r||n||a||s,l=i?aOe(t.length,String):[],c=l.length;for(var u in t)(e||dOe.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||lOe(u,c)))&&l.push(u);return l}var mOe=fOe,hOe=Object.prototype;function pOe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||hOe;return t===r}var gOe=pOe;function yOe(t,e){return function(r){return t(e(r))}}var Dz=yOe,bOe=Dz,xOe=bOe(Object.keys,Object),vOe=xOe,jOe=gOe,wOe=vOe,COe=Object.prototype,NOe=COe.hasOwnProperty;function SOe(t){if(!jOe(t))return wOe(t);var e=[];for(var r in Object(t))NOe.call(t,r)&&r!="constructor"&&e.push(r);return e}var AOe=SOe,TOe=VI,kOe=iO;function IOe(t){return t!=null&&kOe(t.length)&&!TOe(t)}var uw=IOe,OOe=mOe,EOe=AOe,POe=uw;function DOe(t){return POe(t)?OOe(t):EOe(t)}var lO=DOe,_Oe=K2e,$Oe=sIe,ROe=lO;function MOe(t){return _Oe(t,ROe,$Oe)}var LOe=MOe,LR=LOe,FOe=1,BOe=Object.prototype,qOe=BOe.hasOwnProperty;function VOe(t,e,r,n,a,s){var i=r&FOe,l=LR(t),c=l.length,u=LR(e),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var m=l[f];if(!(i?m in e:qOe.call(e,m)))return!1}var h=s.get(t),p=s.get(e);if(h&&p)return h==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var y=i;++f<c;){m=l[f];var x=t[m],b=e[m];if(n)var w=i?n(b,x,m,e,t,s):n(x,b,m,t,e,s);if(!(w===void 0?x===b||a(x,b,r,n,s):w)){g=!1;break}y||(y=m=="constructor")}if(g&&!y){var S=t.constructor,C=e.constructor;S!=C&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof C=="function"&&C instanceof C)&&(g=!1)}return s.delete(t),s.delete(e),g}var UOe=VOe,zOe=ml,WOe=Ua,HOe=zOe(WOe,"DataView"),GOe=HOe,YOe=ml,KOe=Ua,XOe=YOe(KOe,"Promise"),JOe=XOe,QOe=ml,ZOe=Ua,eEe=QOe(ZOe,"Set"),_z=eEe,tEe=ml,rEe=Ua,nEe=tEe(rEe,"WeakMap"),aEe=nEe,yT=GOe,bT=zI,xT=JOe,vT=_z,jT=aEe,$z=Ls,mu=qU,FR="[object Map]",sEe="[object Object]",BR="[object Promise]",qR="[object Set]",VR="[object WeakMap]",UR="[object DataView]",oEe=mu(yT),iEe=mu(bT),lEe=mu(xT),cEe=mu(vT),uEe=mu(jT),fi=$z;(yT&&fi(new yT(new ArrayBuffer(1)))!=UR||bT&&fi(new bT)!=FR||xT&&fi(xT.resolve())!=BR||vT&&fi(new vT)!=qR||jT&&fi(new jT)!=VR)&&(fi=function(t){var e=$z(t),r=e==sEe?t.constructor:void 0,n=r?mu(r):"";if(n)switch(n){case oEe:return UR;case iEe:return FR;case lEe:return BR;case cEe:return qR;case uEe:return VR}return e});var dEe=fi,LC=Cz,fEe=Tz,mEe=z2e,hEe=UOe,zR=dEe,WR=on,HR=Oz,pEe=Pz,gEe=1,GR="[object Arguments]",YR="[object Array]",Kh="[object Object]",yEe=Object.prototype,KR=yEe.hasOwnProperty;function bEe(t,e,r,n,a,s){var i=WR(t),l=WR(e),c=i?YR:zR(t),u=l?YR:zR(e);c=c==GR?Kh:c,u=u==GR?Kh:u;var d=c==Kh,f=u==Kh,m=c==u;if(m&&HR(t)){if(!HR(e))return!1;i=!0,d=!1}if(m&&!d)return s||(s=new LC),i||pEe(t)?fEe(t,e,r,n,a,s):mEe(t,e,c,r,n,a,s);if(!(r&gEe)){var h=d&&KR.call(t,"__wrapped__"),p=f&&KR.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,y=p?e.value():e;return s||(s=new LC),a(g,y,r,n,s)}}return m?(s||(s=new LC),hEe(t,e,r,n,a,s)):!1}var xEe=bEe,vEe=xEe,XR=Fs;function Rz(t,e,r,n,a){return t===e?!0:t==null||e==null||!XR(t)&&!XR(e)?t!==t&&e!==e:vEe(t,e,r,n,Rz,a)}var cO=Rz,jEe=Cz,wEe=cO,CEe=1,NEe=2;function SEe(t,e,r,n){var a=r.length,s=a,i=!n;if(t==null)return!s;for(t=Object(t);a--;){var l=r[a];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){l=r[a];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new jEe;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?wEe(d,u,CEe|NEe,n,f):m))return!1}}return!0}var AEe=SEe,TEe=zo;function kEe(t){return t===t&&!TEe(t)}var Mz=kEe,IEe=Mz,OEe=lO;function EEe(t){for(var e=OEe(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,IEe(a)]}return e}var PEe=EEe;function DEe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Lz=DEe,_Ee=AEe,$Ee=PEe,REe=Lz;function MEe(t){var e=$Ee(t);return e.length==1&&e[0][2]?REe(e[0][0],e[0][1]):function(r){return r===t||_Ee(r,t,e)}}var LEe=MEe;function FEe(t,e){return t!=null&&e in Object(t)}var BEe=FEe,qEe=HU,VEe=sO,UEe=on,zEe=oO,WEe=iO,HEe=Gj;function GEe(t,e,r){e=qEe(e,t);for(var n=-1,a=e.length,s=!1;++n<a;){var i=HEe(e[n]);if(!(s=t!=null&&r(t,i)))break;t=t[i]}return s||++n!=a?s:(a=t==null?0:t.length,!!a&&WEe(a)&&zEe(i,a)&&(UEe(t)||VEe(t)))}var YEe=GEe,KEe=BEe,XEe=YEe;function JEe(t,e){return t!=null&&XEe(t,e,KEe)}var QEe=JEe,ZEe=cO,ePe=GU,tPe=QEe,rPe=qI,nPe=Mz,aPe=Lz,sPe=Gj,oPe=1,iPe=2;function lPe(t,e){return rPe(t)&&nPe(e)?aPe(sPe(t),e):function(r){var n=ePe(r,t);return n===void 0&&n===e?tPe(r,t):ZEe(e,n,oPe|iPe)}}var cPe=lPe;function uPe(t){return t}var hu=uPe;function dPe(t){return function(e){return e==null?void 0:e[t]}}var fPe=dPe,mPe=YI;function hPe(t){return function(e){return mPe(e,t)}}var pPe=hPe,gPe=fPe,yPe=pPe,bPe=qI,xPe=Gj;function vPe(t){return bPe(t)?gPe(xPe(t)):yPe(t)}var jPe=vPe,wPe=LEe,CPe=cPe,NPe=hu,SPe=on,APe=jPe;function TPe(t){return typeof t=="function"?t:t==null?NPe:typeof t=="object"?SPe(t)?CPe(t[0],t[1]):wPe(t):APe(t)}var Wo=TPe;function kPe(t,e,r,n){for(var a=t.length,s=r+(n?1:-1);n?s--:++s<a;)if(e(t[s],s,t))return s;return-1}var IPe=kPe;function OPe(t){return t!==t}var EPe=OPe;function PPe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var DPe=PPe,_Pe=IPe,$Pe=EPe,RPe=DPe;function MPe(t,e,r){return e===e?RPe(t,e,r):_Pe(t,$Pe,r)}var LPe=MPe,FPe=LPe;function BPe(t,e){var r=t==null?0:t.length;return!!r&&FPe(t,e,0)>-1}var qPe=BPe;function VPe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var UPe=VPe;function zPe(){}var WPe=zPe,FC=_z,HPe=WPe,GPe=aO,YPe=1/0,KPe=FC&&1/GPe(new FC([,-0]))[1]==YPe?function(t){return new FC(t)}:HPe,XPe=KPe,JPe=Nz,QPe=qPe,ZPe=UPe,eDe=Az,tDe=XPe,rDe=aO,nDe=200;function aDe(t,e,r){var n=-1,a=QPe,s=t.length,i=!0,l=[],c=l;if(r)i=!1,a=ZPe;else if(s>=nDe){var u=e?null:tDe(t);if(u)return rDe(u);i=!1,a=eDe,c=new JPe}else c=e?[]:l;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var sDe=aDe,oDe=Wo,iDe=sDe;function lDe(t,e){return t&&t.length?iDe(t,oDe(e)):[]}var cDe=lDe;const JR=Ze(cDe);function Fz(t,e,r){return e===!0?JR(t,r):Ve(e)?JR(t,e):t}function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}var uDe=["ref"];function QR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(r),!0).forEach(function(n){dw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qz(n.key),n)}}function fDe(t,e,r){return e&&ZR(t.prototype,e),r&&ZR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mDe(t,e,r){return e=Q0(e),hDe(t,Bz()?Reflect.construct(e,r||[],Q0(t).constructor):e.apply(t,r))}function hDe(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pDe(t)}function pDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bz=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q0(t)}function gDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wT(t,e)}function wT(t,e){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wT(t,e)}function dw(t,e,r){return e=qz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qz(t){var e=yDe(t,"string");return Ec(e)=="symbol"?e:e+""}function yDe(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bDe(t,e){if(t==null)return{};var r=xDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vDe(t){return t.value}function jDe(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var r=bDe(e,uDe);return q.createElement(nO,r)}var eM=1,Ma=function(t){function e(){var r;dDe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=mDe(this,e,[].concat(a)),dw(r,"lastBoundingBox",{width:-1,height:-1}),r}return gDe(e,t),fDe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>eM||Math.abs(a.height-this.lastBoundingBox.height)>eM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ya({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();m={top:((d||0)-p.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ya(Ya({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ya(Ya({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},jDe(s,Ya(Ya({},this.props),{},{payload:Fz(d,u,vDe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Ya(Ya({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&be(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);dw(Ma,"displayName","Legend");dw(Ma,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var tM=Ym,wDe=sO,CDe=on,rM=tM?tM.isConcatSpreadable:void 0;function NDe(t){return CDe(t)||wDe(t)||!!(rM&&t&&t[rM])}var SDe=NDe,ADe=kz,TDe=SDe;function Vz(t,e,r,n,a){var s=-1,i=t.length;for(r||(r=TDe),a||(a=[]);++s<i;){var l=t[s];e>0&&r(l)?e>1?Vz(l,e-1,r,n,a):ADe(a,l):n||(a[a.length]=l)}return a}var Uz=Vz;function kDe(t){return function(e,r,n){for(var a=-1,s=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++a];if(r(s[c],c,s)===!1)break}return e}}var IDe=kDe,ODe=IDe,EDe=ODe(),PDe=EDe,DDe=PDe,_De=lO;function $De(t,e){return t&&DDe(t,e,_De)}var zz=$De,RDe=uw;function MDe(t,e){return function(r,n){if(r==null)return r;if(!RDe(r))return t(r,n);for(var a=r.length,s=e?a:-1,i=Object(r);(e?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var LDe=MDe,FDe=zz,BDe=LDe,qDe=BDe(FDe),uO=qDe,VDe=uO,UDe=uw;function zDe(t,e){var r=-1,n=UDe(t)?Array(t.length):[];return VDe(t,function(a,s,i){n[++r]=e(a,s,i)}),n}var Wz=zDe;function WDe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var HDe=WDe,nM=iu;function GDe(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,s=nM(t),i=e!==void 0,l=e===null,c=e===e,u=nM(e);if(!l&&!u&&!s&&t>e||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&t<e||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var YDe=GDe,KDe=YDe;function XDe(t,e,r){for(var n=-1,a=t.criteria,s=e.criteria,i=a.length,l=r.length;++n<i;){var c=KDe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var JDe=XDe,BC=GI,QDe=YI,ZDe=Wo,e_e=Wz,t_e=HDe,r_e=Ez,n_e=JDe,a_e=hu,s_e=on;function o_e(t,e,r){e.length?e=BC(e,function(s){return s_e(s)?function(i){return QDe(i,s.length===1?s[0]:s)}:s}):e=[a_e];var n=-1;e=BC(e,r_e(ZDe));var a=e_e(t,function(s,i,l){var c=BC(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return t_e(a,function(s,i){return n_e(s,i,r)})}var i_e=o_e;function l_e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var c_e=l_e,u_e=c_e,aM=Math.max;function d_e(t,e,r){return e=aM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=aM(n.length-e,0),i=Array(s);++a<s;)i[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(i),u_e(t,this,l)}}var f_e=d_e;function m_e(t){return function(){return t}}var h_e=m_e,p_e=ml,g_e=function(){try{var t=p_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Hz=g_e,y_e=h_e,sM=Hz,b_e=hu,x_e=sM?function(t,e){return sM(t,"toString",{configurable:!0,enumerable:!1,value:y_e(e),writable:!0})}:b_e,v_e=x_e,j_e=800,w_e=16,C_e=Date.now;function N_e(t){var e=0,r=0;return function(){var n=C_e(),a=w_e-(n-r);if(r=n,a>0){if(++e>=j_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var S_e=N_e,A_e=v_e,T_e=S_e,k_e=T_e(A_e),I_e=k_e,O_e=hu,E_e=f_e,P_e=I_e;function D_e(t,e){return P_e(E_e(t,e,O_e),t+"")}var __e=D_e,$_e=UI,R_e=uw,M_e=oO,L_e=zo;function F_e(t,e,r){if(!L_e(r))return!1;var n=typeof e;return(n=="number"?R_e(r)&&M_e(e,r.length):n=="string"&&e in r)?$_e(r[e],t):!1}var fw=F_e,B_e=Uz,q_e=i_e,V_e=__e,oM=fw,U_e=V_e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&oM(t,e[0],e[1])?e=[]:r>2&&oM(e[0],e[1],e[2])&&(e=[e[0]]),q_e(t,B_e(e,1),[])}),z_e=U_e;const dO=Ze(z_e);function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CT.apply(this,arguments)}function W_e(t,e){return K_e(t)||Y_e(t,e)||G_e(t,e)||H_e()}function H_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G_e(t,e){if(t){if(typeof t=="string")return iM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iM(t,e)}}function iM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function K_e(t){if(Array.isArray(t))return t}function lM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(r),!0).forEach(function(n){X_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X_e(t,e,r){return e=J_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J_e(t){var e=Q_e(t,"string");return Uf(e)=="symbol"?e:e+""}function Q_e(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z_e(t){return Array.isArray(t)&&ar(t[0])&&ar(t[1])?t.join(" ~ "):t}var e$e=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,g=e.label,y=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(d&&d.length){var P={padding:0,margin:0},L=(m?dO(d,m):d).map(function($,D){if($.type==="none")return null;var B=qC({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),U=$.formatter||f||Z_e,_=$.value,R=$.name,F=_,G=R;if(U&&F!=null&&G!=null){var W=U(_,R,$,D,d);if(Array.isArray(W)){var Z=W_e(W,2);F=Z[0],G=Z[1]}else F=W}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:B},ar(G)?q.createElement("span",{className:"recharts-tooltip-item-name"},G):null,ar(G)?q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,q.createElement("span",{className:"recharts-tooltip-item-value"},F),q.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:P},L)}return null},S=qC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=qC({margin:0},u),j=!Ge(g),N=j?g:"",T=_e("recharts-default-tooltip",h),k=_e("recharts-tooltip-label",p);j&&y&&d!==void 0&&d!==null&&(N=y(g,d));var E=b?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",CT({className:T,style:S},E),q.createElement("p",{className:k,style:C},q.isValidElement(N)?N:"".concat(N)),w())};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Xh(t,e,r){return e=t$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$e(t){var e=r$e(t,"string");return zf(e)=="symbol"?e:e+""}function r$e(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zu="recharts-tooltip-wrapper",n$e={visibility:"hidden"};function a$e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return _e(zu,Xh(Xh(Xh(Xh({},"".concat(zu,"-right"),be(r)&&e&&be(e.x)&&r>=e.x),"".concat(zu,"-left"),be(r)&&e&&be(e.x)&&r<e.x),"".concat(zu,"-bottom"),be(n)&&e&&be(e.y)&&n>=e.y),"".concat(zu,"-top"),be(n)&&e&&be(e.y)&&n<e.y))}function cM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&be(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return i[n]?d:f;if(i[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,g=c[n]+u;return p>g?Math.max(d,c[n]):Math.max(f,c[n])}function s$e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function o$e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=cM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=cM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=s$e({translateX:d,translateY:f,useTranslate3d:l})):u=n$e,{cssProperties:u,cssClasses:a$e({translateX:d,translateY:f,coordinate:r})}}function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function uM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(r),!0).forEach(function(n){ST(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yz(n.key),n)}}function c$e(t,e,r){return e&&l$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u$e(t,e,r){return e=Z0(e),d$e(t,Gz()?Reflect.construct(e,r||[],Z0(t).constructor):e.apply(t,r))}function d$e(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f$e(t)}function f$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gz=function(){return!!t})()}function Z0(t){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z0(t)}function m$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NT(t,e)}function NT(t,e){return NT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NT(t,e)}function ST(t,e,r){return e=Yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yz(t){var e=h$e(t,"string");return Pc(e)=="symbol"?e:e+""}function h$e(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fM=1,p$e=function(t){function e(){var r;i$e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=u$e(this,e,[].concat(a)),ST(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ST(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return m$e(e,t),c$e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>fM||Math.abs(n.height-this.state.lastBoundingBox.height)>fM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,p=a.position,g=a.reverseDirection,y=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,w=o$e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:x}),S=w.cssClasses,C=w.cssProperties,j=dM(dM({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return q.createElement("div",{tabIndex:-1,className:S,style:j,ref:function(T){n.wrapperNode=T}},u)}}])}(v.PureComponent),g$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mw={isSsr:g$e()};function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function mM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(r),!0).forEach(function(n){fO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xz(n.key),n)}}function x$e(t,e,r){return e&&b$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v$e(t,e,r){return e=ex(e),j$e(t,Kz()?Reflect.construct(e,r||[],ex(t).constructor):e.apply(t,r))}function j$e(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w$e(t)}function w$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kz=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(t)}function C$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AT(t,e)}function AT(t,e){return AT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AT(t,e)}function fO(t,e,r){return e=Xz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xz(t){var e=N$e(t,"string");return Dc(e)=="symbol"?e:e+""}function N$e(t,e){if(Dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function S$e(t){return t.dataKey}function A$e(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(e$e,e)}var Qa=function(t){function e(){return y$e(this,e),v$e(this,e,arguments)}return C$e(e,t),x$e(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,p=a.payload,g=a.payloadUniqBy,y=a.position,x=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,C=p??[];f&&C.length&&(C=Fz(p.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),g,S$e));var j=C.length>0;return q.createElement(p$e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:j,offset:h,position:y,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:S},A$e(u,hM(hM({},this.props),{},{payload:C})))}}])}(v.PureComponent);fO(Qa,"displayName","Tooltip");fO(Qa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var T$e=Ua,k$e=function(){return T$e.Date.now()},I$e=k$e,O$e=/\s/;function E$e(t){for(var e=t.length;e--&&O$e.test(t.charAt(e)););return e}var P$e=E$e,D$e=P$e,_$e=/^\s+/;function $$e(t){return t&&t.slice(0,D$e(t)+1).replace(_$e,"")}var R$e=$$e,M$e=R$e,pM=zo,L$e=iu,gM=NaN,F$e=/^[-+]0x[0-9a-f]+$/i,B$e=/^0b[01]+$/i,q$e=/^0o[0-7]+$/i,V$e=parseInt;function U$e(t){if(typeof t=="number")return t;if(L$e(t))return gM;if(pM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=pM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=M$e(t);var r=B$e.test(t);return r||q$e.test(t)?V$e(t.slice(2),r?2:8):F$e.test(t)?gM:+t}var Jz=U$e,z$e=zo,VC=I$e,yM=Jz,W$e="Expected a function",H$e=Math.max,G$e=Math.min;function Y$e(t,e,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(W$e);e=yM(e)||0,z$e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?H$e(yM(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function h(j){var N=n,T=a;return n=a=void 0,u=j,i=t.apply(T,N),i}function p(j){return u=j,l=setTimeout(x,e),d?h(j):i}function g(j){var N=j-c,T=j-u,k=e-N;return f?G$e(k,s-T):k}function y(j){var N=j-c,T=j-u;return c===void 0||N>=e||N<0||f&&T>=s}function x(){var j=VC();if(y(j))return b(j);l=setTimeout(x,g(j))}function b(j){return l=void 0,m&&n?h(j):(n=a=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function S(){return l===void 0?i:b(VC())}function C(){var j=VC(),N=y(j);if(n=arguments,a=this,c=j,N){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(x,e),h(c)}return l===void 0&&(l=setTimeout(x,e)),i}return C.cancel=w,C.flush=S,C}var K$e=Y$e,X$e=K$e,J$e=zo,Q$e="Expected a function";function Z$e(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(Q$e);return J$e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),X$e(t,e,{leading:n,maxWait:e,trailing:a})}var eRe=Z$e;const Qz=Ze(eRe);function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function bM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(r),!0).forEach(function(n){tRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tRe(t,e,r){return e=rRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rRe(t){var e=nRe(t,"string");return Wf(e)=="symbol"?e:e+""}function nRe(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aRe(t,e){return lRe(t)||iRe(t,e)||oRe(t,e)||sRe()}function sRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oRe(t,e){if(t){if(typeof t=="string")return xM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xM(t,e)}}function xM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function lRe(t){if(Array.isArray(t))return t}var hw=v.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,i=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,p=t.debounce,g=p===void 0?0:p,y=t.id,x=t.className,b=t.onResize,w=t.style,S=w===void 0?{}:w,C=v.useRef(null),j=v.useRef();j.current=b,v.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var N=v.useState({containerWidth:a.width,containerHeight:a.height}),T=aRe(N,2),k=T[0],E=T[1],O=v.useCallback(function(L,$){E(function(D){var B=Math.round(L),U=Math.round($);return D.containerWidth===B&&D.containerHeight===U?D:{containerWidth:B,containerHeight:U}})},[]);v.useEffect(function(){var L=function(R){var F,G=R[0].contentRect,W=G.width,Z=G.height;O(W,Z),(F=j.current)===null||F===void 0||F.call(j,W,Z)};g>0&&(L=Qz(L,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(L),D=C.current.getBoundingClientRect(),B=D.width,U=D.height;return O(B,U),$.observe(C.current),function(){$.disconnect()}},[O,g]);var P=v.useMemo(function(){var L=k.containerWidth,$=k.containerHeight;if(L<0||$<0)return null;vs(Ci(i)||Ci(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),vs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Ci(i)?L:i,B=Ci(c)?$:c;r&&r>0&&(D?B=D/r:B&&(D=B*r),m&&B>m&&(B=m)),vs(D>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,B,i,c,d,f,r);var U=!Array.isArray(h)&&xs(h.type).endsWith("Chart");return q.Children.map(h,function(_){return q.isValidElement(_)?v.cloneElement(_,Jh({width:D,height:B},U?{style:Jh({height:"100%",width:"100%",maxHeight:B,maxWidth:D},_.props.style)}:{})):_})},[r,h,c,m,f,d,k,i]);return q.createElement("div",{id:y?"".concat(y):void 0,className:_e("recharts-responsive-container",x),style:Jh(Jh({},S),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},P)}),pu=function(e){return null};pu.displayName="Cell";function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function vM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(r),!0).forEach(function(n){cRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cRe(t,e,r){return e=uRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uRe(t){var e=dRe(t,"string");return Hf(e)=="symbol"?e:e+""}function dRe(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Al={widthCache:{},cacheCount:0},fRe=2e3,mRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jM="recharts_measurement_span";function hRe(t){var e=TT({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var wM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mw.isSsr)return{width:0,height:0};var n=hRe(r),a=JSON.stringify({text:e,copyStyle:n});if(Al.widthCache[a])return Al.widthCache[a];try{var s=document.getElementById(jM);s||(s=document.createElement("span"),s.setAttribute("id",jM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=TT(TT({},mRe),n);Object.assign(s.style,i),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Al.widthCache[a]=c,++Al.cacheCount>fRe&&(Al.cacheCount=0,Al.widthCache={}),c}catch{return{width:0,height:0}}},pRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function tx(t,e){return xRe(t)||bRe(t,e)||yRe(t,e)||gRe()}function gRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yRe(t,e){if(t){if(typeof t=="string")return CM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CM(t,e)}}function CM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function xRe(t){if(Array.isArray(t))return t}function vRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wRe(n.key),n)}}function jRe(t,e,r){return e&&NM(t.prototype,e),r&&NM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wRe(t){var e=CRe(t,"string");return Gf(e)=="symbol"?e:e+""}function CRe(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Zz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ARe=Object.keys(Zz),Vl="NaN";function TRe(t,e){return t*Zz[e]}var Qh=function(){function t(e,r){vRe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!NRe.test(r)&&(this.num=NaN,this.unit=""),ARe.includes(r)&&(this.num=TRe(e,r),this.unit="px")}return jRe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=SRe.exec(r))!==null&&n!==void 0?n:[],s=tx(a,3),i=s[1],l=s[2];return new t(parseFloat(i),l??"")}}])}();function e8(t){if(t.includes(Vl))return Vl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=SM.exec(e))!==null&&r!==void 0?r:[],a=tx(n,4),s=a[1],i=a[2],l=a[3],c=Qh.parse(s??""),u=Qh.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Vl;e=e.replace(SM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=AM.exec(e))!==null&&f!==void 0?f:[],h=tx(m,4),p=h[1],g=h[2],y=h[3],x=Qh.parse(p??""),b=Qh.parse(y??""),w=g==="+"?x.add(b):x.subtract(b);if(w.isNaN())return Vl;e=e.replace(AM,w.toString())}return e}var TM=/\(([^()]*)\)/;function kRe(t){for(var e=t;e.includes("(");){var r=TM.exec(e),n=tx(r,2),a=n[1];e=e.replace(TM,e8(a))}return e}function IRe(t){var e=t.replace(/\s+/g,"");return e=kRe(e),e=e8(e),e}function ORe(t){try{return IRe(t)}catch{return Vl}}function UC(t){var e=ORe(t.slice(5,-1));return e===Vl?"":e}var ERe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PRe=["dx","dy","angle","className","breakAll"];function kT(){return kT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kT.apply(this,arguments)}function kM(t,e){if(t==null)return{};var r=DRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IM(t,e){return MRe(t)||RRe(t,e)||$Re(t,e)||_Re()}function _Re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Re(t,e){if(t){if(typeof t=="string")return OM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OM(t,e)}}function OM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function MRe(t){if(Array.isArray(t))return t}var t8=/[ \f\n\r\t\v\u2028\u2029]+/,r8=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Ge(r)||(n?s=r.toString().split(""):s=r.toString().split(t8));var i=s.map(function(c){return{word:c,width:wM(c,a).width}}),l=n?0:wM("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},LRe=function(e,r,n,a,s){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=be(i),f=l,m=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(B,U){var _=U.word,R=U.width,F=B[B.length-1];if(F&&(a==null||s||F.width+R+n<Number(a)))F.words.push(_),F.width+=R+n;else{var G={words:[_],width:R};B.push(G)}return B},[])},h=m(r),p=function(D){return D.reduce(function(B,U){return B.width>U.width?B:U})};if(!d)return h;for(var g="",y=function(D){var B=f.slice(0,D),U=r8({breakAll:u,style:c,children:B+g}).wordsWithComputedWidth,_=m(U),R=_.length>i||p(_).width>Number(a);return[R,_]},x=0,b=f.length-1,w=0,S;x<=b&&w<=f.length-1;){var C=Math.floor((x+b)/2),j=C-1,N=y(j),T=IM(N,2),k=T[0],E=T[1],O=y(C),P=IM(O,1),L=P[0];if(!k&&!L&&(x=C+1),k&&L&&(b=C-1),!k&&L){S=E;break}w++}return S||h},EM=function(e){var r=Ge(e)?[]:e.toString().split(t8);return[{words:r}]},FRe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!mw.isSsr){var c,u,d=r8({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return EM(a);return LRe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return EM(a)},PM="#808080",_c=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,p=e.verticalAnchor,g=p===void 0?"end":p,y=e.fill,x=y===void 0?PM:y,b=kM(e,ERe),w=v.useMemo(function(){return FRe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),S=b.dx,C=b.dy,j=b.angle,N=b.className,T=b.breakAll,k=kM(b,PRe);if(!ar(n)||!ar(s))return null;var E=n+(be(S)?S:0),O=s+(be(C)?C:0),P;switch(g){case"start":P=UC("calc(".concat(u,")"));break;case"middle":P=UC("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=UC("calc(".concat(w.length-1," * -").concat(l,")"));break}var L=[];if(f){var $=w[0].width,D=b.width;L.push("scale(".concat((be(D)?D/$:1)/$,")"))}return j&&L.push("rotate(".concat(j,", ").concat(E,", ").concat(O,")")),L.length&&(k.transform=L.join(" ")),q.createElement("text",kT({},qe(k,!0),{x:E,y:O,className:_e("recharts-text",N),textAnchor:h,fill:x.includes("url")?PM:x}),w.map(function(B,U){var _=B.words.join(T?"":" ");return q.createElement("tspan",{x:E,dy:U===0?P:l,key:"".concat(_,"-").concat(U)},_)}))};function No(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BRe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mO(t){let e,r,n;t.length!==2?(e=No,r=(l,c)=>No(t(l),c),n=(l,c)=>t(l)-c):(e=t===No||t===BRe?t:qRe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function qRe(){return 0}function n8(t){return t===null?NaN:+t}function*VRe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const URe=mO(No),Jm=URe.right;mO(n8).center;class DM extends Map{constructor(e,r=HRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(_M(this,e))}has(e){return super.has(_M(this,e))}set(e,r){return super.set(zRe(this,e),r)}delete(e){return super.delete(WRe(this,e))}}function _M({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function zRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function WRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function HRe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function GRe(t=No){if(t===No)return a8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function a8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const YRe=Math.sqrt(50),KRe=Math.sqrt(10),XRe=Math.sqrt(2);function rx(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=YRe?10:s>=KRe?5:s>=XRe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?rx(t,e,r*2):[l,c,u]}function IT(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,i]=n?rx(e,t,r):rx(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function OT(t,e,r){return e=+e,t=+t,r=+r,rx(t,e,r)[2]}function ET(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?OT(e,t,r):OT(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function $M(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function RM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function s8(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?a8:GRe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+m)),p=Math.min(n,Math.floor(e+(c-u)*f/c+m));s8(t,e,h,p,a)}const s=t[e];let i=r,l=n;for(Wu(t,r,e),a(t[n],s)>0&&Wu(t,r,n);i<l;){for(Wu(t,i,l),++i,--l;a(t[i],s)<0;)++i;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?Wu(t,r,l):(++l,Wu(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Wu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function JRe(t,e,r){if(t=Float64Array.from(VRe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return RM(t);if(e>=1)return $M(t);var n,a=(n-1)*e,s=Math.floor(a),i=$M(s8(t,s).subarray(0,s+1)),l=RM(t.subarray(s+1));return i+(l-i)*(a-s)}}function QRe(t,e,r=n8){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),i=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return i+(l-i)*(a-s)}}function ZRe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function Xn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const PT=Symbol("implicit");function hO(){var t=new DM,e=[],r=[],n=PT;function a(s){let i=t.get(s);if(i===void 0){if(n!==PT)return n;t.set(s,i=e.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new DM;for(const i of s)t.has(i)||t.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return hO(e,r).unknown(n)},Xn.apply(a,arguments),a}function Yf(){var t=hO().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=a<n,p=h?a:n,g=h?n:a;s=(g-p)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),p+=(g-p-s*(m-c))*d,i=s*(1-c),l&&(p=Math.round(p),i=Math.round(i));var y=ZRe(m).map(function(x){return p+s*x});return r(h?y.reverse():y)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return i},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return Yf(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Xn.apply(f(),arguments)}function o8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return o8(e())},t}function Yd(){return o8(Yf.apply(null,arguments).paddingInner(1))}function pO(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function i8(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Qm(){}var Kf=.7,nx=1/Kf,mc="\\s*([+-]?\\d+)\\s*",Xf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",La="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eMe=/^#([0-9a-f]{3,8})$/,tMe=new RegExp(`^rgb\\(${mc},${mc},${mc}\\)$`),rMe=new RegExp(`^rgb\\(${La},${La},${La}\\)$`),nMe=new RegExp(`^rgba\\(${mc},${mc},${mc},${Xf}\\)$`),aMe=new RegExp(`^rgba\\(${La},${La},${La},${Xf}\\)$`),sMe=new RegExp(`^hsl\\(${Xf},${La},${La}\\)$`),oMe=new RegExp(`^hsla\\(${Xf},${La},${La},${Xf}\\)$`),MM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pO(Qm,Jf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:LM,formatHex:LM,formatHex8:iMe,formatHsl:lMe,formatRgb:FM,toString:FM});function LM(){return this.rgb().formatHex()}function iMe(){return this.rgb().formatHex8()}function lMe(){return l8(this).formatHsl()}function FM(){return this.rgb().formatRgb()}function Jf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=eMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?BM(e):r===3?new Jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Zh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Zh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tMe.exec(t))?new Jr(e[1],e[2],e[3],1):(e=rMe.exec(t))?new Jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nMe.exec(t))?Zh(e[1],e[2],e[3],e[4]):(e=aMe.exec(t))?Zh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sMe.exec(t))?UM(e[1],e[2]/100,e[3]/100,1):(e=oMe.exec(t))?UM(e[1],e[2]/100,e[3]/100,e[4]):MM.hasOwnProperty(t)?BM(MM[t]):t==="transparent"?new Jr(NaN,NaN,NaN,0):null}function BM(t){return new Jr(t>>16&255,t>>8&255,t&255,1)}function Zh(t,e,r,n){return n<=0&&(t=e=r=NaN),new Jr(t,e,r,n)}function cMe(t){return t instanceof Qm||(t=Jf(t)),t?(t=t.rgb(),new Jr(t.r,t.g,t.b,t.opacity)):new Jr}function DT(t,e,r,n){return arguments.length===1?cMe(t):new Jr(t,e,r,n??1)}function Jr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}pO(Jr,DT,i8(Qm,{brighter(t){return t=t==null?nx:Math.pow(nx,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Kf:Math.pow(Kf,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jr(Mi(this.r),Mi(this.g),Mi(this.b),ax(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qM,formatHex:qM,formatHex8:uMe,formatRgb:VM,toString:VM}));function qM(){return`#${Ni(this.r)}${Ni(this.g)}${Ni(this.b)}`}function uMe(){return`#${Ni(this.r)}${Ni(this.g)}${Ni(this.b)}${Ni((isNaN(this.opacity)?1:this.opacity)*255)}`}function VM(){const t=ax(this.opacity);return`${t===1?"rgb(":"rgba("}${Mi(this.r)}, ${Mi(this.g)}, ${Mi(this.b)}${t===1?")":`, ${t})`}`}function ax(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Mi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ni(t){return t=Mi(t),(t<16?"0":"")+t.toString(16)}function UM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new sa(t,e,r,n)}function l8(t){if(t instanceof sa)return new sa(t.h,t.s,t.l,t.opacity);if(t instanceof Qm||(t=Jf(t)),!t)return new sa;if(t instanceof sa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new sa(i,l,c,t.opacity)}function dMe(t,e,r,n){return arguments.length===1?l8(t):new sa(t,e,r,n??1)}function sa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}pO(sa,dMe,i8(Qm,{brighter(t){return t=t==null?nx:Math.pow(nx,t),new sa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Kf:Math.pow(Kf,t),new sa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Jr(zC(t>=240?t-240:t+120,a,n),zC(t,a,n),zC(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new sa(zM(this.h),ep(this.s),ep(this.l),ax(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ax(this.opacity);return`${t===1?"hsl(":"hsla("}${zM(this.h)}, ${ep(this.s)*100}%, ${ep(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zM(t){return t=(t||0)%360,t<0?t+360:t}function ep(t){return Math.max(0,Math.min(1,t||0))}function zC(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const gO=t=>()=>t;function fMe(t,e){return function(r){return t+r*e}}function mMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function hMe(t){return(t=+t)==1?c8:function(e,r){return r-e?mMe(e,r,t):gO(isNaN(e)?r:e)}}function c8(t,e){var r=e-t;return r?fMe(t,r):gO(isNaN(t)?e:t)}const WM=function t(e){var r=hMe(e);function n(a,s){var i=r((a=DT(a)).r,(s=DT(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=c8(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function pMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function gMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=gu(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function bMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function sx(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function xMe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=gu(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var _T=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WC=new RegExp(_T.source,"g");function vMe(t){return function(){return t}}function jMe(t){return function(e){return t(e)+""}}function wMe(t,e){var r=_T.lastIndex=WC.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=_T.exec(t))&&(a=WC.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:sx(n,a)})),r=WC.lastIndex;return r<e.length&&(s=e.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?jMe(c[0].x):vMe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function gu(t,e){var r=typeof e,n;return e==null||r==="boolean"?gO(e):(r==="number"?sx:r==="string"?(n=Jf(e))?(e=n,WM):wMe:e instanceof Jf?WM:e instanceof Date?bMe:gMe(e)?pMe:Array.isArray(e)?yMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xMe:sx)(t,e)}function yO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function CMe(t,e){e===void 0&&(e=t,t=gu);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function NMe(t){return function(){return t}}function ox(t){return+t}var HM=[0,1];function Lr(t){return t}function $T(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:NMe(isNaN(e)?NaN:.5)}function SMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function AMe(t,e,r){var n=t[0],a=t[1],s=e[0],i=e[1];return a<n?(n=$T(a,n),s=r(i,s)):(n=$T(n,a),s=r(s,i)),function(l){return s(n(l))}}function TMe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=$T(t[i],t[i+1]),s[i]=r(e[i],e[i+1]);return function(l){var c=Jm(t,l,1,n)-1;return s[c](a[c](l))}}function Zm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pw(){var t=HM,e=HM,r=gu,n,a,s,i=Lr,l,c,u;function d(){var m=Math.min(t.length,e.length);return i!==Lr&&(i=SMe(t[0],t[m-1])),l=m>2?TMe:AMe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(n),e,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(e,t.map(n),sx)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,ox),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=yO,d()},f.clamp=function(m){return arguments.length?(i=m?!0:Lr,d()):i!==Lr},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,a=h,d()}}function bO(){return pw()(Lr,Lr)}function kMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ix(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function $c(t){return t=ix(Math.abs(t)),t?t[1]:NaN}function IMe(t,e){return function(r,n){for(var a=r.length,s=[],i=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return s.reverse().join(e)}}function OMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var EMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qf(t){if(!(e=EMe.exec(t)))throw new Error("invalid format: "+t);var e;return new xO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qf.prototype=xO.prototype;function xO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PMe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var u8;function DMe(t,e){var r=ix(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(u8=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ix(t,Math.max(0,e+s-1))[0]}function GM(t,e){var r=ix(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const YM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>GM(t*100,e),r:GM,s:DMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KM(t){return t}var XM=Array.prototype.map,JM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _Me(t){var e=t.grouping===void 0||t.thousands===void 0?KM:IMe(XM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?KM:OMe(XM.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Qf(f);var m=f.fill,h=f.align,p=f.sign,g=f.symbol,y=f.zero,x=f.width,b=f.comma,w=f.precision,S=f.trim,C=f.type;C==="n"?(b=!0,C="g"):YM[C]||(w===void 0&&(w=12),S=!0,C="g"),(y||m==="0"&&h==="=")&&(y=!0,m="0",h="=");var j=g==="$"?r:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",N=g==="$"?n:/[%p]/.test(C)?i:"",T=YM[C],k=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(O){var P=j,L=N,$,D,B;if(C==="c")L=T(O)+L,O="";else{O=+O;var U=O<0||1/O<0;if(O=isNaN(O)?c:T(Math.abs(O),w),S&&(O=PMe(O)),U&&+O==0&&p!=="+"&&(U=!1),P=(U?p==="("?p:l:p==="-"||p==="("?"":p)+P,L=(C==="s"?JM[8+u8/3]:"")+L+(U&&p==="("?")":""),k){for($=-1,D=O.length;++$<D;)if(B=O.charCodeAt($),48>B||B>57){L=(B===46?a+O.slice($+1):O.slice($))+L,O=O.slice(0,$);break}}}b&&!y&&(O=e(O,1/0));var _=P.length+O.length+L.length,R=_<x?new Array(x-_+1).join(m):"";switch(b&&y&&(O=e(R+O,R.length?x-L.length:1/0),R=""),h){case"<":O=P+O+L+R;break;case"=":O=P+R+O+L;break;case"^":O=R.slice(0,_=R.length>>1)+P+O+L+R.slice(_);break;default:O=R+P+O+L;break}return s(O)}return E.toString=function(){return f+""},E}function d(f,m){var h=u((f=Qf(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor($c(m)/3)))*3,g=Math.pow(10,-p),y=JM[8+p/3];return function(x){return h(g*x)+y}}return{format:u,formatPrefix:d}}var tp,vO,d8;$Me({thousands:",",grouping:[3],currency:["$",""]});function $Me(t){return tp=_Me(t),vO=tp.format,d8=tp.formatPrefix,tp}function RMe(t){return Math.max(0,-$c(Math.abs(t)))}function MMe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($c(e)/3)))*3-$c(Math.abs(t)))}function LMe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$c(e)-$c(t))+1}function f8(t,e,r,n){var a=ET(t,e,r),s;switch(n=Qf(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=MMe(a,i))&&(n.precision=s),d8(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=LMe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=RMe(a))&&(n.precision=s-(n.type==="%")*2);break}}return vO(n)}function Ho(t){var e=t.domain;return t.ticks=function(r){var n=e();return IT(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return f8(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=OT(i,l,r),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function lx(){var t=bO();return t.copy=function(){return Zm(t,lx())},Xn.apply(t,arguments),Ho(t)}function m8(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,ox),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return m8(t).unknown(e)},t=arguments.length?Array.from(t,ox):[0,1],Ho(r)}function h8(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function QM(t){return Math.log(t)}function ZM(t){return Math.exp(t)}function FMe(t){return-Math.log(-t)}function BMe(t){return-Math.exp(-t)}function qMe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function VMe(t){return t===10?qMe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function UMe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function eL(t){return(e,r)=>-t(-e,r)}function jO(t){const e=t(QM,ZM),r=e.domain;let n=10,a,s;function i(){return a=UMe(n),s=VMe(n),r()[0]<0?(a=eL(a),s=eL(s),t(FMe,BMe)):t(QM,ZM),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),p,g;const y=l==null?10:+l;let x=[];if(!(n%1)&&h-m<y){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(p=1;p<n;++p)if(g=m<0?p/s(-m):p*s(m),!(g<u)){if(g>d)break;x.push(g)}}else for(;m<=h;++m)for(p=n-1;p>=1;--p)if(g=m>0?p/s(-m):p*s(m),!(g<u)){if(g>d)break;x.push(g)}x.length*2<y&&(x=IT(u,d,y))}else x=IT(m,h,Math.min(h-m,y)).map(s);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Qf(c)).precision==null&&(c.trim=!0),c=vO(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(h8(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function p8(){const t=jO(pw()).domain([1,10]);return t.copy=()=>Zm(t,p8()).base(t.base()),Xn.apply(t,arguments),t}function tL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function rL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function wO(t){var e=1,r=t(tL(e),rL(e));return r.constant=function(n){return arguments.length?t(tL(e=+n),rL(e)):e},Ho(r)}function g8(){var t=wO(pw());return t.copy=function(){return Zm(t,g8()).constant(t.constant())},Xn.apply(t,arguments)}function nL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zMe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function WMe(t){return t<0?-t*t:t*t}function CO(t){var e=t(Lr,Lr),r=1;function n(){return r===1?t(Lr,Lr):r===.5?t(zMe,WMe):t(nL(r),nL(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Ho(e)}function NO(){var t=CO(pw());return t.copy=function(){return Zm(t,NO()).exponent(t.exponent())},Xn.apply(t,arguments),t}function HMe(){return NO.apply(null,arguments).exponent(.5)}function aL(t){return Math.sign(t)*t*t}function GMe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function y8(){var t=bO(),e=[0,1],r=!1,n;function a(s){var i=GMe(t(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return t.invert(aL(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,ox)).map(aL)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return y8(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Xn.apply(a,arguments),Ho(a)}function b8(){var t=[],e=[],r=[],n;function a(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=QRe(t,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[Jm(r,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(No),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return b8().domain(t).range(e).unknown(n)},Xn.apply(s,arguments)}function x8(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Jm(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return x8().domain([t,e]).range(a).unknown(s)},Xn.apply(Ho(i),arguments)}function v8(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[Jm(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[t[i-1],t[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return v8().domain(t).range(e).unknown(r)},Xn.apply(a,arguments)}const HC=new Date,GC=new Date;function or(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<i);return c},a.filter=s=>or(i=>{if(i>=i)for(;t(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),r&&(a.count=(s,i)=>(HC.setTime(+s),GC.setTime(+i),t(HC),t(GC),Math.floor(r(HC,GC))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const cx=or(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?or(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):cx);cx.range;const cs=1e3,qn=cs*60,us=qn*60,Os=us*24,SO=Os*7,sL=Os*30,YC=Os*365,Si=or(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*cs)},(t,e)=>(e-t)/cs,t=>t.getUTCSeconds());Si.range;const AO=or(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cs)},(t,e)=>{t.setTime(+t+e*qn)},(t,e)=>(e-t)/qn,t=>t.getMinutes());AO.range;const TO=or(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qn)},(t,e)=>(e-t)/qn,t=>t.getUTCMinutes());TO.range;const kO=or(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cs-t.getMinutes()*qn)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getHours());kO.range;const IO=or(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCHours());IO.range;const eh=or(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qn)/Os,t=>t.getDate()-1);eh.range;const gw=or(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Os,t=>t.getUTCDate()-1);gw.range;const j8=or(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Os,t=>Math.floor(t/Os));j8.range;function hl(t){return or(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qn)/SO)}const yw=hl(0),ux=hl(1),YMe=hl(2),KMe=hl(3),Rc=hl(4),XMe=hl(5),JMe=hl(6);yw.range;ux.range;YMe.range;KMe.range;Rc.range;XMe.range;JMe.range;function pl(t){return or(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/SO)}const bw=pl(0),dx=pl(1),QMe=pl(2),ZMe=pl(3),Mc=pl(4),eLe=pl(5),tLe=pl(6);bw.range;dx.range;QMe.range;ZMe.range;Mc.range;eLe.range;tLe.range;const OO=or(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());OO.range;const EO=or(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());EO.range;const Es=or(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:or(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Es.range;const Ps=or(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:or(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ps.range;function w8(t,e,r,n,a,s){const i=[[Si,1,cs],[Si,5,5*cs],[Si,15,15*cs],[Si,30,30*cs],[s,1,qn],[s,5,5*qn],[s,15,15*qn],[s,30,30*qn],[a,1,us],[a,3,3*us],[a,6,6*us],[a,12,12*us],[n,1,Os],[n,2,2*Os],[r,1,SO],[e,1,sL],[e,3,3*sL],[t,1,YC]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),p=h?h.range(u,+d+1):[];return m?p.reverse():p}function c(u,d,f){const m=Math.abs(d-u)/f,h=mO(([,,y])=>y).right(i,m);if(h===i.length)return t.every(ET(u/YC,d/YC,f));if(h===0)return cx.every(Math.max(ET(u,d,f),1));const[p,g]=i[m/i[h-1][2]<i[h][2]/m?h-1:h];return p.every(g)}return[l,c]}const[rLe,nLe]=w8(Ps,EO,bw,j8,IO,TO),[aLe,sLe]=w8(Es,OO,yw,eh,kO,AO);function KC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function XC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function oLe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=Gu(a),d=Yu(a),f=Gu(s),m=Yu(s),h=Gu(i),p=Yu(i),g=Gu(l),y=Yu(l),x=Gu(c),b=Yu(c),w={a:U,A:_,b:R,B:F,c:null,d:dL,e:dL,f:ILe,g:FLe,G:qLe,H:ALe,I:TLe,j:kLe,L:C8,m:OLe,M:ELe,p:G,q:W,Q:hL,s:pL,S:PLe,u:DLe,U:_Le,V:$Le,w:RLe,W:MLe,x:null,X:null,y:LLe,Y:BLe,Z:VLe,"%":mL},S={a:Z,A:fe,b:Te,B:ne,c:null,d:fL,e:fL,f:HLe,g:rFe,G:aFe,H:ULe,I:zLe,j:WLe,L:S8,m:GLe,M:YLe,p:K,q:le,Q:hL,s:pL,S:KLe,u:XLe,U:JLe,V:QLe,w:ZLe,W:eFe,x:null,X:null,y:tFe,Y:nFe,Z:sFe,"%":mL},C={a:E,A:O,b:P,B:L,c:$,d:cL,e:cL,f:wLe,g:lL,G:iL,H:uL,I:uL,j:bLe,L:jLe,m:yLe,M:xLe,p:k,q:gLe,Q:NLe,s:SLe,S:vLe,u:dLe,U:fLe,V:mLe,w:uLe,W:hLe,x:D,X:B,y:lL,Y:iL,Z:pLe,"%":CLe};w.x=j(r,w),w.X=j(n,w),w.c=j(e,w),S.x=j(r,S),S.X=j(n,S),S.c=j(e,S);function j(J,ee){return function(H){var z=[],me=-1,we=0,Ie=J.length,Ne,ir,kn;for(H instanceof Date||(H=new Date(+H));++me<Ie;)J.charCodeAt(me)===37&&(z.push(J.slice(we,me)),(ir=oL[Ne=J.charAt(++me)])!=null?Ne=J.charAt(++me):ir=Ne==="e"?" ":"0",(kn=ee[Ne])&&(Ne=kn(H,ir)),z.push(Ne),we=me+1);return z.push(J.slice(we,me)),z.join("")}}function N(J,ee){return function(H){var z=Hu(1900,void 0,1),me=T(z,J,H+="",0),we,Ie;if(me!=H.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ee&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(we=XC(Hu(z.y,0,1)),Ie=we.getUTCDay(),we=Ie>4||Ie===0?dx.ceil(we):dx(we),we=gw.offset(we,(z.V-1)*7),z.y=we.getUTCFullYear(),z.m=we.getUTCMonth(),z.d=we.getUTCDate()+(z.w+6)%7):(we=KC(Hu(z.y,0,1)),Ie=we.getDay(),we=Ie>4||Ie===0?ux.ceil(we):ux(we),we=eh.offset(we,(z.V-1)*7),z.y=we.getFullYear(),z.m=we.getMonth(),z.d=we.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Ie="Z"in z?XC(Hu(z.y,0,1)).getUTCDay():KC(Hu(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Ie+5)%7:z.w+z.U*7-(Ie+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,XC(z)):KC(z)}}function T(J,ee,H,z){for(var me=0,we=ee.length,Ie=H.length,Ne,ir;me<we;){if(z>=Ie)return-1;if(Ne=ee.charCodeAt(me++),Ne===37){if(Ne=ee.charAt(me++),ir=C[Ne in oL?ee.charAt(me++):Ne],!ir||(z=ir(J,H,z))<0)return-1}else if(Ne!=H.charCodeAt(z++))return-1}return z}function k(J,ee,H){var z=u.exec(ee.slice(H));return z?(J.p=d.get(z[0].toLowerCase()),H+z[0].length):-1}function E(J,ee,H){var z=h.exec(ee.slice(H));return z?(J.w=p.get(z[0].toLowerCase()),H+z[0].length):-1}function O(J,ee,H){var z=f.exec(ee.slice(H));return z?(J.w=m.get(z[0].toLowerCase()),H+z[0].length):-1}function P(J,ee,H){var z=x.exec(ee.slice(H));return z?(J.m=b.get(z[0].toLowerCase()),H+z[0].length):-1}function L(J,ee,H){var z=g.exec(ee.slice(H));return z?(J.m=y.get(z[0].toLowerCase()),H+z[0].length):-1}function $(J,ee,H){return T(J,e,ee,H)}function D(J,ee,H){return T(J,r,ee,H)}function B(J,ee,H){return T(J,n,ee,H)}function U(J){return i[J.getDay()]}function _(J){return s[J.getDay()]}function R(J){return c[J.getMonth()]}function F(J){return l[J.getMonth()]}function G(J){return a[+(J.getHours()>=12)]}function W(J){return 1+~~(J.getMonth()/3)}function Z(J){return i[J.getUTCDay()]}function fe(J){return s[J.getUTCDay()]}function Te(J){return c[J.getUTCMonth()]}function ne(J){return l[J.getUTCMonth()]}function K(J){return a[+(J.getUTCHours()>=12)]}function le(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ee=j(J+="",w);return ee.toString=function(){return J},ee},parse:function(J){var ee=N(J+="",!1);return ee.toString=function(){return J},ee},utcFormat:function(J){var ee=j(J+="",S);return ee.toString=function(){return J},ee},utcParse:function(J){var ee=N(J+="",!0);return ee.toString=function(){return J},ee}}}var oL={"-":"",_:" ",0:"0"},pr=/^\s*\d+/,iLe=/^%/,lLe=/[\\^$*+?|[\]().{}]/g;function Xe(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function cLe(t){return t.replace(lLe,"\\$&")}function Gu(t){return new RegExp("^(?:"+t.map(cLe).join("|")+")","i")}function Yu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function uLe(t,e,r){var n=pr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function dLe(t,e,r){var n=pr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function fLe(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function mLe(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function hLe(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function iL(t,e,r){var n=pr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function lL(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function pLe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gLe(t,e,r){var n=pr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function yLe(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function cL(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function bLe(t,e,r){var n=pr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function uL(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function xLe(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function vLe(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function jLe(t,e,r){var n=pr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function wLe(t,e,r){var n=pr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function CLe(t,e,r){var n=iLe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function NLe(t,e,r){var n=pr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function SLe(t,e,r){var n=pr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function dL(t,e){return Xe(t.getDate(),e,2)}function ALe(t,e){return Xe(t.getHours(),e,2)}function TLe(t,e){return Xe(t.getHours()%12||12,e,2)}function kLe(t,e){return Xe(1+eh.count(Es(t),t),e,3)}function C8(t,e){return Xe(t.getMilliseconds(),e,3)}function ILe(t,e){return C8(t,e)+"000"}function OLe(t,e){return Xe(t.getMonth()+1,e,2)}function ELe(t,e){return Xe(t.getMinutes(),e,2)}function PLe(t,e){return Xe(t.getSeconds(),e,2)}function DLe(t){var e=t.getDay();return e===0?7:e}function _Le(t,e){return Xe(yw.count(Es(t)-1,t),e,2)}function N8(t){var e=t.getDay();return e>=4||e===0?Rc(t):Rc.ceil(t)}function $Le(t,e){return t=N8(t),Xe(Rc.count(Es(t),t)+(Es(t).getDay()===4),e,2)}function RLe(t){return t.getDay()}function MLe(t,e){return Xe(ux.count(Es(t)-1,t),e,2)}function LLe(t,e){return Xe(t.getFullYear()%100,e,2)}function FLe(t,e){return t=N8(t),Xe(t.getFullYear()%100,e,2)}function BLe(t,e){return Xe(t.getFullYear()%1e4,e,4)}function qLe(t,e){var r=t.getDay();return t=r>=4||r===0?Rc(t):Rc.ceil(t),Xe(t.getFullYear()%1e4,e,4)}function VLe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xe(e/60|0,"0",2)+Xe(e%60,"0",2)}function fL(t,e){return Xe(t.getUTCDate(),e,2)}function ULe(t,e){return Xe(t.getUTCHours(),e,2)}function zLe(t,e){return Xe(t.getUTCHours()%12||12,e,2)}function WLe(t,e){return Xe(1+gw.count(Ps(t),t),e,3)}function S8(t,e){return Xe(t.getUTCMilliseconds(),e,3)}function HLe(t,e){return S8(t,e)+"000"}function GLe(t,e){return Xe(t.getUTCMonth()+1,e,2)}function YLe(t,e){return Xe(t.getUTCMinutes(),e,2)}function KLe(t,e){return Xe(t.getUTCSeconds(),e,2)}function XLe(t){var e=t.getUTCDay();return e===0?7:e}function JLe(t,e){return Xe(bw.count(Ps(t)-1,t),e,2)}function A8(t){var e=t.getUTCDay();return e>=4||e===0?Mc(t):Mc.ceil(t)}function QLe(t,e){return t=A8(t),Xe(Mc.count(Ps(t),t)+(Ps(t).getUTCDay()===4),e,2)}function ZLe(t){return t.getUTCDay()}function eFe(t,e){return Xe(dx.count(Ps(t)-1,t),e,2)}function tFe(t,e){return Xe(t.getUTCFullYear()%100,e,2)}function rFe(t,e){return t=A8(t),Xe(t.getUTCFullYear()%100,e,2)}function nFe(t,e){return Xe(t.getUTCFullYear()%1e4,e,4)}function aFe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Mc(t):Mc.ceil(t),Xe(t.getUTCFullYear()%1e4,e,4)}function sFe(){return"+0000"}function mL(){return"%"}function hL(t){return+t}function pL(t){return Math.floor(+t/1e3)}var Tl,T8,k8;oFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oFe(t){return Tl=oLe(t),T8=Tl.format,Tl.parse,k8=Tl.utcFormat,Tl.utcParse,Tl}function iFe(t){return new Date(t)}function lFe(t){return t instanceof Date?+t:+new Date(+t)}function PO(t,e,r,n,a,s,i,l,c,u){var d=bO(),f=d.invert,m=d.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),S=u("%Y");function C(j){return(c(j)<j?h:l(j)<j?p:i(j)<j?g:s(j)<j?y:n(j)<j?a(j)<j?x:b:r(j)<j?w:S)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?m(Array.from(j,lFe)):m().map(iFe)},d.ticks=function(j){var N=m();return t(N[0],N[N.length-1],j??10)},d.tickFormat=function(j,N){return N==null?C:u(N)},d.nice=function(j){var N=m();return(!j||typeof j.range!="function")&&(j=e(N[0],N[N.length-1],j??10)),j?m(h8(N,j)):d},d.copy=function(){return Zm(d,PO(t,e,r,n,a,s,i,l,c,u))},d}function cFe(){return Xn.apply(PO(aLe,sLe,Es,OO,yw,eh,kO,AO,Si,T8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uFe(){return Xn.apply(PO(rLe,nLe,Ps,EO,bw,gw,IO,TO,Si,k8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xw(){var t=0,e=1,r,n,a,s,i=Lr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var h,p;return arguments.length?([h,p]=m,i=f(h,p),u):[i(0),i(1)]}}return u.range=d(gu),u.rangeRound=d(yO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Go(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function I8(){var t=Ho(xw()(Lr));return t.copy=function(){return Go(t,I8())},Bs.apply(t,arguments)}function O8(){var t=jO(xw()).domain([1,10]);return t.copy=function(){return Go(t,O8()).base(t.base())},Bs.apply(t,arguments)}function E8(){var t=wO(xw());return t.copy=function(){return Go(t,E8()).constant(t.constant())},Bs.apply(t,arguments)}function DO(){var t=CO(xw());return t.copy=function(){return Go(t,DO()).exponent(t.exponent())},Bs.apply(t,arguments)}function dFe(){return DO.apply(null,arguments).exponent(.5)}function P8(){var t=[],e=Lr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Jm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(No),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>JRe(t,s/n))},r.copy=function(){return P8(e).domain(t)},Bs.apply(r,arguments)}function vw(){var t=0,e=.5,r=1,n=1,a,s,i,l,c,u=Lr,d,f=!1,m;function h(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-s)*(n*g<n*s?l:c),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,r]=g,a=d(t=+t),s=d(e=+e),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h):[t,e,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=CMe(g,[x,b,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(gu),h.rangeRound=p(yO),h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return d=g,a=g(t),s=g(e),i=g(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h}}function D8(){var t=Ho(vw()(Lr));return t.copy=function(){return Go(t,D8())},Bs.apply(t,arguments)}function _8(){var t=jO(vw()).domain([.1,1,10]);return t.copy=function(){return Go(t,_8()).base(t.base())},Bs.apply(t,arguments)}function $8(){var t=wO(vw());return t.copy=function(){return Go(t,$8()).constant(t.constant())},Bs.apply(t,arguments)}function _O(){var t=CO(vw());return t.copy=function(){return Go(t,_O()).exponent(t.exponent())},Bs.apply(t,arguments)}function fFe(){return _O.apply(null,arguments).exponent(.5)}const gL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yf,scaleDiverging:D8,scaleDivergingLog:_8,scaleDivergingPow:_O,scaleDivergingSqrt:fFe,scaleDivergingSymlog:$8,scaleIdentity:m8,scaleImplicit:PT,scaleLinear:lx,scaleLog:p8,scaleOrdinal:hO,scalePoint:Yd,scalePow:NO,scaleQuantile:b8,scaleQuantize:x8,scaleRadial:y8,scaleSequential:I8,scaleSequentialLog:O8,scaleSequentialPow:DO,scaleSequentialQuantile:P8,scaleSequentialSqrt:dFe,scaleSequentialSymlog:E8,scaleSqrt:HMe,scaleSymlog:g8,scaleThreshold:v8,scaleTime:cFe,scaleUtc:uFe,tickFormat:f8},Symbol.toStringTag,{value:"Module"}));var mFe=iu;function hFe(t,e,r){for(var n=-1,a=t.length;++n<a;){var s=t[n],i=e(s);if(i!=null&&(l===void 0?i===i&&!mFe(i):r(i,l)))var l=i,c=s}return c}var jw=hFe;function pFe(t,e){return t>e}var R8=pFe,gFe=jw,yFe=R8,bFe=hu;function xFe(t){return t&&t.length?gFe(t,bFe,yFe):void 0}var vFe=xFe;const ww=Ze(vFe);function jFe(t,e){return t<e}var M8=jFe,wFe=jw,CFe=M8,NFe=hu;function SFe(t){return t&&t.length?wFe(t,NFe,CFe):void 0}var AFe=SFe;const Cw=Ze(AFe);var TFe=GI,kFe=Wo,IFe=Wz,OFe=on;function EFe(t,e){var r=OFe(t)?TFe:IFe;return r(t,kFe(e))}var PFe=EFe,DFe=Uz,_Fe=PFe;function $Fe(t,e){return DFe(_Fe(t,e),1)}var RFe=$Fe;const MFe=Ze(RFe);var LFe=cO;function FFe(t,e){return LFe(t,e)}var BFe=FFe;const $O=Ze(BFe);var yu=1e9,qFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},MO,Dt=!0,Gn="[DecimalError] ",Li=Gn+"Invalid argument: ",RO=Gn+"Exponent out of range: ",bu=Math.floor,mi=Math.pow,VFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fn,cr=1e7,Nt=7,L8=9007199254740991,fx=bu(L8/Nt),ve={};ve.absoluteValue=ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ve.comparedTo=ve.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Nt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ve.dividedBy=ve.div=function(t){return js(this,new this.constructor(t))};ve.dividedToIntegerBy=ve.idiv=function(t){var e=this,r=e.constructor;return ht(js(e,new r(t),0,1),r.precision)};ve.equals=ve.eq=function(t){return!this.cmp(t)};ve.exponent=function(){return Qt(this)};ve.greaterThan=ve.gt=function(t){return this.cmp(t)>0};ve.greaterThanOrEqualTo=ve.gte=function(t){return this.cmp(t)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(t){return this.cmp(t)<0};ve.lessThanOrEqualTo=ve.lte=function(t){return this.cmp(t)<1};ve.logarithm=ve.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(fn))throw Error(Gn+"NaN");if(r.s<1)throw Error(Gn+(r.s?"NaN":"-Infinity"));return r.eq(fn)?new n(0):(Dt=!1,e=js(Zf(r,s),Zf(t,s),s),Dt=!0,ht(e,a))};ve.minus=ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?q8(e,t):F8(e,(t.s=-t.s,t))};ve.modulo=ve.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Gn+"NaN");return r.s?(Dt=!1,e=js(r,t,0,1).times(t),Dt=!0,r.minus(e)):ht(new n(r),a)};ve.naturalExponential=ve.exp=function(){return B8(this)};ve.naturalLogarithm=ve.ln=function(){return Zf(this)};ve.negated=ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ve.plus=ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?F8(e,t):q8(e,(t.s=-t.s,t))};ve.precision=ve.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Li+t);if(e=Qt(a)+1,n=a.d.length-1,r=n*Nt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ve.squareRoot=ve.sqrt=function(){var t,e,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Gn+"NaN")}for(t=Qt(l),Dt=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=ka(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=bu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(js(l,s,i+2)).times(.5),ka(s.d).slice(0,i)===(e=ka(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(ht(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Dt=!0,ht(n,r)};ve.times=ve.mul=function(t){var e,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+h[n]*m[a-n-1]+e,s[a--]=l%cr|0,e=l/cr|0;s[a]=(s[a]+e)%cr|0}for(;!s[--i];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Dt?ht(t,f.precision):t};ve.toDecimalPlaces=ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ba(t,0,yu),e===void 0?e=n.rounding:Ba(e,0,8),ht(r,t+Qt(r)+1,e))};ve.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=el(n,!0):(Ba(t,0,yu),e===void 0?e=a.rounding:Ba(e,0,8),n=ht(new a(n),t+1,e),r=el(n,!0,t+1)),r};ve.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?el(a):(Ba(t,0,yu),e===void 0?e=s.rounding:Ba(e,0,8),n=ht(new s(a),t+Qt(a)+1,e),r=el(n.abs(),!1,t+Qt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ve.toInteger=ve.toint=function(){var t=this,e=t.constructor;return ht(new e(t),Qt(t)+1,e.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(t){var e,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(fn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Gn+"Infinity");return l}if(l.eq(fn))return l;if(n=c.precision,t.eq(fn))return ht(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,s=l.s,i){if((r=d<0?-d:d)<=L8){for(a=new c(fn),e=Math.ceil(n/Nt+4),Dt=!1;r%2&&(a=a.times(l),bL(a.d,e)),r=bu(r/2),r!==0;)l=l.times(l),bL(l.d,e);return Dt=!0,t.s<0?new c(fn).div(a):ht(a,n)}}else if(s<0)throw Error(Gn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Dt=!1,a=t.times(Zf(l,n+u)),Dt=!0,a=B8(a),a.s=s,a};ve.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=Qt(a),n=el(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ba(t,1,yu),e===void 0?e=s.rounding:Ba(e,0,8),a=ht(new s(a),t,e),r=Qt(a),n=el(a,t<=r||r<=s.toExpNeg,t)),n};ve.toSignificantDigits=ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ba(t,1,yu),e===void 0?e=n.rounding:Ba(e,0,8)),ht(new n(r),t,e)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Qt(t),r=t.constructor;return el(t,e<=r.toExpNeg||e>=r.toExpPos)};function F8(t,e){var r,n,a,s,i,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Dt?ht(e,f):e;if(c=t.d,u=e.d,i=t.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Nt),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/cr|0,c[s]%=cr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Dt?ht(e,f):e}function Ba(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Li+t)}function ka(t){var e,r,n,a=t.length-1,s="",i=t[0];if(a>0){for(s+=i,e=1;e<a;e++)n=t[e]+"",r=Nt-n.length,r&&(s+=Qs(r)),s+=n;i=t[e],n=i+"",r=Nt-n.length,r&&(s+=Qs(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var js=function(){function t(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%cr|0,i=s/cr|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*cr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,h,p,g,y,x,b,w,S,C,j,N,T,k=n.constructor,E=n.s==a.s?1:-1,O=n.d,P=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Gn+"Division by zero");for(c=n.e-a.e,N=P.length,C=O.length,h=new k(E),p=h.d=[],u=0;P[u]==(O[u]||0);)++u;if(P[u]>(O[u]||0)&&--c,s==null?b=s=k.precision:i?b=s+(Qt(n)-Qt(a))+1:b=s,b<0)return new k(0);if(b=b/Nt+2|0,u=0,N==1)for(d=0,P=P[0],b++;(u<C||d)&&b--;u++)w=d*cr+(O[u]||0),p[u]=w/P|0,d=w%P|0;else{for(d=cr/(P[0]+1)|0,d>1&&(P=t(P,d),O=t(O,d),N=P.length,C=O.length),S=N,g=O.slice(0,N),y=g.length;y<N;)g[y++]=0;T=P.slice(),T.unshift(0),j=P[0],P[1]>=cr/2&&++j;do d=0,l=e(P,g,N,y),l<0?(x=g[0],N!=y&&(x=x*cr+(g[1]||0)),d=x/j|0,d>1?(d>=cr&&(d=cr-1),f=t(P,d),m=f.length,y=g.length,l=e(f,g,m,y),l==1&&(d--,r(f,N<m?T:P,m))):(d==0&&(l=d=1),f=P.slice()),m=f.length,m<y&&f.unshift(0),r(g,f,y),l==-1&&(y=g.length,l=e(P,g,N,y),l<1&&(d++,r(g,N<y?T:P,y))),y=g.length):l===0&&(d++,g=[0]),p[u++]=d,l&&g[0]?g[y++]=O[S]||0:(g=[O[S]],y=1);while((S++<C||g[0]!==void 0)&&b--)}return p[0]||p.shift(),h.e=c,ht(h,i?s+Qt(h)+1:s)}}();function B8(t,e){var r,n,a,s,i,l,c=0,u=0,d=t.constructor,f=d.precision;if(Qt(t)>16)throw Error(RO+Qt(t));if(!t.s)return new d(fn);for(Dt=!1,l=f,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(mi(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(fn),d.precision=l;;){if(a=ht(a.times(t),l),r=r.times(++c),i=s.plus(js(a,r,l)),ka(i.d).slice(0,l)===ka(s.d).slice(0,l)){for(;u--;)s=ht(s.times(s),l);return d.precision=f,e==null?(Dt=!0,ht(s,f)):s}s=i}}function Qt(t){for(var e=t.e*Nt,r=t.d[0];r>=10;r/=10)e++;return e}function JC(t,e,r){if(e>t.LN10.sd())throw Dt=!0,r&&(t.precision=r),Error(Gn+"LN10 precision limit exceeded");return ht(new t(t.LN10),e)}function Qs(t){for(var e="";t--;)e+="0";return e}function Zf(t,e){var r,n,a,s,i,l,c,u,d,f=1,m=10,h=t,p=h.d,g=h.constructor,y=g.precision;if(h.s<1)throw Error(Gn+(h.s?"NaN":"-Infinity"));if(h.eq(fn))return new g(0);if(e==null?(Dt=!1,u=y):u=e,h.eq(10))return e==null&&(Dt=!0),JC(g,u);if(u+=m,g.precision=u,r=ka(p),n=r.charAt(0),s=Qt(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=ka(h.d),n=r.charAt(0),f++;s=Qt(h),n>1?(h=new g("0."+r),s++):h=new g(n+"."+r.slice(1))}else return c=JC(g,u+2,y).times(s+""),h=Zf(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=y,e==null?(Dt=!0,ht(h,y)):h;for(l=i=h=js(h.minus(fn),h.plus(fn),u),d=ht(h.times(h),u),a=3;;){if(i=ht(i.times(d),u),c=l.plus(js(i,new g(a),u)),ka(c.d).slice(0,u)===ka(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(JC(g,u+2,y).times(s+""))),l=js(l,new g(f),u),g.precision=y,e==null?(Dt=!0,ht(l,y)):l;l=c,a+=2}}function yL(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=bu(r/Nt),t.d=[],n=(r+1)%Nt,r<0&&(n+=Nt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Nt;n<a;)t.d.push(+e.slice(n,n+=Nt));e=e.slice(n),n=Nt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Dt&&(t.e>fx||t.e<-fx))throw Error(RO+r)}else t.s=0,t.e=0,t.d=[0];return t}function ht(t,e,r){var n,a,s,i,l,c,u,d,f=t.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=Nt,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Nt),s=f.length,d>=s)return t;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Nt,a=n-Nt+i}if(r!==void 0&&(s=mi(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/mi(10,i-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=Qt(t),f.length=1,e=e-s-1,f[0]=mi(10,(Nt-e%Nt)%Nt),t.e=bu(-e/Nt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=mi(10,Nt-n),f[d]=a>0?(u/mi(10,i-a)%mi(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==cr&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=cr)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Dt&&(t.e>fx||t.e<-fx))throw Error(RO+Qt(t));return t}function q8(t,e){var r,n,a,s,i,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Dt?ht(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Nt),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=cr-1;--c[s],c[a]+=cr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Dt?ht(e,h):e):new m(0)}function el(t,e,r){var n,a=Qt(t),s=ka(t.d),i=s.length;return e?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Qs(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Qs(-a-1)+s,r&&(n=r-i)>0&&(s+=Qs(n))):a>=i?(s+=Qs(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Qs(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Qs(n))),t.s<0?"-"+s:s}function bL(t,e){if(t.length>e)return t.length=e,!0}function V8(t){var e,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Li+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return yL(i,s.toString())}else if(typeof s!="string")throw Error(Li+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,VFe.test(s))yL(i,s);else throw Error(Li+s)}if(a.prototype=ve,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=V8,a.config=a.set=UFe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function UFe(t){if(!t||typeof t!="object")throw Error(Gn+"Object expected");var e,r,n,a=["precision",1,yu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(bu(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Li+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Li+r+": "+n);return this}var MO=V8(qFe);fn=new MO(1);const ft=MO;function zFe(t){return YFe(t)||GFe(t)||HFe(t)||WFe()}function WFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HFe(t,e){if(t){if(typeof t=="string")return RT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RT(t,e)}}function GFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function YFe(t){if(Array.isArray(t))return RT(t)}function RT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var KFe=function(e){return e},U8={},z8=function(e){return e===U8},xL=function(e){return function r(){return arguments.length===0||arguments.length===1&&z8(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},XFe=function t(e,r){return e===1?r:xL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==U8}).length;return i>=e?r.apply(void 0,a):t(e-i,xL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return z8(f)?c.shift():f});return r.apply(void 0,zFe(d).concat(c))}))})},Nw=function(e){return XFe(e.length,e)},MT=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},JFe=Nw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),QFe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return KFe;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},LT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},W8=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function ZFe(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function e5e(t,e,r){for(var n=new ft(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var t5e=Nw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),r5e=Nw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),n5e=Nw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Sw={rangeStep:e5e,getDigitCount:ZFe,interpolateNumber:t5e,uninterpolateNumber:r5e,uninterpolateTruncation:n5e};function FT(t){return o5e(t)||s5e(t)||H8(t)||a5e()}function a5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function o5e(t){if(Array.isArray(t))return BT(t)}function em(t,e){return c5e(t)||l5e(t,e)||H8(t,e)||i5e()}function i5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H8(t,e){if(t){if(typeof t=="string")return BT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BT(t,e)}}function BT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function c5e(t){if(Array.isArray(t))return t}function G8(t){var e=em(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function Y8(t,e,r){if(t.lte(0))return new ft(0);var n=Sw.getDigitCount(t.toNumber()),a=new ft(10).pow(n),s=t.div(a),i=n!==1?.05:.1,l=new ft(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return e?c:new ft(Math.ceil(c))}function u5e(t,e,r){var n=1,a=new ft(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new ft(10).pow(Sw.getDigitCount(t)-1),a=new ft(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ft(Math.floor(t)))}else t===0?a=new ft(Math.floor((e-1)/2)):r||(a=new ft(Math.floor(t)));var i=Math.floor((e-1)/2),l=QFe(JFe(function(c){return a.add(new ft(c-i).mul(n)).toNumber()}),MT);return l(0,e)}function K8(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var s=Y8(new ft(e).sub(t).div(r-1),n,a),i;t<=0&&e>=0?i=new ft(0):(i=new ft(t).add(e).div(2),i=i.sub(new ft(i).mod(s)));var l=Math.ceil(i.sub(t).div(s).toNumber()),c=Math.ceil(new ft(e).sub(i).div(s).toNumber()),u=l+c+1;return u>r?K8(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:i.sub(new ft(l).mul(s)),tickMax:i.add(new ft(c).mul(s))})}function d5e(t){var e=em(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=G8([r,n]),c=em(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(FT(MT(0,a-1).map(function(){return 1/0}))):[].concat(FT(MT(0,a-1).map(function(){return-1/0})),[d]);return r>n?LT(f):f}if(u===d)return u5e(u,a,s);var m=K8(u,d,i,s),h=m.step,p=m.tickMin,g=m.tickMax,y=Sw.rangeStep(p,g.add(new ft(.1).mul(h)),h);return r>n?LT(y):y}function f5e(t,e){var r=em(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=G8([n,a]),l=em(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=Y8(new ft(u).sub(c).div(d-1),s,0),m=[].concat(FT(Sw.rangeStep(new ft(c),new ft(u).sub(new ft(.99).mul(f)),f)),[u]);return n>a?LT(m):m}var m5e=W8(d5e),h5e=W8(f5e),p5e="Invariant failed";function Lc(t,e){throw new Error(p5e)}var g5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mx.apply(this,arguments)}function y5e(t,e){return j5e(t)||v5e(t,e)||x5e(t,e)||b5e()}function b5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x5e(t,e){if(t){if(typeof t=="string")return vL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vL(t,e)}}function vL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function j5e(t){if(Array.isArray(t))return t}function w5e(t,e){if(t==null)return{};var r=C5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function N5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q8(n.key),n)}}function A5e(t,e,r){return e&&S5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T5e(t,e,r){return e=hx(e),k5e(t,X8()?Reflect.construct(e,r||[],hx(t).constructor):e.apply(t,r))}function k5e(t,e){if(e&&(Fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I5e(t)}function I5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X8=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hx(t)}function O5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qT(t,e)}function qT(t,e){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qT(t,e)}function J8(t,e,r){return e=Q8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q8(t){var e=E5e(t,"string");return Fc(e)=="symbol"?e:e+""}function E5e(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LO=function(t){function e(){return N5e(this,e),T5e(this,e,arguments)}return O5e(e,t),A5e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=w5e(n,g5e),h=qe(m,!1);this.props.direction==="x"&&d.type!=="number"&&Lc();var p=c.map(function(g){var y=u(g,l),x=y.x,b=y.y,w=y.value,S=y.errorVal;if(!S)return null;var C=[],j,N;if(Array.isArray(S)){var T=y5e(S,2);j=T[0],N=T[1]}else j=N=S;if(s==="vertical"){var k=d.scale,E=b+a,O=E+i,P=E-i,L=k(w-j),$=k(w+N);C.push({x1:$,y1:O,x2:$,y2:P}),C.push({x1:L,y1:E,x2:$,y2:E}),C.push({x1:L,y1:O,x2:L,y2:P})}else if(s==="horizontal"){var D=f.scale,B=x+a,U=B-i,_=B+i,R=D(w-j),F=D(w+N);C.push({x1:U,y1:F,x2:_,y2:F}),C.push({x1:B,y1:R,x2:B,y2:F}),C.push({x1:U,y1:R,x2:_,y2:R})}return q.createElement(Vt,mx({className:"recharts-errorBar",key:"bar-".concat(C.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},h),C.map(function(G){return q.createElement("line",mx({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return q.createElement(Vt,{className:"recharts-errorBars"},p)}}])}(q.Component);J8(LO,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});J8(LO,"displayName","ErrorBar");function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function jL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(r),!0).forEach(function(n){P5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P5e(t,e,r){return e=D5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D5e(t){var e=_5e(t,"string");return tm(e)=="symbol"?e:e+""}function _5e(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z8=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,i=$n(r,Ma);if(!i)return null;var l=Ma.defaultProps,c=l!==void 0?ri(ri({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,p=h.sectors||h.data||[];return d.concat(p.map(function(g){return{type:i.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?ri(ri({},m),f.props):{},p=h.dataKey,g=h.name,y=h.legendType,x=h.hide;return{inactive:x,dataKey:p,type:c.iconType||y||"square",color:FO(f),value:g||p,payload:h}}),ri(ri(ri({},c),Ma.getWithHeight(i,a)),{},{payload:u,item:i})};function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function wL(t){return L5e(t)||M5e(t)||R5e(t)||$5e()}function $5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R5e(t,e){if(t){if(typeof t=="string")return VT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VT(t,e)}}function M5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L5e(t){if(Array.isArray(t))return VT(t)}function VT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){hc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hc(t,e,r){return e=F5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F5e(t){var e=B5e(t,"string");return rm(e)=="symbol"?e:e+""}function B5e(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mn(t,e,r){return Ge(t)||Ge(e)?r:ar(e)?ma(t,e,r):Ve(e)?e(t):r}function Kd(t,e,r,n){var a=MFe(t,function(l){return mn(l,e)});if(r==="number"){var s=a.filter(function(l){return be(l)||parseFloat(l)});return s.length?[Cw(s),ww(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Ge(l)}):a;return i.map(function(l){return ar(l)||l instanceof Date?l:""})}var q5e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(Bn(f-d)!==Bn(m-f)){var p=[];if(Bn(m-f)===Bn(c[1]-c[0])){h=m;var g=f+c[1]-c[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{h=d;var y=m+c[1]-c[0];p[0]=Math.min(f,(y+f)/2),p[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>x[0]&&e<=x[1]||e>=p[0]&&e<=p[1]){i=a[u].index;break}}else{var b=Math.min(d,m),w=Math.max(d,m);if(e>(b+f)/2&&e<=(w+f)/2){i=a[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},FO=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},V5e=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var p=d[f[m]],g=p.items,y=p.cateAxisId,x=g.filter(function(N){return xs(N.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?qt(qt({},b),x[0].props):x[0].props,S=w.barSize,C=w[y];i[C]||(i[C]=[]);var j=Ge(S)?r:S;i[C].push({item:x[0],stackList:x.slice(1),barSize:Ge(j)?void 0:Xr(j,n,0)})}}return i},U5e=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,i=s===void 0?[]:s,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=Xr(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var m=!1,h=a/c,p=i.reduce(function(S,C){return S+C.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&h>0&&(m=!0,h*=.9,p=c*h);var g=(a-p)/2>>0,y={offset:g-u,size:0};d=i.reduce(function(S,C){var j={item:C.item,position:{offset:y.offset+y.size+u,size:m?h:C.barSize}},N=[].concat(wL(S),[j]);return y=N[N.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(T){N.push({item:T,position:y})}),N},f)}else{var x=Xr(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=i.reduce(function(S,C,j){var N=[].concat(wL(S),[{item:C.item,position:{offset:x+(b+u)*j+(b-w)/2,size:w}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(T){N.push({item:T,position:N[N.length-1].position})}),N},f)}return d},z5e=function(e,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=Z8({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,h=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&h!=="center"&&be(e[h]))return qt(qt({},e),{},hc({},h,e[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&p!=="middle"&&be(e[p]))return qt(qt({},e),{},hc({},p,e[p]+(m||0)))}return e},W5e=function(e,r,n){return Ge(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},e7=function(e,r,n,a,s){var i=r.props.children,l=Ra(i,LO).filter(function(u){return W5e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=mn(d,n);if(Ge(f))return u;var m=Array.isArray(f)?[Cw(f),ww(f)]:[f,f],h=c.reduce(function(p,g){var y=mn(d,g,0),x=m[0]-Math.abs(Array.isArray(y)?y[0]:y),b=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(x,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},H5e=function(e,r,n,a,s){var i=r.map(function(l){return e7(e,l,n,s,a)}).filter(function(l){return!Ge(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},t7=function(e,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&e7(e,c,u,a)||Kd(e,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},r7=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},fd=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Bn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!Xm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:s?s[f]:f,index:m,offset:u}})},QC=new WeakMap,rp=function(e,r){if(typeof r!="function")return e;QC.has(e)||QC.set(e,new WeakMap);var n=QC.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},G5e=function(e,r,n){var a=e.scale,s=e.type,i=e.layout,l=e.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:Yf(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:lx(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:Yd(),realScaleType:"point"}:s==="category"?{scale:Yf(),realScaleType:"band"}:{scale:lx(),realScaleType:"linear"};if(Km(a)){var c="scale".concat(ow(a));return{scale:(gL[c]||Yd)(),realScaleType:gL[c]?c:"point"}}return Ve(a)?{scale:a}:{scale:Yd(),realScaleType:"point"}},NL=1e-4,Y5e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-NL,i=Math.max(a[0],a[1])+NL,l=e(r[0]),c=e(r[n-1]);(l<s||l>i||c<s||c>i)&&e.domain([r[0],r[n-1]])}},K5e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=Xm(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},X5e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=Xm(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=s,e[i][n][1]=s+l,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},J5e={sign:K5e,expand:pke,none:Ic,silhouette:gke,wiggle:yke,positive:X5e},Q5e=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=J5e[n],i=hke().keys(a).value(function(l,c){return+mn(l,c,0)}).order(mT).offset(s);return i(e)},Z5e=function(e,r,n,a,s,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,m){var h,p=(h=m.type)!==null&&h!==void 0&&h.defaultProps?qt(qt({},m.type.defaultProps),m.props):m.props,g=p.stackId,y=p.hide;if(y)return f;var x=p[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(ar(g)){var w=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(m),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[aw("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return qt(qt({},f),{},hc({},x,b))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,y){var x=h.stackGroups[y];return qt(qt({},g),{},hc({},y,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:Q5e(e,x.items,s)}))},p)}return qt(qt({},f),{},hc({},m,h))},d)},e4e=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=m5e(u,s,l);return e.domain([Cw(d),ww(d)]),{niceTicks:d}}if(s&&a==="number"){var f=e.domain(),m=h5e(f,s,l);return{niceTicks:m}}return null},t4e=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(ar(s)){var i=r[s];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},r4e=function(e){return e.reduce(function(r,n){return[Cw(n.concat([r[0]]).filter(be)),ww(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},n7=function(e,r,n){return Object.keys(e).reduce(function(a,s){var i=e[s],l=i.stackedData,c=l.reduce(function(u,d){var f=r4e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},SL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UT=function(e,r,n){if(Ve(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(be(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(SL.test(e[0])){var s=+SL.exec(e[0])[1];a[0]=r[0]-s}else Ve(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(be(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(AL.test(e[1])){var i=+AL.exec(e[1])[1];a[1]=r[1]+i}else Ve(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},zT=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=dO(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},TL=function(e,r,n){return!e||!e.length||$O(e,ma(n,"type.defaultProps.domain"))?r:e},n4e=function(e,r){var n=e.type.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return qt(qt({},qe(e,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:FO(e),value:mn(r,a),type:c,payload:r,chartType:u,hide:d})};function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function kL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(r),!0).forEach(function(n){a7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a7(t,e,r){return e=a4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a4e(t){var e=s4e(t,"string");return nm(e)=="symbol"?e:e+""}function s4e(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o4e(t,e){return u4e(t)||c4e(t,e)||l4e(t,e)||i4e()}function i4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l4e(t,e){if(t){if(typeof t=="string")return IL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IL(t,e)}}function IL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function u4e(t){if(Array.isArray(t))return t}var px=Math.PI/180,d4e=function(e){return e*180/Math.PI},vt=function(e,r,n,a){return{x:e+Math.cos(-px*a)*n,y:r+Math.sin(-px*a)*n}},s7=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},f4e=function(e,r,n,a,s){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Xr(e.cx,i,i/2),f=Xr(e.cy,l,l/2),m=s7(i,l,n),h=Xr(e.innerRadius,m,0),p=Xr(e.outerRadius,m,m*.8),g=Object.keys(r);return g.reduce(function(y,x){var b=r[x],w=b.domain,S=b.reversed,C;if(Ge(b.range))a==="angleAxis"?C=[c,u]:a==="radiusAxis"&&(C=[h,p]),S&&(C=[C[1],C[0]]);else{C=b.range;var j=C,N=o4e(j,2);c=N[0],u=N[1]}var T=G5e(b,s),k=T.realScaleType,E=T.scale;E.domain(w).range(C),Y5e(E);var O=e4e(E,Za(Za({},b),{},{realScaleType:k})),P=Za(Za(Za({},b),O),{},{range:C,radius:p,realScaleType:k,scale:E,cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:c,endAngle:u});return Za(Za({},y),{},a7({},x,P))},{})},m4e=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},h4e=function(e,r){var n=e.x,a=e.y,s=r.cx,i=r.cy,l=m4e({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:d4e(u),angleInRadian:u}},p4e=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},g4e=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return e+l*360},OL=function(e,r){var n=e.x,a=e.y,s=h4e({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=p4e(r),f=d.startAngle,m=d.endAngle,h=l,p;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=f}return p?Za(Za({},r),{},{radius:i,angle:g4e(h,r)}):null},o7=function(e){return!v.isValidElement(e)&&!Ve(e)&&typeof e!="boolean"?e.className:""};function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}var y4e=["offset"];function b4e(t){return w4e(t)||j4e(t)||v4e(t)||x4e()}function x4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v4e(t,e){if(t){if(typeof t=="string")return WT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WT(t,e)}}function j4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w4e(t){if(Array.isArray(t))return WT(t)}function WT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C4e(t,e){if(t==null)return{};var r=N4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function N4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(r),!0).forEach(function(n){S4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S4e(t,e,r){return e=A4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A4e(t){var e=T4e(t,"string");return am(e)=="symbol"?e:e+""}function T4e(t,e){if(am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sm.apply(this,arguments)}var k4e=function(e){var r=e.value,n=e.formatter,a=Ge(e.children)?r:e.children;return Ve(n)?n(a):a},I4e=function(e,r){var n=Bn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},O4e=function(e,r,n){var a=e.position,s=e.viewBox,i=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,p=c.endAngle,g=c.clockWise,y=(f+m)/2,x=I4e(h,p),b=x>=0?1:-1,w,S;a==="insideStart"?(w=h+b*i,S=g):a==="insideEnd"?(w=p-b*i,S=!g):a==="end"&&(w=p+b*i,S=g),S=x<=0?S:!S;var C=vt(u,d,y,w),j=vt(u,d,y,w+(S?1:-1)*359),N="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),T=Ge(e.id)?aw("recharts-radial-line-"):e.id;return q.createElement("text",sm({},n,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:T,d:N})),q.createElement("textPath",{xlinkHref:"#".concat(T)},r))},E4e=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(a==="outside"){var h=vt(i,l,u+n,m),p=h.x,g=h.y;return{x:p,y:g,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,x=vt(i,l,y,m),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},P4e=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,m=f*a,h=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,y=g*a,x=g>0?"end":"start",b=g>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return er(er({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var S={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:p};return er(er({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var C={x:l-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return er(er({},C),n?{width:Math.max(C.x-n.x,0),height:d}:{})}if(s==="right"){var j={x:l+u+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return er(er({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return s==="insideLeft"?er({x:l+y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):s==="insideRight"?er({x:l+u-y,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},N):s==="insideTop"?er({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:p},N):s==="insideBottom"?er({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},N):s==="insideTopLeft"?er({x:l+y,y:c+m,textAnchor:b,verticalAnchor:p},N):s==="insideTopRight"?er({x:l+u-y,y:c+m,textAnchor:x,verticalAnchor:p},N):s==="insideBottomLeft"?er({x:l+y,y:c+d-m,textAnchor:b,verticalAnchor:h},N):s==="insideBottomRight"?er({x:l+u-y,y:c+d-m,textAnchor:x,verticalAnchor:h},N):lu(s)&&(be(s.x)||Ci(s.x))&&(be(s.y)||Ci(s.y))?er({x:l+Xr(s.x,u),y:c+Xr(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):er({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},D4e=function(e){return"cx"in e&&be(e.cx)};function vr(t){var e=t.offset,r=e===void 0?5:e,n=C4e(t,y4e),a=er({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!s||Ge(l)&&Ge(c)&&!v.isValidElement(u)&&!Ve(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var h;if(Ve(u)){if(h=v.createElement(u,a),v.isValidElement(h))return h}else h=k4e(a);var p=D4e(s),g=qe(a,!0);if(p&&(i==="insideStart"||i==="insideEnd"||i==="end"))return O4e(a,h,g);var y=p?E4e(a):P4e(a);return q.createElement(_c,sm({className:_e("recharts-label",f)},g,y,{breakAll:m}),h)}vr.displayName="Label";var i7=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,p=e.left,g=e.width,y=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(be(g)&&be(y)){if(be(f)&&be(m))return{x:f,y:m,width:g,height:y};if(be(h)&&be(p))return{x:h,y:p,width:g,height:y}}return be(f)&&be(m)?{x:f,y:m,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},_4e=function(e,r){return e?e===!0?q.createElement(vr,{key:"label-implicit",viewBox:r}):ar(e)?q.createElement(vr,{key:"label-implicit",viewBox:r,value:e}):v.isValidElement(e)?e.type===vr?v.cloneElement(e,{key:"label-implicit",viewBox:r}):q.createElement(vr,{key:"label-implicit",content:e,viewBox:r}):Ve(e)?q.createElement(vr,{key:"label-implicit",content:e,viewBox:r}):lu(e)?q.createElement(vr,sm({viewBox:r},e,{key:"label-implicit"})):null:null},$4e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=i7(e),i=Ra(a,vr).map(function(c,u){return v.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=_4e(e.label,r||s);return[l].concat(b4e(i))};vr.parseViewBox=i7;vr.renderCallByParent=$4e;function R4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var M4e=R4e;const L4e=Ze(M4e);function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}var F4e=["valueAccessor"],B4e=["data","dataKey","clockWise","id","textBreakAll"];function q4e(t){return W4e(t)||z4e(t)||U4e(t)||V4e()}function V4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U4e(t,e){if(t){if(typeof t=="string")return HT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HT(t,e)}}function z4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W4e(t){if(Array.isArray(t))return HT(t)}function HT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gx.apply(this,arguments)}function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){H4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H4e(t,e,r){return e=G4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G4e(t){var e=Y4e(t,"string");return om(e)=="symbol"?e:e+""}function Y4e(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _L(t,e){if(t==null)return{};var r=K4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var X4e=function(e){return Array.isArray(e.value)?L4e(e.value):e.value};function Fi(t){var e=t.valueAccessor,r=e===void 0?X4e:e,n=_L(t,F4e),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=_L(n,B4e);return!a||!a.length?null:q.createElement(Vt,{className:"recharts-label-list"},a.map(function(d,f){var m=Ge(s)?r(d,f):mn(d&&d.payload,s),h=Ge(l)?{}:{id:"".concat(l,"-").concat(f)};return q.createElement(vr,gx({},qe(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:vr.parseViewBox(Ge(i)?d:DL(DL({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Fi.displayName="LabelList";function J4e(t,e){return t?t===!0?q.createElement(Fi,{key:"labelList-implicit",data:e}):q.isValidElement(t)||Ve(t)?q.createElement(Fi,{key:"labelList-implicit",data:e,content:t}):lu(t)?q.createElement(Fi,gx({data:e},t,{key:"labelList-implicit"})):null:null}function Q4e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ra(n,Fi).map(function(i,l){return v.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=J4e(t.label,e);return[s].concat(q4e(a))}Fi.renderCallByParent=Q4e;function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GT.apply(this,arguments)}function $L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(r),!0).forEach(function(n){Z4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z4e(t,e,r){return e=eBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eBe(t){var e=tBe(t,"string");return im(e)=="symbol"?e:e+""}function tBe(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rBe=function(e,r){var n=Bn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},np=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/px,m=u?s:s+i*f,h=vt(r,n,d,m),p=vt(r,n,a,m),g=u?s-i*f:s,y=vt(r,n,d*Math.cos(f*px),g);return{center:h,circleTangency:p,lineTangency:y,theta:f}},l7=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.startAngle,l=e.endAngle,c=rBe(i,l),u=i+c,d=vt(r,n,s,i),f=vt(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=vt(r,n,a,i),p=vt(r,n,a,u);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},nBe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Bn(d-u),m=np({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),h=m.circleTangency,p=m.lineTangency,g=m.theta,y=np({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),x=y.circleTangency,b=y.lineTangency,w=y.theta,S=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(S<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):l7({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var C="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var j=np({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),N=j.circleTangency,T=j.lineTangency,k=j.theta,E=np({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),O=E.circleTangency,P=E.lineTangency,L=E.theta,$=c?Math.abs(u-d):Math.abs(u-d)-k-L;if($<0&&i===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},aBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},c7=function(e){var r=RL(RL({},aBe),e),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(i<s||d===f)return null;var h=_e("recharts-sector",m),p=i-s,g=Xr(l,p,0,!0),y;return g>0&&Math.abs(d-f)<360?y=nBe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=l7({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),q.createElement("path",GT({},qe(r,!0),{className:h,d:y,role:"img"}))};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function YT(){return YT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YT.apply(this,arguments)}function ML(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(r),!0).forEach(function(n){sBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sBe(t,e,r){return e=oBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oBe(t){var e=iBe(t,"string");return lm(e)=="symbol"?e:e+""}function iBe(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FL={curveBasisClosed:nke,curveBasisOpen:ake,curveBasis:rke,curveBumpX:VTe,curveBumpY:UTe,curveLinearClosed:ske,curveLinear:lw,curveMonotoneX:oke,curveMonotoneY:ike,curveNatural:lke,curveStep:cke,curveStepAfter:dke,curveStepBefore:uke},ap=function(e){return e.x===+e.x&&e.y===+e.y},Ku=function(e){return e.x},Xu=function(e){return e.y},lBe=function(e,r){if(Ve(e))return e;var n="curve".concat(ow(e));return(n==="curveMonotone"||n==="curveBump")&&r?FL["".concat(n).concat(r==="vertical"?"Y":"X")]:FL[n]||lw},cBe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=lBe(n,l),f=u?s.filter(function(g){return ap(g)}):s,m;if(Array.isArray(i)){var h=u?i.filter(function(g){return ap(g)}):i,p=f.map(function(g,y){return LL(LL({},g),{},{base:h[y]})});return l==="vertical"?m=Yh().y(Xu).x1(Ku).x0(function(g){return g.base.x}):m=Yh().x(Ku).y1(Xu).y0(function(g){return g.base.y}),m.defined(ap).curve(d),m(p)}return l==="vertical"&&be(i)?m=Yh().y(Xu).x1(Ku).x0(i):be(i)?m=Yh().x(Ku).y1(Xu).y0(i):m=cz().x(Ku).y(Xu),m.defined(ap).curve(d),m(f)},KT=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?cBe(e):a;return q.createElement("path",YT({},qe(e,!1),V0(e),{className:_e("recharts-curve",r),d:i,ref:s}))},u7={exports:{}},uBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dBe=uBe,fBe=dBe;function d7(){}function f7(){}f7.resetWarningCache=d7;var mBe=function(){function t(n,a,s,i,l,c){if(c!==fBe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:f7,resetWarningCache:d7};return r.PropTypes=r,r};u7.exports=mBe();var hBe=u7.exports;const tt=Ze(hBe);var pBe=Object.getOwnPropertyNames,gBe=Object.getOwnPropertySymbols,yBe=Object.prototype.hasOwnProperty;function BL(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function sp(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function qL(t){return pBe(t).concat(gBe(t))}var bBe=Object.hasOwn||function(t,e){return yBe.call(t,e)};function gl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var xBe="__v",vBe="__o",jBe="_owner",VL=Object.getOwnPropertyDescriptor,UL=Object.keys;function wBe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function CBe(t,e){return gl(t.getTime(),e.getTime())}function NBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function SBe(t,e){return t===e}function zL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=i.value,h=l.value;if(r.equals(m[0],h[0],c,f,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var ABe=gl;function TBe(t,e,r){var n=UL(t),a=n.length;if(UL(e).length!==a)return!1;for(;a-- >0;)if(!m7(t,e,r,n[a]))return!1;return!0}function Ju(t,e,r){var n=qL(t),a=n.length;if(qL(e).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!m7(t,e,r,s)||(i=VL(t,s),l=VL(e,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function kBe(t,e){return gl(t.valueOf(),e.valueOf())}function IBe(t,e){return t.source===e.source&&t.flags===e.flags}function WL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),i,l;(i=s.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function OBe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function EBe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function m7(t,e,r,n){return(n===jBe||n===vBe||n===xBe)&&(t.$$typeof||e.$$typeof)?!0:bBe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var PBe="[object Arguments]",DBe="[object Boolean]",_Be="[object Date]",$Be="[object Error]",RBe="[object Map]",MBe="[object Number]",LBe="[object Object]",FBe="[object RegExp]",BBe="[object Set]",qBe="[object String]",VBe="[object URL]",UBe=Array.isArray,HL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,GL=Object.assign,zBe=Object.prototype.toString.call.bind(Object.prototype.toString);function WBe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(p,g,y){if(p===g)return!0;if(p==null||g==null)return!1;var x=typeof p;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?i(p,g,y):x==="function"?a(p,g,y):!1;var b=p.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(p,g,y);if(UBe(p))return e(p,g,y);if(HL!=null&&HL(p))return f(p,g,y);if(b===Date)return r(p,g,y);if(b===RegExp)return u(p,g,y);if(b===Map)return s(p,g,y);if(b===Set)return d(p,g,y);var w=zBe(p);return w===_Be?r(p,g,y):w===FBe?u(p,g,y):w===RBe?s(p,g,y):w===BBe?d(p,g,y):w===LBe?typeof p.then!="function"&&typeof g.then!="function"&&l(p,g,y):w===VBe?m(p,g,y):w===$Be?n(p,g,y):w===PBe?l(p,g,y):w===DBe||w===MBe||w===qBe?c(p,g,y):!1}}function HBe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Ju:wBe,areDatesEqual:CBe,areErrorsEqual:NBe,areFunctionsEqual:SBe,areMapsEqual:n?BL(zL,Ju):zL,areNumbersEqual:ABe,areObjectsEqual:n?Ju:TBe,arePrimitiveWrappersEqual:kBe,areRegExpsEqual:IBe,areSetsEqual:n?BL(WL,Ju):WL,areTypedArraysEqual:n?Ju:OBe,areUrlsEqual:EBe};if(r&&(a=GL({},a,r(a))),e){var s=sp(a.areArraysEqual),i=sp(a.areMapsEqual),l=sp(a.areObjectsEqual),c=sp(a.areSetsEqual);a=GL({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function GBe(t){return function(e,r,n,a,s,i,l){return t(e,r,l)}}function YBe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:a,meta:h,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var KBe=Yo();Yo({strict:!0});Yo({circular:!0});Yo({circular:!0,strict:!0});Yo({createInternalComparator:function(){return gl}});Yo({strict:!0,createInternalComparator:function(){return gl}});Yo({circular:!0,createInternalComparator:function(){return gl}});Yo({circular:!0,createInternalComparator:function(){return gl},strict:!0});function Yo(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,i=s===void 0?!1:s,l=HBe(t),c=WBe(l),u=n?n(c):GBe(c);return YBe({circular:r,comparator:c,createState:a,equals:u,strict:i})}function XBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function YL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):XBe(a)};requestAnimationFrame(n)}function XT(t){"@babel/helpers - typeof";return XT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XT(t)}function JBe(t){return t3e(t)||e3e(t)||ZBe(t)||QBe()}function QBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZBe(t,e){if(t){if(typeof t=="string")return KL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KL(t,e)}}function KL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t3e(t){if(Array.isArray(t))return t}function r3e(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=JBe(i),c=l[0],u=l.slice(1);if(typeof c=="number"){YL(a.bind(null,u),c);return}a(c),YL(a.bind(null,u));return}XT(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){h7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h7(t,e,r){return e=n3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n3e(t){var e=a3e(t,"string");return cm(e)==="symbol"?e:String(e)}function a3e(t,e){if(cm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},o3e=function(e){return e},i3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Xd=function(e,r){return Object.keys(r).reduce(function(n,a){return JL(JL({},n),{},h7({},a,e(a,r[a])))},{})},QL=function(e,r,n){return e.map(function(a){return"".concat(i3e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function l3e(t,e){return d3e(t)||u3e(t,e)||p7(t,e)||c3e()}function c3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function d3e(t){if(Array.isArray(t))return t}function f3e(t){return p3e(t)||h3e(t)||p7(t)||m3e()}function m3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p7(t,e){if(t){if(typeof t=="string")return JT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JT(t,e)}}function h3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p3e(t){if(Array.isArray(t))return JT(t)}function JT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yx=1e-4,g7=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},y7=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},ZL=function(e,r){return function(n){var a=g7(e,r);return y7(a,n)}},g3e=function(e,r){return function(n){var a=g7(e,r),s=[].concat(f3e(a.map(function(i,l){return i*l}).slice(1)),[0]);return y7(s,n)}},eF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=l3e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=ZL(a,i),m=ZL(s,l),h=g3e(a,i),p=function(x){return x>1?1:x<0?0:x},g=function(x){for(var b=x>1?1:x,w=b,S=0;S<8;++S){var C=f(w)-b,j=h(w);if(Math.abs(C-b)<yx||j<yx)return m(w);w=p(w-C/j)}return m(w)};return g.isStepper=!1,g},y3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,i=e.dt,l=i===void 0?17:i,c=function(d,f,m){var h=-(d-f)*n,p=m*s,g=m+(h-p)*l/1e3,y=m*l/1e3+d;return Math.abs(y-f)<yx&&Math.abs(g)<yx?[f,0]:[y,g]};return c.isStepper=!0,c.dt=l,c},b3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eF(a);case"spring":return y3e();default:if(a.split("(")[0]==="cubic-bezier")return eF(a)}return typeof a=="function"?a:null};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function tF(t){return j3e(t)||v3e(t)||b7(t)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j3e(t){if(Array.isArray(t))return ZT(t)}function rF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(r),!0).forEach(function(n){QT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QT(t,e,r){return e=w3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w3e(t){var e=C3e(t,"string");return um(e)==="symbol"?e:String(e)}function C3e(t,e){if(um(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N3e(t,e){return T3e(t)||A3e(t,e)||b7(t,e)||S3e()}function S3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7(t,e){if(t){if(typeof t=="string")return ZT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZT(t,e)}}function ZT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function T3e(t){if(Array.isArray(t))return t}var bx=function(e,r,n){return e+(r-e)*n},ek=function(e){var r=e.from,n=e.to;return r!==n},k3e=function t(e,r,n){var a=Xd(function(s,i){if(ek(i)){var l=e(i.from,i.to,i.velocity),c=N3e(l,2),u=c[0],d=c[1];return yr(yr({},i),{},{from:u,velocity:d})}return i},r);return n<1?Xd(function(s,i){return ek(i)?yr(yr({},i),{},{velocity:bx(i.velocity,a[s].velocity,n),from:bx(i.from,a[s].from,n)}):i},r):t(e,a,n-1)};const I3e=function(t,e,r,n,a){var s=s3e(t,e),i=s.reduce(function(y,x){return yr(yr({},y),{},QT({},x,[t[x],e[x]]))},{}),l=s.reduce(function(y,x){return yr(yr({},y),{},QT({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Xd(function(x,b){return b.from},l)},h=function(){return!Object.values(l).filter(ek).length},p=function(x){u||(u=x);var b=x-u,w=b/r.dt;l=k3e(r,l,w),a(yr(yr(yr({},t),e),m())),u=x,h()||(c=requestAnimationFrame(f))},g=function(x){d||(d=x);var b=(x-d)/n,w=Xd(function(C,j){return bx.apply(void 0,tF(j).concat([r(b)]))},i);if(a(yr(yr(yr({},t),e),w)),b<1)c=requestAnimationFrame(f);else{var S=Xd(function(C,j){return bx.apply(void 0,tF(j).concat([r(1)]))},i);a(yr(yr(yr({},t),e),S))}};return f=r.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}var O3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function E3e(t,e){if(t==null)return{};var r=P3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function P3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function ZC(t){return R3e(t)||$3e(t)||_3e(t)||D3e()}function D3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _3e(t,e){if(t){if(typeof t=="string")return tk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(t,e)}}function $3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R3e(t){if(Array.isArray(t))return tk(t)}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ea(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(r),!0).forEach(function(n){md(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function md(t,e,r){return e=x7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x7(n.key),n)}}function F3e(t,e,r){return e&&L3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x7(t){var e=B3e(t,"string");return Bc(e)==="symbol"?e:String(e)}function B3e(t,e){if(Bc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rk(t,e)}function rk(t,e){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rk(t,e)}function V3e(t){var e=U3e();return function(){var n=xx(t),a;if(e){var s=xx(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return nk(this,a)}}function nk(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ak(t)}function ak(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(t)}var Do=function(t){q3e(r,t);var e=V3e(r);function r(n,a){var s;M3e(this,r),s=e.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,m=i.children,h=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(ak(s)),s.changeStyle=s.changeStyle.bind(ak(s)),!l||h<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),nk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},nk(s);s.state={style:c?md({},c,u):u}}else s.state={style:{}};return s}return F3e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!i){var h={style:c?md({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(KBe(a.to,d)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:a.to;if(this.state&&m){var y={style:c?md({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(y)}this.runAnimation(ea(ea({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=I3e(i,l,b3e(u),c,this.changeStyle),p=function(){s.stopJSAnimation=h()};this.manager.start([m,d,p,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(g,y,x){if(x===0)return g;var b=y.duration,w=y.easing,S=w===void 0?"ease":w,C=y.style,j=y.properties,N=y.onAnimationEnd,T=x>0?i[x-1]:y,k=j||Object.keys(C);if(typeof S=="function"||S==="spring")return[].concat(ZC(g),[s.runJSAnimation.bind(s,{from:T.style,to:C,duration:b,easing:S}),b]);var E=QL(k,b,S),O=ea(ea(ea({},T.style),C),{},{transition:E});return[].concat(ZC(g),[O,b,N]).filter(o3e)};return this.manager.start([c].concat(ZC(i.reduce(h,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=r3e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var g=l?md({},l,c):c,y=QL(Object.keys(g),i,u);p.start([d,s,ea(ea({},g),{},{transition:y}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=E3e(a,O3e),u=v.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(h){var p=h.props,g=p.style,y=g===void 0?{}:g,x=p.className,b=v.cloneElement(h,ea(ea({},c),{},{style:ea(ea({},y),d),className:x}));return b};return u===1?f(v.Children.only(s)):q.createElement("div",null,v.Children.map(s,function(m){return f(m)}))}}]),r}(v.PureComponent);Do.displayName="Animate";Do.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Do.propTypes={from:tt.oneOfType([tt.object,tt.string]),to:tt.oneOfType([tt.object,tt.string]),attributeName:tt.string,duration:tt.number,begin:tt.number,easing:tt.oneOfType([tt.string,tt.func]),steps:tt.arrayOf(tt.shape({duration:tt.number.isRequired,style:tt.object.isRequired,easing:tt.oneOfType([tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tt.func]),properties:tt.arrayOf("string"),onAnimationEnd:tt.func})),children:tt.oneOfType([tt.node,tt.func]),isActive:tt.bool,canBegin:tt.bool,onAnimationEnd:tt.func,shouldReAnimate:tt.bool,onAnimationStart:tt.func,onAnimationReStart:tt.func};function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vx.apply(this,arguments)}function z3e(t,e){return Y3e(t)||G3e(t,e)||H3e(t,e)||W3e()}function W3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H3e(t,e){if(t){if(typeof t=="string")return aF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aF(t,e)}}function aF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Y3e(t){if(Array.isArray(t))return t}function sF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sF(Object(r),!0).forEach(function(n){K3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K3e(t,e,r){return e=X3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X3e(t){var e=J3e(t,"string");return dm(e)=="symbol"?e:e+""}function J3e(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iF=function(e,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var p=Math.min(i,s);d="M ".concat(e,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+c*p,",").concat(r,`
            L `).concat(e+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*p,`
            L `).concat(e+n,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-c*p,",").concat(r+a,`
            L `).concat(e+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*p," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Q3e=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),m=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},Z3e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BO=function(e){var r=oF(oF({},Z3e),e),n=v.useRef(),a=v.useState(-1),s=z3e(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,p=r.animationEasing,g=r.animationDuration,y=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=_e("recharts-rectangle",h);return b?q.createElement(Do,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:p,isActive:b},function(S){var C=S.width,j=S.height,N=S.x,T=S.y;return q.createElement(Do,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:x,easing:p},q.createElement("path",vx({},qe(r,!0),{className:w,d:iF(N,T,C,j,m),ref:n})))}):q.createElement("path",vx({},qe(r,!0),{className:w,d:iF(c,u,d,f,m)}))},eqe=["points","className","baseLinePoints","connectNulls"];function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ul.apply(this,arguments)}function tqe(t,e){if(t==null)return{};var r=rqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lF(t){return oqe(t)||sqe(t)||aqe(t)||nqe()}function nqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aqe(t,e){if(t){if(typeof t=="string")return sk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(t,e)}}function sqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oqe(t){if(Array.isArray(t))return sk(t)}function sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var cF=function(e){return e&&e.x===+e.x&&e.y===+e.y},iqe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){cF(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),cF(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Jd=function(e,r){var n=iqe(e);r&&(n=[n.reduce(function(s,i){return[].concat(lF(s),lF(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},lqe=function(e,r,n){var a=Jd(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Jd(r.reverse(),n).slice(1))},cqe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,i=tqe(e,eqe);if(!r||!r.length)return null;var l=_e("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=lqe(r,a,s);return q.createElement("g",{className:l},q.createElement("path",Ul({},qe(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?q.createElement("path",Ul({},qe(i,!0),{fill:"none",d:Jd(r,s)})):null,c?q.createElement("path",Ul({},qe(i,!0),{fill:"none",d:Jd(a,s)})):null)}var d=Jd(r,s);return q.createElement("path",Ul({},qe(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function ok(){return ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ok.apply(this,arguments)}var qO=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,i=_e("recharts-dot",s);return r===+r&&n===+n&&a===+a?q.createElement("circle",ok({},qe(e,!1),V0(e),{className:i,cx:r,cy:n,r:a})):null};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}var uqe=["x","y","top","left","width","height","className"];function ik(){return ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ik.apply(this,arguments)}function uF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dqe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(r),!0).forEach(function(n){fqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fqe(t,e,r){return e=mqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mqe(t){var e=hqe(t,"string");return fm(e)=="symbol"?e:e+""}function hqe(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pqe(t,e){if(t==null)return{};var r=gqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var yqe=function(e,r,n,a,s,i){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},bqe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,p=e.className,g=pqe(e,uqe),y=dqe({x:n,y:s,top:l,left:u,width:f,height:h},g);return!be(n)||!be(s)||!be(f)||!be(h)||!be(l)||!be(u)?null:q.createElement("path",ik({},qe(y,!0),{className:_e("recharts-cross",p),d:yqe(n,s,f,h,l,u)}))},xqe=jw,vqe=R8,jqe=Wo;function wqe(t,e){return t&&t.length?xqe(t,jqe(e),vqe):void 0}var Cqe=wqe;const Nqe=Ze(Cqe);var Sqe=jw,Aqe=Wo,Tqe=M8;function kqe(t,e){return t&&t.length?Sqe(t,Aqe(e),Tqe):void 0}var Iqe=kqe;const Oqe=Ze(Iqe);var Eqe=["cx","cy","angle","ticks","axisLine"],Pqe=["ticks","tick","angle","tickFormatter","stroke"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qd.apply(this,arguments)}function dF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(r),!0).forEach(function(n){Aw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fF(t,e){if(t==null)return{};var r=Dqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j7(n.key),n)}}function $qe(t,e,r){return e&&mF(t.prototype,e),r&&mF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rqe(t,e,r){return e=jx(e),Mqe(t,v7()?Reflect.construct(e,r||[],jx(t).constructor):e.apply(t,r))}function Mqe(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lqe(t)}function Lqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v7=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(t)}function Fqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lk(t,e)}function lk(t,e){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lk(t,e)}function Aw(t,e,r){return e=j7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j7(t){var e=Bqe(t,"string");return qc(e)=="symbol"?e:e+""}function Bqe(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tw=function(t){function e(){return _qe(this,e),Rqe(this,e,arguments)}return Fqe(e,t),$qe(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return vt(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=Nqe(l,function(d){return d.coordinate||0}),u=Oqe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=fF(n,Eqe),d=l.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),f=vt(a,s,d[0],i),m=vt(a,s,d[1],i),h=ni(ni(ni({},qe(u,!1)),{},{fill:"none"},qe(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return q.createElement("line",Qd({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=fF(a,Pqe),f=this.getTickTextAnchor(),m=qe(d,!1),h=qe(i,!1),p=s.map(function(g,y){var x=n.getTickValueCoord(g),b=ni(ni(ni(ni({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:y},x),{},{payload:g});return q.createElement(Vt,Qd({className:_e("recharts-polar-radius-axis-tick",o7(i)),key:"tick-".concat(g.coordinate)},sw(n.props,g,y)),e.renderTickItem(i,b,c?c(g.value,y):g.value))});return q.createElement(Vt,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:q.createElement(Vt,{className:_e("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),vr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return q.isValidElement(n)?i=q.cloneElement(n,a):Ve(n)?i=n(a):i=q.createElement(_c,Qd({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(v.PureComponent);Aw(Tw,"displayName","PolarRadiusAxis");Aw(Tw,"axisType","radiusAxis");Aw(Tw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function hi(){return hi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hi.apply(this,arguments)}function hF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(r),!0).forEach(function(n){kw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C7(n.key),n)}}function Vqe(t,e,r){return e&&pF(t.prototype,e),r&&pF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uqe(t,e,r){return e=wx(e),zqe(t,w7()?Reflect.construct(e,r||[],wx(t).constructor):e.apply(t,r))}function zqe(t,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wqe(t)}function Wqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w7=function(){return!!t})()}function wx(t){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wx(t)}function Hqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ck(t,e)}function kw(t,e,r){return e=C7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C7(t){var e=Gqe(t,"string");return Vc(e)=="symbol"?e:e+""}function Gqe(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yqe=Math.PI/180,Kqe=1e-5,Iw=function(t){function e(){return qqe(this,e),Uqe(this,e,arguments)}return Hqe(e,t),Vqe(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=vt(s,i,l,n.coordinate),m=vt(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*Yqe),i;return s>Kqe?i=a==="outer"?"start":"end":s<-1e-5?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=ai(ai({},qe(this.props,!1)),{},{fill:"none"},qe(l,!1));if(c==="circle")return q.createElement(qO,hi({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(m){return vt(a,s,i,m.coordinate)});return q.createElement(cqe,hi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=qe(this.props,!1),f=qe(i,!1),m=ai(ai({},d),{},{fill:"none"},qe(l,!1)),h=s.map(function(p,g){var y=n.getTickLineCoord(p),x=n.getTickTextAnchor(p),b=ai(ai(ai({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:p,x:y.x2,y:y.y2});return q.createElement(Vt,hi({className:_e("recharts-polar-angle-axis-tick",o7(i)),key:"tick-".concat(p.coordinate)},sw(n.props,p,g)),l&&q.createElement("line",hi({className:"recharts-polar-angle-axis-tick-line"},m,y)),i&&e.renderTickItem(i,b,c?c(p.value,g):p.value))});return q.createElement(Vt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:q.createElement(Vt,{className:_e("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return q.isValidElement(n)?i=q.cloneElement(n,a):Ve(n)?i=n(a):i=q.createElement(_c,hi({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(v.PureComponent);kw(Iw,"displayName","PolarAngleAxis");kw(Iw,"axisType","angleAxis");kw(Iw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Xqe=Dz,Jqe=Xqe(Object.getPrototypeOf,Object),Qqe=Jqe,Zqe=Ls,e6e=Qqe,t6e=Fs,r6e="[object Object]",n6e=Function.prototype,a6e=Object.prototype,N7=n6e.toString,s6e=a6e.hasOwnProperty,o6e=N7.call(Object);function i6e(t){if(!t6e(t)||Zqe(t)!=r6e)return!1;var e=e6e(t);if(e===null)return!0;var r=s6e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&N7.call(r)==o6e}var l6e=i6e;const c6e=Ze(l6e);var u6e=Ls,d6e=Fs,f6e="[object Boolean]";function m6e(t){return t===!0||t===!1||d6e(t)&&u6e(t)==f6e}var h6e=m6e;const p6e=Ze(h6e);function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cx.apply(this,arguments)}function g6e(t,e){return v6e(t)||x6e(t,e)||b6e(t,e)||y6e()}function y6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b6e(t,e){if(t){if(typeof t=="string")return gF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gF(t,e)}}function gF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function v6e(t){if(Array.isArray(t))return t}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){j6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j6e(t,e,r){return e=w6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w6e(t){var e=C6e(t,"string");return mm(e)=="symbol"?e:e+""}function C6e(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xF=function(e,r,n,a,s){var i=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+s),l+="L ".concat(e+n-i/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},N6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S6e=function(e){var r=bF(bF({},N6e),e),n=v.useRef(),a=v.useState(-1),s=g6e(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,p=r.animationEasing,g=r.animationDuration,y=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var b=_e("recharts-trapezoid",h);return x?q.createElement(Do,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:g,animationEasing:p,isActive:x},function(w){var S=w.upperWidth,C=w.lowerWidth,j=w.height,N=w.x,T=w.y;return q.createElement(Do,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:p},q.createElement("path",Cx({},qe(r,!0),{className:b,d:xF(N,T,S,C,j),ref:n})))}):q.createElement("g",null,q.createElement("path",Cx({},qe(r,!0),{className:b,d:xF(c,u,d,f,m)})))},A6e=["option","shapeType","propTransformer","activeClassName","isActive"];function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function T6e(t,e){if(t==null)return{};var r=k6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(r),!0).forEach(function(n){I6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I6e(t,e,r){return e=O6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O6e(t){var e=E6e(t,"string");return hm(e)=="symbol"?e:e+""}function E6e(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P6e(t,e){return Nx(Nx({},e),t)}function D6e(t,e){return t==="symbols"}function jF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return q.createElement(BO,r);case"trapezoid":return q.createElement(S6e,r);case"sector":return q.createElement(c7,r);case"symbols":if(D6e(e))return q.createElement(rO,r);break;default:return null}}function _6e(t){return v.isValidElement(t)?t.props:t}function $6e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?P6e:n,s=t.activeClassName,i=s===void 0?"recharts-active-shape":s,l=t.isActive,c=T6e(t,A6e),u;if(v.isValidElement(e))u=v.cloneElement(e,Nx(Nx({},c),_6e(e)));else if(Ve(e))u=e(c);else if(c6e(e)&&!p6e(e)){var d=a(e,c);u=q.createElement(jF,{shapeType:r,elementProps:d})}else{var f=c;u=q.createElement(jF,{shapeType:r,elementProps:f})}return l?q.createElement(Vt,{className:i},u):u}function Ow(t,e){return e!=null&&"trapezoids"in t.props}function Ew(t,e){return e!=null&&"sectors"in t.props}function pm(t,e){return e!=null&&"points"in t.props}function R6e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function M6e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function L6e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function F6e(t,e){var r;return Ow(t,e)?r=R6e:Ew(t,e)?r=M6e:pm(t,e)&&(r=L6e),r}function B6e(t,e){var r;return Ow(t,e)?r="trapezoids":Ew(t,e)?r="sectors":pm(t,e)&&(r="points"),r}function q6e(t,e){if(Ow(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ew(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return pm(t,e)?e.payload:{}}function V6e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=B6e(r,e),s=q6e(r,e),i=n.filter(function(c,u){var d=$O(s,c),f=r.props[a].filter(function(p){var g=F6e(r,e);return g(p,e)}),m=r.props[a].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(i[i.length-1]);return l}var Db;function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zl.apply(this,arguments)}function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(n){Ln(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A7(n.key),n)}}function z6e(t,e,r){return e&&CF(t.prototype,e),r&&CF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function W6e(t,e,r){return e=Sx(e),H6e(t,S7()?Reflect.construct(e,r||[],Sx(t).constructor):e.apply(t,r))}function H6e(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G6e(t)}function G6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S7=function(){return!!t})()}function Sx(t){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sx(t)}function Y6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uk(t,e)}function uk(t,e){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uk(t,e)}function Ln(t,e,r){return e=A7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A7(t){var e=K6e(t,"string");return Uc(e)=="symbol"?e:e+""}function K6e(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jn=function(t){function e(r){var n;return U6e(this,e),n=W6e(this,e,[r]),Ln(n,"pieRef",null),Ln(n,"sectorRefs",[]),Ln(n,"id",aw("recharts-pie-")),Ln(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ve(a)&&a()}),Ln(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ve(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Y6e(e,t),z6e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=qe(this.props,!1),f=qe(i,!1),m=qe(l,!1),h=i&&i.offsetRadius||20,p=n.map(function(g,y){var x=(g.startAngle+g.endAngle)/2,b=vt(g.cx,g.cy,g.outerRadius+h,x),w=gt(gt(gt(gt({},d),g),{},{stroke:"none"},f),{},{index:y,textAnchor:e.getTextAnchor(b.x,g.cx)},b),S=gt(gt(gt(gt({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:y,points:[vt(g.cx,g.cy,g.outerRadius,x),b]}),C=c;return Ge(c)&&Ge(u)?C="value":Ge(c)&&(C=u),q.createElement(Vt,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,S,"line"),e.renderLabelItem(i,w,mn(g,C)))});return q.createElement(Vt,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,h=f?i:m,p=gt(gt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return q.createElement(Vt,zl({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},sw(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),q.createElement($6e,zl({option:h,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return q.createElement(Do,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,y=[],x=s&&s[0],b=x.startAngle;return s.forEach(function(w,S){var C=m&&m[S],j=S>0?ma(w,"paddingAngle",0):0;if(C){var N=gR(C.endAngle-C.startAngle,w.endAngle-w.startAngle),T=gt(gt({},w),{},{startAngle:b+j,endAngle:b+N(g)+j});y.push(T),b=T.endAngle}else{var k=w.endAngle,E=w.startAngle,O=gR(0,k-E),P=O(g),L=gt(gt({},w),{},{startAngle:b+j,endAngle:b+P+j});y.push(L),b=L.endAngle}}),q.createElement(Vt,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!$O(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,p=this.state.isAnimationFinished;if(s||!i||!i.length||!be(u)||!be(d)||!be(f)||!be(m))return null;var g=_e("recharts-pie",l);return q.createElement(Vt,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(i),vr.renderCallByParent(this.props,null,!1),(!h||p)&&Fi.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(q.isValidElement(n))return q.cloneElement(n,a);if(Ve(n))return n(a);var i=_e("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return q.createElement(KT,zl({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(q.isValidElement(n))return q.cloneElement(n,a);var i=s;if(Ve(n)&&(i=n(a),q.isValidElement(i)))return i;var l=_e("recharts-pie-label-text",typeof n!="boolean"&&!Ve(n)?n.className:"");return q.createElement(_c,zl({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(v.PureComponent);Db=Jn;Ln(Jn,"displayName","Pie");Ln(Jn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ln(Jn,"parseDeltaAngle",function(t,e){var r=Bn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ln(Jn,"getRealPieData",function(t){var e=t.data,r=t.children,n=qe(t,!1),a=Ra(r,pu);return e&&e.length?e.map(function(s,i){return gt(gt(gt({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return gt(gt({},n),s.props)}):[]});Ln(Jn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,i=s7(a,s),l=n+Xr(t.cx,a,a/2),c=r+Xr(t.cy,s,s/2),u=Xr(t.innerRadius,i,0),d=Xr(t.outerRadius,i,i*.8),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ln(Jn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?gt(gt({},e.type.defaultProps),e.props):e.props,a=Db.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),p=Db.parseCoordinateOfPie(n,r),g=Db.parseDeltaAngle(i,l),y=Math.abs(g),x=u;Ge(u)&&Ge(f)?(vs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ge(u)&&(vs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=a.filter(function(T){return mn(T,x,0)!==0}).length,w=(y>=360?b:b-1)*c,S=y-b*h-w,C=a.reduce(function(T,k){var E=mn(k,x,0);return T+(be(E)?E:0)},0),j;if(C>0){var N;j=a.map(function(T,k){var E=mn(T,x,0),O=mn(T,d,k),P=(be(E)?E:0)/C,L;k?L=N.endAngle+Bn(g)*c*(E!==0?1:0):L=i;var $=L+Bn(g)*((E!==0?h:0)+P*S),D=(L+$)/2,B=(p.innerRadius+p.outerRadius)/2,U=[{name:O,value:E,payload:T,dataKey:x,type:m}],_=vt(p.cx,p.cy,B,D);return N=gt(gt(gt({percent:P,cornerRadius:s,name:O,tooltipPayload:U,midAngle:D,middleRadius:B,tooltipPosition:_},T),p),{},{value:mn(T,x),startAngle:L,endAngle:$,payload:T,paddingAngle:Bn(g)*c}),N})}return gt(gt({},p),{},{sectors:j,data:a})});var X6e=Math.ceil,J6e=Math.max;function Q6e(t,e,r,n){for(var a=-1,s=J6e(X6e((e-t)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=t,t+=r;return i}var Z6e=Q6e,eVe=Jz,tVe=1/0,rVe=17976931348623157e292;function nVe(t){if(!t)return t===0?t:0;if(t=eVe(t),t===tVe||t===-1/0){var e=t<0?-1:1;return e*rVe}return t===t?t:0}var aVe=nVe,sVe=Z6e,oVe=fw,eN=aVe;function iVe(t){return function(e,r,n){return n&&typeof n!="number"&&oVe(e,r,n)&&(r=n=void 0),e=eN(e),r===void 0?(r=e,e=0):r=eN(r),n=n===void 0?e<r?1:-1:eN(n),sVe(e,r,n,t)}}var lVe=iVe,cVe=lVe,uVe=cVe(),dVe=uVe;const Ax=Ze(dVe);function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function NF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(r),!0).forEach(function(n){T7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T7(t,e,r){return e=fVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fVe(t){var e=mVe(t,"string");return gm(e)=="symbol"?e:e+""}function mVe(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hVe=["Webkit","Moz","O","ms"],pVe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=hVe.reduce(function(s,i){return SF(SF({},s),{},T7({},i+n,r))},{});return a[e]=r,a};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tx.apply(this,arguments)}function AF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(r),!0).forEach(function(n){cn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I7(n.key),n)}}function yVe(t,e,r){return e&&TF(t.prototype,e),r&&TF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bVe(t,e,r){return e=kx(e),xVe(t,k7()?Reflect.construct(e,r||[],kx(t).constructor):e.apply(t,r))}function xVe(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vVe(t)}function vVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k7=function(){return!!t})()}function kx(t){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kx(t)}function jVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dk(t,e)}function dk(t,e){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dk(t,e)}function cn(t,e,r){return e=I7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I7(t){var e=wVe(t,"string");return zc(e)=="symbol"?e:e+""}function wVe(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CVe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Yd().domain(Ax(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},kF=function(e){return e.changedTouches&&!!e.changedTouches.length},Wc=function(t){function e(r){var n;return gVe(this,e),n=bVe(this,e,[r]),cn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),cn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),cn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),cn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),cn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),cn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),cn(n,"handleSlideDragStart",function(a){var s=kF(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return jVe(e,t),yVe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),m=Math.max(a,s),h=e.getIndexInRange(i,f),p=e.getIndexInRange(i,m);return{startIndex:h-h%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=mn(s[n],l,n);return Ve(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,p=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+d-f-l,u+d-f-i):g<0&&(g=Math.max(g,u-i,u-l));var y=this.getIndex({startX:i+g,endX:l+g});(y.startIndex!==m||y.endIndex!==h)&&p&&p(y),this.setState({startX:i+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=kF(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,p=d.onChange,g=d.gap,y=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+m-h-u):b<0&&(b=Math.max(b,f-u)),x[i]=u+b;var w=this.getIndex(x),S=w.startIndex,C=w.endIndex,j=function(){var T=y.length-1;return i==="startX"&&(l>c?S%g===0:C%g===0)||l<c&&C===T||i==="endX"&&(l>c?C%g===0:S%g===0)||l>c&&C===T};this.setState(cn(cn({},i,u+b),"brushMoveStartX",n.pageX),function(){p&&j()&&p(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(cn({},a,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return q.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?q.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,p=c.data,g=c.startIndex,y=c.endIndex,x=Math.max(n,this.props.x),b=tN(tN({},qe(this.props,!1)),{},{x,y:u,width:d,height:f}),w=h||"Min value: ".concat((s=p[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=p[y])===null||i===void 0?void 0:i.name);return q.createElement(Vt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,p={pointerEvents:"none",fill:u};return q.createElement(Vt,{className:"recharts-brush-texts"},q.createElement(_c,Tx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:i+l/2},p),this.getTextOfTick(a)),q.createElement(_c,Tx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:i+l/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,p=m.endX,g=m.isTextActive,y=m.isSlideMoving,x=m.isTravellerMoving,b=m.isTravellerFocused;if(!a||!a.length||!be(l)||!be(c)||!be(u)||!be(d)||u<=0||d<=0)return null;var w=_e("recharts-brush",s),S=q.Children.count(i)===1,C=pVe("userSelect","none");return q.createElement(Vt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(g||y||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),q.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return q.isValidElement(n)?s=q.cloneElement(n,a):Ve(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return tN({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?CVe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(v.PureComponent);cn(Wc,"displayName","Brush");cn(Wc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var NVe=uO;function SVe(t,e){var r;return NVe(t,function(n,a,s){return r=e(n,a,s),!r}),!!r}var AVe=SVe,TVe=Sz,kVe=Wo,IVe=AVe,OVe=on,EVe=fw;function PVe(t,e,r){var n=OVe(t)?TVe:IVe;return r&&EVe(t,e,r)&&(e=void 0),n(t,kVe(e))}var DVe=PVe;const _Ve=Ze(DVe);var Fa=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},IF=Hz;function $Ve(t,e,r){e=="__proto__"&&IF?IF(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var RVe=$Ve,MVe=RVe,LVe=zz,FVe=Wo;function BVe(t,e){var r={};return e=FVe(e),LVe(t,function(n,a,s){MVe(r,a,e(n,a,s))}),r}var qVe=BVe;const VVe=Ze(qVe);function UVe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var zVe=UVe,WVe=uO;function HVe(t,e){var r=!0;return WVe(t,function(n,a,s){return r=!!e(n,a,s),r}),r}var GVe=HVe,YVe=zVe,KVe=GVe,XVe=Wo,JVe=on,QVe=fw;function ZVe(t,e,r){var n=JVe(t)?YVe:KVe;return r&&QVe(t,e,r)&&(e=void 0),n(t,XVe(e))}var eUe=ZVe;const tUe=Ze(eUe);function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function rUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O7(n.key),n)}}function nUe(t,e,r){return e&&OF(t.prototype,e),r&&OF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function EF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function op(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(r),!0).forEach(function(n){VO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VO(t,e,r){return e=O7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O7(t){var e=aUe(t,"string");return ym(e)=="symbol"?e:e+""}function aUe(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E7=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},sUe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return E7({x:r,y:n},{x:a,y:s})},P7=function(){function t(e){rUe(this,t),this.scale=e}return nUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();VO(P7,"EPS",1e-4);var UO=function(e){var r=Object.keys(e).reduce(function(n,a){return op(op({},n),{},VO({},a,P7.create(e[a])))},{});return op(op({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return VVe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return tUe(a,function(s,i){return r[i].isInRange(s)})}})},oUe=RSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),D7=v.createContext(void 0),_7=v.createContext(void 0),$7=v.createContext(void 0),iUe=v.createContext({}),R7=v.createContext(void 0),lUe=v.createContext(0),cUe=v.createContext(0),PF=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=oUe(s);return q.createElement(D7.Provider,{value:n},q.createElement(_7.Provider,{value:a},q.createElement(iUe.Provider,{value:s},q.createElement($7.Provider,{value:d},q.createElement(R7.Provider,{value:i},q.createElement(lUe.Provider,{value:u},q.createElement(cUe.Provider,{value:c},l)))))))},uUe=function(){return v.useContext(R7)},dUe=function(e){var r=v.useContext(D7);r==null&&Lc();var n=r[e];return n==null&&Lc(),n},fUe=function(e){var r=v.useContext(_7);r==null&&Lc();var n=r[e];return n==null&&Lc(),n},mUe=function(){var e=v.useContext($7);return e};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function hUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L7(n.key),n)}}function gUe(t,e,r){return e&&pUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yUe(t,e,r){return e=Ix(e),bUe(t,M7()?Reflect.construct(e,r||[],Ix(t).constructor):e.apply(t,r))}function bUe(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xUe(t)}function xUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M7=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ix(t)}function vUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fk(t,e)}function fk(t,e){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fk(t,e)}function DF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(r),!0).forEach(function(n){zO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zO(t,e,r){return e=L7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L7(t){var e=jUe(t,"string");return Hc(e)=="symbol"?e:e+""}function jUe(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wUe(t,e){return AUe(t)||SUe(t,e)||NUe(t,e)||CUe()}function CUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NUe(t,e){if(t){if(typeof t=="string")return $F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $F(t,e)}}function $F(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function AUe(t){if(Array.isArray(t))return t}function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mk.apply(this,arguments)}var TUe=function(e,r){var n;return q.isValidElement(e)?n=q.cloneElement(e,r):Ve(e)?n=e(r):n=q.createElement("line",mk({},r,{className:"recharts-reference-line-line"})),n},kUe=function(e,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,m=s.width,h=s.height;if(n){var p=u.y,g=e.y.apply(p,{position:i});if(Fa(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:d+m,y:g},{x:d,y:g}];return c==="left"?y.reverse():y}if(r){var x=u.x,b=e.x.apply(x,{position:i});if(Fa(u,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:f+h},{x:b,y:f}];return l==="top"?w.reverse():w}if(a){var S=u.segment,C=S.map(function(j){return e.apply(j,{position:i})});return Fa(u,"discard")&&_Ve(C,function(j){return!e.isInRange(j)})?null:C}return null};function IUe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=uUe(),d=dUe(a),f=fUe(s),m=mUe();if(!u||!m)return null;vs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=UO({x:d.scale,y:f.scale}),p=ar(e),g=ar(r),y=n&&n.length===2,x=kUe(h,p,g,y,m,t.position,d.orientation,f.orientation,t);if(!x)return null;var b=wUe(x,2),w=b[0],S=w.x,C=w.y,j=b[1],N=j.x,T=j.y,k=Fa(t,"hidden")?"url(#".concat(u,")"):void 0,E=_F(_F({clipPath:k},qe(t,!0)),{},{x1:S,y1:C,x2:N,y2:T});return q.createElement(Vt,{className:_e("recharts-reference-line",l)},TUe(i,E),vr.renderCallByParent(t,sUe({x1:S,y1:C,x2:N,y2:T})))}var WO=function(t){function e(){return hUe(this,e),yUe(this,e,arguments)}return vUe(e,t),gUe(e,[{key:"render",value:function(){return q.createElement(IUe,this.props)}}])}(q.Component);zO(WO,"displayName","ReferenceLine");zO(WO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hk(){return hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hk.apply(this,arguments)}function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function RF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(r),!0).forEach(function(n){Pw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,B7(n.key),n)}}function PUe(t,e,r){return e&&EUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DUe(t,e,r){return e=Ox(e),_Ue(t,F7()?Reflect.construct(e,r||[],Ox(t).constructor):e.apply(t,r))}function _Ue(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ue(t)}function $Ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F7=function(){return!!t})()}function Ox(t){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ox(t)}function RUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pk(t,e)}function pk(t,e){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pk(t,e)}function Pw(t,e,r){return e=B7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B7(t){var e=MUe(t,"string");return Gc(e)=="symbol"?e:e+""}function MUe(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LUe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,i=UO({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Fa(e,"discard")&&!i.isInRange(l)?null:l},Dw=function(t){function e(){return OUe(this,e),DUe(this,e,arguments)}return RUe(e,t),PUe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=ar(a),d=ar(s);if(vs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=LUe(this.props);if(!f)return null;var m=f.x,h=f.y,p=this.props,g=p.shape,y=p.className,x=Fa(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=MF(MF({clipPath:x},qe(this.props,!0)),{},{cx:m,cy:h});return q.createElement(Vt,{className:_e("recharts-reference-dot",y)},e.renderDot(g,b),vr.renderCallByParent(this.props,{x:m-i,y:h-i,width:2*i,height:2*i}))}}])}(q.Component);Pw(Dw,"displayName","ReferenceDot");Pw(Dw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Pw(Dw,"renderDot",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):Ve(t)?r=t(e):r=q.createElement(qO,hk({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function gk(){return gk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gk.apply(this,arguments)}function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function LF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(r),!0).forEach(function(n){_w(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V7(n.key),n)}}function qUe(t,e,r){return e&&BUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VUe(t,e,r){return e=Ex(e),UUe(t,q7()?Reflect.construct(e,r||[],Ex(t).constructor):e.apply(t,r))}function UUe(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zUe(t)}function zUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q7=function(){return!!t})()}function Ex(t){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ex(t)}function WUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yk(t,e)}function yk(t,e){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yk(t,e)}function _w(t,e,r){return e=V7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V7(t){var e=HUe(t,"string");return Yc(e)=="symbol"?e:e+""}function HUe(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GUe=function(e,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=UO({x:d.scale,y:f.scale}),h={x:e?m.x.apply(i,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},p={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Fa(s,"discard")&&(!m.isInRange(h)||!m.isInRange(p))?null:E7(h,p)},$w=function(t){function e(){return FUe(this,e),VUe(this,e,arguments)}return WUe(e,t),qUe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;vs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ar(a),m=ar(s),h=ar(i),p=ar(l),g=this.props.shape;if(!f&&!m&&!h&&!p&&!g)return null;var y=GUe(f,m,h,p,this.props);if(!y&&!g)return null;var x=Fa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(Vt,{className:_e("recharts-reference-area",c)},e.renderRect(g,FF(FF({clipPath:x},qe(this.props,!0)),y)),vr.renderCallByParent(this.props,y))}}])}(q.Component);_w($w,"displayName","ReferenceArea");_w($w,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_w($w,"renderRect",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):Ve(t)?r=t(e):r=q.createElement(BO,gk({},e,{className:"recharts-reference-area-rect"})),r});function BF(t){return JUe(t)||XUe(t)||KUe(t)||YUe()}function YUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KUe(t,e){if(t){if(typeof t=="string")return bk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bk(t,e)}}function XUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JUe(t){if(Array.isArray(t))return bk(t)}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xk=function(e,r,n,a,s){var i=Ra(e,WO),l=Ra(e,Dw),c=[].concat(BF(i),BF(l)),u=Ra(e,$w),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(g,y){if(y.props[d]===n&&Fa(y.props,"extendDomain")&&be(y.props[f])){var x=y.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},m)),u.length){var h="".concat(f,"1"),p="".concat(f,"2");m=u.reduce(function(g,y){if(y.props[d]===n&&Fa(y.props,"extendDomain")&&be(y.props[h])&&be(y.props[p])){var x=y.props[h],b=y.props[p];return[Math.min(g[0],x,b),Math.max(g[1],x,b)]}return g},m)}return s&&s.length&&(m=s.reduce(function(g,y){return be(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},m)),m},U7={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,p=new Array(h);m<h;m++)p[m]=f[m].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,p){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,h),!0;case 6:return y.fn.call(y.context,d,f,m,h,p),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,C;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,m);break;default:if(!b)for(C=1,b=new Array(x-1);C<x;C++)b[C-1]=arguments[C];y[w].fn.apply(y[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!m||p.once)&&(!f||p.context===f)&&i(this,h);else{for(var g=0,y=[],x=p.length;g<x;g++)(p[g].fn!==d||m&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[h]=y.length===1?y[0]:y:i(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(U7);var QUe=U7.exports;const ZUe=Ze(QUe);var rN=new ZUe,nN="recharts.syncMouseEvents";function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function eze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z7(n.key),n)}}function rze(t,e,r){return e&&tze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aN(t,e,r){return e=z7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z7(t){var e=nze(t,"string");return bm(e)=="symbol"?e:e+""}function nze(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aze=function(){function t(){eze(this,t),aN(this,"activeIndex",0),aN(this,"coordinateList",[]),aN(this,"layout","horizontal")}return rze(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,m=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function sze(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&be(n)&&be(a))return!0}return!1}function oze(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function W7(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,i=vt(e,r,n,a),l=vt(e,r,n,s);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function ize(t,e,r){var n,a,s,i;if(t==="horizontal")n=e.x,s=n,a=r.top,i=r.top+r.height;else if(t==="vertical")a=e.y,i=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=vt(l,c,u,f),h=vt(l,c,d,f);n=m.x,a=m.y,s=h.x,i=h.y}else return W7(e);return[{x:n,y:a},{x:s,y:i}]}function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ip(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){lze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lze(t,e,r){return e=cze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cze(t){var e=uze(t,"string");return xm(e)=="symbol"?e:e+""}function uze(t,e){if(xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dze(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!s||!i||m!=="ScatterChart"&&a!=="axis")return null;var p,g=KT;if(m==="ScatterChart")p=i,g=bqe;else if(m==="BarChart")p=oze(f,i,c,d),g=BO;else if(f==="radial"){var y=W7(i),x=y.cx,b=y.cy,w=y.radius,S=y.startAngle,C=y.endAngle;p={cx:x,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},g=c7}else p={points:ize(f,i,c)},g=KT;var j=ip(ip(ip(ip({stroke:"#ccc",pointerEvents:"none"},c),p),qe(h,!1)),{},{payload:l,payloadIndex:u,className:_e("recharts-tooltip-cursor",h.className)});return v.isValidElement(h)?v.cloneElement(h,j):v.createElement(g,j)}var fze=["item"],mze=["children","className","width","height","style","compact","title","desc"];function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wl.apply(this,arguments)}function VF(t,e){return gze(t)||pze(t,e)||G7(t,e)||hze()}function hze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function gze(t){if(Array.isArray(t))return t}function UF(t,e){if(t==null)return{};var r=yze(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y7(n.key),n)}}function vze(t,e,r){return e&&xze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jze(t,e,r){return e=Px(e),wze(t,H7()?Reflect.construct(e,r||[],Px(t).constructor):e.apply(t,r))}function wze(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cze(t)}function Cze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H7=function(){return!!t})()}function Px(t){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Px(t)}function Nze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vk(t,e)}function vk(t,e){return vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vk(t,e)}function Xc(t){return Tze(t)||Aze(t)||G7(t)||Sze()}function Sze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G7(t,e){if(t){if(typeof t=="string")return jk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jk(t,e)}}function Aze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tze(t){if(Array.isArray(t))return jk(t)}function jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){Ee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ee(t,e,r){return e=Y7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y7(t){var e=kze(t,"string");return Kc(e)=="symbol"?e:e+""}function kze(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ize={xAxis:["bottom","top"],yAxis:["left","right"]},Oze={width:"100%",height:"100%"},K7={x:0,y:0};function lp(t){return t}var Eze=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Pze=function(e,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,l=a.radius;return re(re(re({},a),vt(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return re(re(re({},a),vt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return K7},Rw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Xc(l),Xc(u)):l},[]);return i.length>0?i:e&&e.length&&be(a)&&be(s)?e.slice(a,s+1):[]};function X7(t){return t==="number"?[0,"auto"]:void 0}var wk=function(e,r,n,a){var s=e.graphicalItems,i=e.tooltipAxis,l=Rw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(i.dataKey&&!i.allowDuplicatedCategory){var h=f===void 0?l:f;m=tT(h,i.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(Xc(c),[n4e(u,m)]):c},[])},WF=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},i=Eze(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=q5e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=wk(e,r,d,f),h=Pze(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},Dze=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=r7(d,s);return n.reduce(function(p,g){var y,x=g.type.defaultProps!==void 0?re(re({},g.type.defaultProps),g.props):g.props,b=x.type,w=x.dataKey,S=x.allowDataOverflow,C=x.allowDuplicatedCategory,j=x.scale,N=x.ticks,T=x.includeHidden,k=x[i];if(p[k])return p;var E=Rw(e.data,{graphicalItems:a.filter(function(W){var Z,fe=i in W.props?W.props[i]:(Z=W.type.defaultProps)===null||Z===void 0?void 0:Z[i];return fe===k}),dataStartIndex:c,dataEndIndex:u}),O=E.length,P,L,$;sze(x.domain,S,b)&&(P=UT(x.domain,null,S),h&&(b==="number"||j!=="auto")&&($=Kd(E,w,"category")));var D=X7(b);if(!P||P.length===0){var B,U=(B=x.domain)!==null&&B!==void 0?B:D;if(w){if(P=Kd(E,w,b),b==="category"&&h){var _=EAe(P);C&&_?(L=P,P=Ax(0,O)):C||(P=TL(U,P,g).reduce(function(W,Z){return W.indexOf(Z)>=0?W:[].concat(Xc(W),[Z])},[]))}else if(b==="category")C?P=P.filter(function(W){return W!==""&&!Ge(W)}):P=TL(U,P,g).reduce(function(W,Z){return W.indexOf(Z)>=0||Z===""||Ge(Z)?W:[].concat(Xc(W),[Z])},[]);else if(b==="number"){var R=H5e(E,a.filter(function(W){var Z,fe,Te=i in W.props?W.props[i]:(Z=W.type.defaultProps)===null||Z===void 0?void 0:Z[i],ne="hide"in W.props?W.props.hide:(fe=W.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return Te===k&&(T||!ne)}),w,s,d);R&&(P=R)}h&&(b==="number"||j!=="auto")&&($=Kd(E,w,"category"))}else h?P=Ax(0,O):l&&l[k]&&l[k].hasStack&&b==="number"?P=m==="expand"?[0,1]:n7(l[k].stackGroups,c,u):P=t7(E,a.filter(function(W){var Z=i in W.props?W.props[i]:W.type.defaultProps[i],fe="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return Z===k&&(T||!fe)}),b,d,!0);if(b==="number")P=xk(f,P,k,s,N),U&&(P=UT(U,P,S));else if(b==="category"&&U){var F=U,G=P.every(function(W){return F.indexOf(W)>=0});G&&(P=F)}}return re(re({},p),{},Ee({},k,re(re({},x),{},{axisType:s,domain:P,categoricalDomain:$,duplicateDomain:L,originalDomain:(y=x.domain)!==null&&y!==void 0?y:D,isCategorical:h,layout:d})))},{})},_ze=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=Rw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,p=r7(d,s),g=-1;return n.reduce(function(y,x){var b=x.type.defaultProps!==void 0?re(re({},x.type.defaultProps),x.props):x.props,w=b[i],S=X7("number");if(!y[w]){g++;var C;return p?C=Ax(0,h):l&&l[w]&&l[w].hasStack?(C=n7(l[w].stackGroups,c,u),C=xk(f,C,w,s)):(C=UT(S,t7(m,n.filter(function(j){var N,T,k=i in j.props?j.props[i]:(N=j.type.defaultProps)===null||N===void 0?void 0:N[i],E="hide"in j.props?j.props.hide:(T=j.type.defaultProps)===null||T===void 0?void 0:T.hide;return k===w&&!E}),"number",d),a.defaultProps.allowDataOverflow),C=xk(f,C,w,s)),re(re({},y),{},Ee({},w,re(re({axisType:s},a.defaultProps),{},{hide:!0,orientation:ma(Ize,"".concat(s,".").concat(g%2),null),domain:C,originalDomain:S,isCategorical:p,layout:d})))}return y},{})},$ze=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=Ra(d,s),h={};return m&&m.length?h=Dze(e,{axes:m,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(h=_ze(e,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},Rze=function(e){var r=kl(e),n=fd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:dO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:zT(r,n)}},HF=function(e){var r=e.children,n=e.defaultShowTooltip,a=$n(r,Wc),s=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},Mze=function(e){return!e||!e.length?!1:e.some(function(r){var n=xs(r&&r.type);return n&&n.indexOf("Bar")>=0})},GF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Lze=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,i=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=$n(f,Wc),p=$n(f,Ma),g=Object.keys(c).reduce(function(C,j){var N=c[j],T=N.orientation;return!N.mirror&&!N.hide?re(re({},C),{},Ee({},T,C[T]+N.width)):C},{left:m.left||0,right:m.right||0}),y=Object.keys(i).reduce(function(C,j){var N=i[j],T=N.orientation;return!N.mirror&&!N.hide?re(re({},C),{},Ee({},T,ma(C,"".concat(T))+N.height)):C},{top:m.top||0,bottom:m.bottom||0}),x=re(re({},y),g),b=x.bottom;h&&(x.bottom+=h.props.height||Wc.defaultProps.height),p&&r&&(x=z5e(x,a,n,r));var w=u-x.left-x.right,S=d-x.top-x.bottom;return re(re({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(S,0)})},Fze=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Bze=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(x,b){var w=b.graphicalItems,S=b.stackGroups,C=b.offset,j=b.updateId,N=b.dataStartIndex,T=b.dataEndIndex,k=x.barSize,E=x.layout,O=x.barGap,P=x.barCategoryGap,L=x.maxBarSize,$=GF(E),D=$.numericAxisName,B=$.cateAxisName,U=Mze(w),_=[];return w.forEach(function(R,F){var G=Rw(x.data,{graphicalItems:[R],dataStartIndex:N,dataEndIndex:T}),W=R.type.defaultProps!==void 0?re(re({},R.type.defaultProps),R.props):R.props,Z=W.dataKey,fe=W.maxBarSize,Te=W["".concat(D,"Id")],ne=W["".concat(B,"Id")],K={},le=c.reduce(function(On,X){var Y=b["".concat(X.axisType,"Map")],de=W["".concat(X.axisType,"Id")];Y&&Y[de]||X.axisType==="zAxis"||Lc();var ue=Y[de];return re(re({},On),{},Ee(Ee({},X.axisType,ue),"".concat(X.axisType,"Ticks"),fd(ue)))},K),J=le[B],ee=le["".concat(B,"Ticks")],H=S&&S[Te]&&S[Te].hasStack&&t4e(R,S[Te].stackGroups),z=xs(R.type).indexOf("Bar")>=0,me=zT(J,ee),we=[],Ie=U&&V5e({barSize:k,stackGroups:S,totalSize:Fze(le,B)});if(z){var Ne,ir,kn=Ge(fe)?L:fe,In=(Ne=(ir=zT(J,ee,!0))!==null&&ir!==void 0?ir:kn)!==null&&Ne!==void 0?Ne:0;we=U5e({barGap:O,barCategoryGap:P,bandSize:In!==me?In:me,sizeList:Ie[ne],maxBarSize:kn}),In!==me&&(we=we.map(function(On){return re(re({},On),{},{position:re(re({},On.position),{},{offset:On.position.offset-In/2})})}))}var qs=R&&R.type&&R.type.getComposedData;qs&&_.push({props:re(re({},qs(re(re({},le),{},{displayedData:G,props:x,dataKey:Z,item:R,bandSize:me,barPosition:we,offset:C,stackedData:H,layout:E,dataStartIndex:N,dataEndIndex:T}))),{},Ee(Ee(Ee({key:R.key||"item-".concat(F)},D,le[D]),B,le[B]),"animationId",j)),childIndex:VAe(R,x.children),item:R})}),_},h=function(x,b){var w=x.props,S=x.dataStartIndex,C=x.dataEndIndex,j=x.updateId;if(!jR({props:w}))return null;var N=w.children,T=w.layout,k=w.stackOffset,E=w.data,O=w.reverseStackOrder,P=GF(T),L=P.numericAxisName,$=P.cateAxisName,D=Ra(N,n),B=Z5e(E,D,"".concat(L,"Id"),"".concat($,"Id"),k,O),U=c.reduce(function(W,Z){var fe="".concat(Z.axisType,"Map");return re(re({},W),{},Ee({},fe,$ze(w,re(re({},Z),{},{graphicalItems:D,stackGroups:Z.axisType===L&&B,dataStartIndex:S,dataEndIndex:C}))))},{}),_=Lze(re(re({},U),{},{props:w,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(W){U[W]=d(w,U[W],_,W.replace("Map",""),r)});var R=U["".concat($,"Map")],F=Rze(R),G=m(w,re(re({},U),{},{dataStartIndex:S,dataEndIndex:C,updateId:j,graphicalItems:D,stackGroups:B,offset:_}));return re(re({formattedGraphicalItems:G,graphicalItems:D,offset:_,stackGroups:B},F),U)},p=function(y){function x(b){var w,S,C;return bze(this,x),C=jze(this,x,[b]),Ee(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(C,"accessibilityManager",new aze),Ee(C,"handleLegendBBoxUpdate",function(j){if(j){var N=C.state,T=N.dataStartIndex,k=N.dataEndIndex,E=N.updateId;C.setState(re({legendBBox:j},h({props:C.props,dataStartIndex:T,dataEndIndex:k,updateId:E},re(re({},C.state),{},{legendBBox:j}))))}}),Ee(C,"handleReceiveSyncEvent",function(j,N,T){if(C.props.syncId===j){if(T===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(N)}}),Ee(C,"handleBrushChange",function(j){var N=j.startIndex,T=j.endIndex;if(N!==C.state.dataStartIndex||T!==C.state.dataEndIndex){var k=C.state.updateId;C.setState(function(){return re({dataStartIndex:N,dataEndIndex:T},h({props:C.props,dataStartIndex:N,dataEndIndex:T,updateId:k},C.state))}),C.triggerSyncEvent({dataStartIndex:N,dataEndIndex:T})}}),Ee(C,"handleMouseEnter",function(j){var N=C.getMouseInfo(j);if(N){var T=re(re({},N),{},{isTooltipActive:!0});C.setState(T),C.triggerSyncEvent(T);var k=C.props.onMouseEnter;Ve(k)&&k(T,j)}}),Ee(C,"triggeredAfterMouseMove",function(j){var N=C.getMouseInfo(j),T=N?re(re({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(T),C.triggerSyncEvent(T);var k=C.props.onMouseMove;Ve(k)&&k(T,j)}),Ee(C,"handleItemMouseEnter",function(j){C.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Ee(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Ee(C,"handleMouseMove",function(j){j.persist(),C.throttleTriggeredAfterMouseMove(j)}),Ee(C,"handleMouseLeave",function(j){C.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};C.setState(N),C.triggerSyncEvent(N);var T=C.props.onMouseLeave;Ve(T)&&T(N,j)}),Ee(C,"handleOuterEvent",function(j){var N=qAe(j),T=ma(C.props,"".concat(N));if(N&&Ve(T)){var k,E;/.*touch.*/i.test(N)?E=C.getMouseInfo(j.changedTouches[0]):E=C.getMouseInfo(j),T((k=E)!==null&&k!==void 0?k:{},j)}}),Ee(C,"handleClick",function(j){var N=C.getMouseInfo(j);if(N){var T=re(re({},N),{},{isTooltipActive:!0});C.setState(T),C.triggerSyncEvent(T);var k=C.props.onClick;Ve(k)&&k(T,j)}}),Ee(C,"handleMouseDown",function(j){var N=C.props.onMouseDown;if(Ve(N)){var T=C.getMouseInfo(j);N(T,j)}}),Ee(C,"handleMouseUp",function(j){var N=C.props.onMouseUp;if(Ve(N)){var T=C.getMouseInfo(j);N(T,j)}}),Ee(C,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Ee(C,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseDown(j.changedTouches[0])}),Ee(C,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseUp(j.changedTouches[0])}),Ee(C,"handleDoubleClick",function(j){var N=C.props.onDoubleClick;if(Ve(N)){var T=C.getMouseInfo(j);N(T,j)}}),Ee(C,"handleContextMenu",function(j){var N=C.props.onContextMenu;if(Ve(N)){var T=C.getMouseInfo(j);N(T,j)}}),Ee(C,"triggerSyncEvent",function(j){C.props.syncId!==void 0&&rN.emit(nN,C.props.syncId,j,C.eventEmitterSymbol)}),Ee(C,"applySyncEvent",function(j){var N=C.props,T=N.layout,k=N.syncMethod,E=C.state.updateId,O=j.dataStartIndex,P=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)C.setState(re({dataStartIndex:O,dataEndIndex:P},h({props:C.props,dataStartIndex:O,dataEndIndex:P,updateId:E},C.state)));else if(j.activeTooltipIndex!==void 0){var L=j.chartX,$=j.chartY,D=j.activeTooltipIndex,B=C.state,U=B.offset,_=B.tooltipTicks;if(!U)return;if(typeof k=="function")D=k(_,j);else if(k==="value"){D=-1;for(var R=0;R<_.length;R++)if(_[R].value===j.activeLabel){D=R;break}}var F=re(re({},U),{},{x:U.left,y:U.top}),G=Math.min(L,F.x+F.width),W=Math.min($,F.y+F.height),Z=_[D]&&_[D].value,fe=wk(C.state,C.props.data,D),Te=_[D]?{x:T==="horizontal"?_[D].coordinate:G,y:T==="horizontal"?W:_[D].coordinate}:K7;C.setState(re(re({},j),{},{activeLabel:Z,activeCoordinate:Te,activePayload:fe,activeTooltipIndex:D}))}else C.setState(j)}),Ee(C,"renderCursor",function(j){var N,T=C.state,k=T.isTooltipActive,E=T.activeCoordinate,O=T.activePayload,P=T.offset,L=T.activeTooltipIndex,$=T.tooltipAxisBandSize,D=C.getTooltipEventType(),B=(N=j.props.active)!==null&&N!==void 0?N:k,U=C.props.layout,_=j.key||"_recharts-cursor";return q.createElement(dze,{key:_,activeCoordinate:E,activePayload:O,activeTooltipIndex:L,chartName:r,element:j,isActive:B,layout:U,offset:P,tooltipAxisBandSize:$,tooltipEventType:D})}),Ee(C,"renderPolarAxis",function(j,N,T){var k=ma(j,"type.axisType"),E=ma(C.state,"".concat(k,"Map")),O=j.type.defaultProps,P=O!==void 0?re(re({},O),j.props):j.props,L=E&&E[P["".concat(k,"Id")]];return v.cloneElement(j,re(re({},L),{},{className:_e(k,L.className),key:j.key||"".concat(N,"-").concat(T),ticks:fd(L,!0)}))}),Ee(C,"renderPolarGrid",function(j){var N=j.props,T=N.radialLines,k=N.polarAngles,E=N.polarRadius,O=C.state,P=O.radiusAxisMap,L=O.angleAxisMap,$=kl(P),D=kl(L),B=D.cx,U=D.cy,_=D.innerRadius,R=D.outerRadius;return v.cloneElement(j,{polarAngles:Array.isArray(k)?k:fd(D,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(E)?E:fd($,!0).map(function(F){return F.coordinate}),cx:B,cy:U,innerRadius:_,outerRadius:R,key:j.key||"polar-grid",radialLines:T})}),Ee(C,"renderLegend",function(){var j=C.state.formattedGraphicalItems,N=C.props,T=N.children,k=N.width,E=N.height,O=C.props.margin||{},P=k-(O.left||0)-(O.right||0),L=Z8({children:T,formattedGraphicalItems:j,legendWidth:P,legendContent:u});if(!L)return null;var $=L.item,D=UF(L,fze);return v.cloneElement($,re(re({},D),{},{chartWidth:k,chartHeight:E,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Ee(C,"renderTooltip",function(){var j,N=C.props,T=N.children,k=N.accessibilityLayer,E=$n(T,Qa);if(!E)return null;var O=C.state,P=O.isTooltipActive,L=O.activeCoordinate,$=O.activePayload,D=O.activeLabel,B=O.offset,U=(j=E.props.active)!==null&&j!==void 0?j:P;return v.cloneElement(E,{viewBox:re(re({},B),{},{x:B.left,y:B.top}),active:U,label:D,payload:U?$:[],coordinate:L,accessibilityLayer:k})}),Ee(C,"renderBrush",function(j){var N=C.props,T=N.margin,k=N.data,E=C.state,O=E.offset,P=E.dataStartIndex,L=E.dataEndIndex,$=E.updateId;return v.cloneElement(j,{key:j.key||"_recharts-brush",onChange:rp(C.handleBrushChange,j.props.onChange),data:k,x:be(j.props.x)?j.props.x:O.left,y:be(j.props.y)?j.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:be(j.props.width)?j.props.width:O.width,startIndex:P,endIndex:L,updateId:"brush-".concat($)})}),Ee(C,"renderReferenceElement",function(j,N,T){if(!j)return null;var k=C,E=k.clipPathId,O=C.state,P=O.xAxisMap,L=O.yAxisMap,$=O.offset,D=j.type.defaultProps||{},B=j.props,U=B.xAxisId,_=U===void 0?D.xAxisId:U,R=B.yAxisId,F=R===void 0?D.yAxisId:R;return v.cloneElement(j,{key:j.key||"".concat(N,"-").concat(T),xAxis:P[_],yAxis:L[F],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:E})}),Ee(C,"renderActivePoints",function(j){var N=j.item,T=j.activePoint,k=j.basePoint,E=j.childIndex,O=j.isRange,P=[],L=N.props.key,$=N.item.type.defaultProps!==void 0?re(re({},N.item.type.defaultProps),N.item.props):N.item.props,D=$.activeDot,B=$.dataKey,U=re(re({index:E,dataKey:B,cx:T.x,cy:T.y,r:4,fill:FO(N.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},qe(D,!1)),V0(D));return P.push(x.renderActiveDot(D,U,"".concat(L,"-activePoint-").concat(E))),k?P.push(x.renderActiveDot(D,re(re({},U),{},{cx:k.x,cy:k.y}),"".concat(L,"-basePoint-").concat(E))):O&&P.push(null),P}),Ee(C,"renderGraphicChild",function(j,N,T){var k=C.filterFormatItem(j,N,T);if(!k)return null;var E=C.getTooltipEventType(),O=C.state,P=O.isTooltipActive,L=O.tooltipAxis,$=O.activeTooltipIndex,D=O.activeLabel,B=C.props.children,U=$n(B,Qa),_=k.props,R=_.points,F=_.isRange,G=_.baseLine,W=k.item.type.defaultProps!==void 0?re(re({},k.item.type.defaultProps),k.item.props):k.item.props,Z=W.activeDot,fe=W.hide,Te=W.activeBar,ne=W.activeShape,K=!!(!fe&&P&&U&&(Z||Te||ne)),le={};E!=="axis"&&U&&U.props.trigger==="click"?le={onClick:rp(C.handleItemMouseEnter,j.props.onClick)}:E!=="axis"&&(le={onMouseLeave:rp(C.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:rp(C.handleItemMouseEnter,j.props.onMouseEnter)});var J=v.cloneElement(j,re(re({},k.props),le));function ee(X){return typeof L.dataKey=="function"?L.dataKey(X.payload):null}if(K)if($>=0){var H,z;if(L.dataKey&&!L.allowDuplicatedCategory){var me=typeof L.dataKey=="function"?ee:"payload.".concat(L.dataKey.toString());H=tT(R,me,D),z=F&&G&&tT(G,me,D)}else H=R==null?void 0:R[$],z=F&&G&&G[$];if(ne||Te){var we=j.props.activeIndex!==void 0?j.props.activeIndex:$;return[v.cloneElement(j,re(re(re({},k.props),le),{},{activeIndex:we})),null,null]}if(!Ge(H))return[J].concat(Xc(C.renderActivePoints({item:k,activePoint:H,basePoint:z,childIndex:$,isRange:F})))}else{var Ie,Ne=(Ie=C.getItemByXY(C.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:J},ir=Ne.graphicalItem,kn=ir.item,In=kn===void 0?j:kn,qs=ir.childIndex,On=re(re(re({},k.props),le),{},{activeIndex:qs});return[v.cloneElement(In,On),null,null]}return F?[J,null,null]:[J,null]}),Ee(C,"renderCustomized",function(j,N,T){return v.cloneElement(j,re(re({key:"recharts-customized-".concat(T)},C.props),C.state))}),Ee(C,"renderMap",{CartesianGrid:{handler:lp,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:lp},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:lp},YAxis:{handler:lp},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:aw("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Qz(C.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),C.state={},C}return Nze(x,y),vze(x,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,C=w.data,j=w.height,N=w.layout,T=$n(S,Qa);if(T){var k=T.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=wk(this.state,C,k,E),P=this.state.tooltipTicks[k].coordinate,L=(this.state.offset.top+j)/2,$=N==="horizontal",D=$?{x:P,y:L}:{y:P,x:L},B=this.state.formattedGraphicalItems.find(function(_){var R=_.item;return R.type.name==="Scatter"});B&&(D=re(re({},D),B.props.points[k].tooltipPosition),O=B.props.points[k].tooltipPayload);var U={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:E,activePayload:O,activeCoordinate:D};this.setState(U),this.renderCursor(T),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var C,j;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){aT([$n(w.children,Qa)],[$n(this.props.children,Qa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=$n(this.props.children,Qa);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,C=S.getBoundingClientRect(),j=pRe(C),N={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},T=C.width/S.offsetWidth||1,k=this.inRange(N.chartX,N.chartY,T);if(!k)return null;var E=this.state,O=E.xAxisMap,P=E.yAxisMap,L=this.getTooltipEventType(),$=WF(this.state,this.props.data,this.props.layout,k);if(L!=="axis"&&O&&P){var D=kl(O).scale,B=kl(P).scale,U=D&&D.invert?D.invert(N.chartX):null,_=B&&B.invert?B.invert(N.chartY):null;return re(re({},N),{},{xValue:U,yValue:_},$)}return $?re(re({},N),$):null}},{key:"inRange",value:function(w,S){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,N=w/C,T=S/C;if(j==="horizontal"||j==="vertical"){var k=this.state.offset,E=N>=k.left&&N<=k.left+k.width&&T>=k.top&&T<=k.top+k.height;return E?{x:N,y:T}:null}var O=this.state,P=O.angleAxisMap,L=O.radiusAxisMap;if(P&&L){var $=kl(P);return OL({x:N,y:T},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),C=$n(w,Qa),j={};C&&S==="axis"&&(C.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=V0(this.props,this.handleOuterEvent);return re(re({},N),j)}},{key:"addListener",value:function(){rN.on(nN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rN.removeListener(nN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,C){for(var j=this.state.formattedGraphicalItems,N=0,T=j.length;N<T;N++){var k=j[N];if(k.item===w||k.props.key===w.key||S===xs(k.item.type)&&C===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,C=S.left,j=S.top,N=S.height,T=S.width;return q.createElement("defs",null,q.createElement("clipPath",{id:w},q.createElement("rect",{x:C,y:j,height:N,width:T})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,C){var j=VF(C,2),N=j[0],T=j[1];return re(re({},S),{},Ee({},N,T.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,C){var j=VF(C,2),N=j[0],T=j[1];return re(re({},S),{},Ee({},N,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,C=S.formattedGraphicalItems,j=S.activeItem;if(C&&C.length)for(var N=0,T=C.length;N<T;N++){var k=C[N],E=k.props,O=k.item,P=O.type.defaultProps!==void 0?re(re({},O.type.defaultProps),O.props):O.props,L=xs(O.type);if(L==="Bar"){var $=(E.data||[]).find(function(_){return Q3e(w,_)});if($)return{graphicalItem:k,payload:$}}else if(L==="RadialBar"){var D=(E.data||[]).find(function(_){return OL(w,_)});if(D)return{graphicalItem:k,payload:D}}else if(Ow(k,j)||Ew(k,j)||pm(k,j)){var B=V6e({graphicalItem:k,activeTooltipItem:j,itemData:P.data}),U=P.activeIndex===void 0?B:P.activeIndex;return{graphicalItem:re(re({},k),{},{childIndex:U}),payload:pm(k,j)?P.data[B]:k.props.data[B]}}}return null}},{key:"render",value:function(){var w=this;if(!jR(this))return null;var S=this.props,C=S.children,j=S.className,N=S.width,T=S.height,k=S.style,E=S.compact,O=S.title,P=S.desc,L=UF(S,mze),$=qe(L,!1);if(E)return q.createElement(PF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(oT,Wl({},$,{width:N,height:T,title:O,desc:P}),this.renderClipPath(),CR(C,this.renderMap)));if(this.props.accessibilityLayer){var D,B;$.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,$.role=(B=this.props.role)!==null&&B!==void 0?B:"application",$.onKeyDown=function(_){w.accessibilityManager.keyboardEvent(_)},$.onFocus=function(){w.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return q.createElement(PF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",Wl({className:_e("recharts-wrapper",j),style:re({position:"relative",cursor:"default",width:N,height:T},k)},U,{ref:function(R){w.container=R}}),q.createElement(oT,Wl({},$,{width:N,height:T,title:O,desc:P,style:Oze}),this.renderClipPath(),CR(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Ee(p,"displayName",r),Ee(p,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ee(p,"getDerivedStateFromProps",function(y,x){var b=y.dataKey,w=y.data,S=y.children,C=y.width,j=y.height,N=y.layout,T=y.stackOffset,k=y.margin,E=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var P=HF(y);return re(re(re({},P),{},{updateId:0},h(re(re({props:y},P),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:C,prevHeight:j,prevLayout:N,prevStackOffset:T,prevMargin:k,prevChildren:S})}if(b!==x.prevDataKey||w!==x.prevData||C!==x.prevWidth||j!==x.prevHeight||N!==x.prevLayout||T!==x.prevStackOffset||!rT(k,x.prevMargin)){var L=HF(y),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},D=re(re({},WF(x,w,N)),{},{updateId:x.updateId+1}),B=re(re(re({},L),$),D);return re(re(re({},B),h(re({props:y},B),x)),{},{prevDataKey:b,prevData:w,prevWidth:C,prevHeight:j,prevLayout:N,prevStackOffset:T,prevMargin:k,prevChildren:S})}if(!aT(S,x.prevChildren)){var U,_,R,F,G=$n(S,Wc),W=G&&(U=(_=G.props)===null||_===void 0?void 0:_.startIndex)!==null&&U!==void 0?U:E,Z=G&&(R=(F=G.props)===null||F===void 0?void 0:F.endIndex)!==null&&R!==void 0?R:O,fe=W!==E||Z!==O,Te=!Ge(w),ne=Te&&!fe?x.updateId:x.updateId+1;return re(re({updateId:ne},h(re(re({props:y},x),{},{updateId:ne,dataStartIndex:W,dataEndIndex:Z}),x)),{},{prevChildren:S,dataStartIndex:W,dataEndIndex:Z})}return null}),Ee(p,"renderActiveDot",function(y,x,b){var w;return v.isValidElement(y)?w=v.cloneElement(y,x):Ve(y)?w=y(x):w=q.createElement(qO,x),q.createElement(Vt,{className:"recharts-active-dot",key:b},w)});var g=v.forwardRef(function(x,b){return q.createElement(p,Wl({},x,{ref:b}))});return g.displayName=p.displayName,g},Mw=Bze({chartName:"PieChart",GraphicalChild:Jn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Iw},{axisType:"radiusAxis",AxisComp:Tw}],formatAxisMap:f4e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const YF=["#0088FE","#FF8042"];function qze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),o.jsxs("div",{className:"w-full h-72",children:[" ",o.jsx(hw,{width:"100%",height:"100%",children:o.jsxs(Mw,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(Jn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>o.jsx(pu,{fill:YF[r%YF.length]},`cell-${r}`))}),o.jsx(Ma,{})]})})]})]})}const KF=["#0088FE","#FF8042","#00C49F"];function Vze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),o.jsxs("div",{className:"w-full h-64",children:[" ",o.jsx(hw,{width:"100%",height:"100%",children:o.jsxs(Mw,{children:[o.jsx(Jn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>o.jsx(pu,{fill:KF[r%KF.length]},`cell-${r}`))}),o.jsx(Ma,{})]})})]})]})}function Uze(){ie();const[t,e]=v.useState(""),[r,n]=v.useState(""),[a,s]=v.useState([]),[i,l]=v.useState([]),[c,u]=v.useState({chart1:[],chart2:[],table:[]}),[d,f]=v.useState(!1),m=[{ID:"dept1",Name:"Finance"},{ID:"dept2",Name:"Operations"}],h={dept1:[{ID:"sub1",Name:"Accounts Payable"},{ID:"sub2",Name:"Budgeting"}],dept2:[{ID:"sub3",Name:"Logistics"},{ID:"sub4",Name:"Maintenance"}]},p={chart1:[{name:"Budget Amount",value:6e5},{name:"Charges",value:45e4}],chart2:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:2e5},{name:"Charges",value:15e4}],table:[{name:"Accounts Payable",total:"250,000"},{name:"Accounts Receivable",total:"300,000"}]};v.useEffect(()=>{s(m)},[]),v.useEffect(()=>{t&&(l(h[t]||[]),n(""),u({chart1:[],chart2:[],table:[]}))},[t]),v.useEffect(()=>{r&&(f(!0),setTimeout(()=>{u(p),f(!1)},800))},[r]);const g=[{key:"name",header:"AP AR",sortable:!1},{key:"total",header:"Total",sortable:!1}];return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Dashboard"}),o.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(A,{label:"Department",name:"Department",type:"select",value:t,onChange:y=>e(y.target.value),options:a.map(y=>({value:y.ID,label:y.Name})),required:!0}),o.jsx(A,{label:"Sub-Department",name:"SubDepartment",type:"select",value:r,onChange:y=>n(y.target.value),options:i.map(y=>({value:y.ID,label:y.Name})),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsx(qze,{data:c==null?void 0:c.chart1,loading:d}),o.jsx(Vze,{data:c==null?void 0:c.chart2,loading:d})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:g,data:(c==null?void 0:c.table)||[],loading:d,emptyMessage:"No budget data found for selected sub-department."})})]})}const XF=["#0088FE","#00C49F","#FF8042"],JF={year:{disbursed:"PHP 10,00,00,000",obligated:"PHP 8,50,00,000"},month:{disbursed:"PHP 2,50,00,000",obligated:"PHP 2,00,00,000"},day:{disbursed:"PHP 10,00,000",obligated:"PHP 8,00,000"}},zze={year:{disbursement:[{name:"Posted",value:80},{name:"Rejected",value:20}],obligation:[{name:"Posted",value:60},{name:"Requested",value:30},{name:"Rejected",value:10}],travel:[{name:"Posted",value:40},{name:"Requested",value:40},{name:"Rejected",value:20}]},month:{disbursement:[{name:"Posted",value:70},{name:"Rejected",value:30}],obligation:[{name:"Posted",value:50},{name:"Requested",value:40},{name:"Rejected",value:10}],travel:[{name:"Posted",value:60},{name:"Requested",value:30},{name:"Rejected",value:10}]},day:{disbursement:[{name:"Posted",value:90},{name:"Rejected",value:10}],obligation:[{name:"Posted",value:55},{name:"Requested",value:35},{name:"Rejected",value:10}],travel:[{name:"Posted",value:65},{name:"Requested",value:25},{name:"Rejected",value:10}]}};function Wze(){var p,g;const[t,e]=v.useState("year"),[r,n]=v.useState(""),[a,s]=v.useState("year"),[i,l]=v.useState(""),c=((p=JF[t])==null?void 0:p.disbursed)||"",u=((g=JF[t])==null?void 0:g.obligated)||"",d=zze[a],f=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}],m=[{value:"dept1",label:"Department A"},{value:"dept2",label:"Department B"}],h=(y,x)=>o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:y}),o.jsx("div",{className:"w-full h-64",children:o.jsx(hw,{width:"100%",height:"100%",children:o.jsxs(Mw,{children:[o.jsx(Jn,{data:x,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:x.map((b,w)=>o.jsx(pu,{fill:XF[w%XF.length]},w))}),o.jsx(Ma,{})]})})})]});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("h1",{children:"Disbursement Dashboard"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(A,{label:"Timeframe",type:"select",value:t,onChange:y=>e(y.target.value),options:f}),o.jsx(A,{label:"Department",type:"select",value:r,onChange:y=>n(y.target.value),options:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",u]})]}),o.jsx("hr",{className:"my-8 border-t"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Timeframe",type:"select",value:a,onChange:y=>s(y.target.value),options:f}),o.jsx(A,{label:"Department",type:"select",value:i,onChange:y=>l(y.target.value),options:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[h("Disbursement",d.disbursement),h("Obligation",d.obligation),h("Travel",d.travel)]})]})}const QF=["#0088FE","#FF8042","#00C49F"],cp={general:0,marriage:0,burial:0,cedula:0},sN={general:[{name:"Paid",value:60},{name:"Unpaid",value:40}],marriage:[{name:"Paid",value:80},{name:"Unpaid",value:20}],burial:[{name:"Paid",value:70},{name:"Unpaid",value:30}]};function oN({title:t,data:e}){return o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(hw,{width:"100%",height:"100%",children:o.jsxs(Mw,{children:[o.jsx(Jn,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>o.jsx(pu,{fill:QF[n%QF.length]},n))}),o.jsx(Ma,{})]})})})]})}function Hze(){return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[o.jsx("div",{children:o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.jsx(A,{label:"Select View",type:"select",options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"General Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",cp.general.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",cp.marriage.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",cp.burial.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cedula"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",cp.cedula.toFixed(2)]})]})]})]})]}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[o.jsx(oN,{title:"General Service Invoice",data:sN.general}),o.jsx(oN,{title:"Marriage Service Invoice",data:sN.marriage}),o.jsx(oN,{title:"Burial Service Invoice",data:sN.burial})]})]})}const th="https://staging-engine.testthelink.online",Gze=[],pc=M("generalServiceReceipts/fetchGeneralServiceReceipts",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await nt.get(`${th}/generalservicerecipt`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),iN=M("generalServiceReceipts/fetchGeneralServiceReceiptById",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await nt.get(`${th}/api/general-service-receipts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),_b=M("generalServiceReceipts/createGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await nt.post(`${th}/generalservicerecipt`,t,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),lN=M("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e},r)=>{var n,a;try{const s=localStorage.getItem("token");return(await nt.put(`${th}/generalservicerecipt/${t}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return r.rejectWithValue(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||s.message)}}),$b=M("generalServiceReceipts/deleteGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return await nt.delete(`${th}/generalservicerecipt/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),t}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),J7=ye({name:"generalServiceReceipts",initialState:{receipts:[],currentReceipt:null,isLoading:!1,error:null},reducers:{clearError:t=>{t.error=null},clearCurrentReceipt:t=>{t.currentReceipt=null}},extraReducers:t=>{t.addCase(pc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pc.fulfilled,(e,r)=>{e.isLoading=!1,e.receipts=Array.isArray(r.payload)?r.payload:[]}).addCase(pc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipts",console.warn("Failed to fetch general service receipts, using mock data.",e.error),e.receipts=Gze}).addCase(iN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iN.fulfilled,(e,r)=>{e.isLoading=!1,e.currentReceipt=r.payload}).addCase(iN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt"}).addCase(_b.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts.push(r.payload)}).addCase(_b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create general service receipt",console.error("Failed to create general service receipt:",e.error)}).addCase(lN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.receipts)||(e.receipts=[]),e.receipts[n]=r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload.id&&(e.currentReceipt=r.payload)}).addCase(lN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update general service receipt",console.error("Failed to update general service receipt:",e.error)}).addCase($b.pending,e=>{e.isLoading=!0,e.error=null}).addCase($b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts=e.receipts.filter(n=>n.id!==r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload&&(e.currentReceipt=null)}).addCase($b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete general service receipt",console.error("Failed to delete general service receipt:",e.error)})}}),{clearError:dWe,clearCurrentReceipt:fWe}=J7.actions,Yze=J7.reducer,Kze="https://staging-engine.testthelink.online",Xze=oe().shape({Status:I().required("Status is required"),InvoiceNumber:I().required("Invoice number is required"),InvoiceDate:Re().required("Date is required"),FundsID:te().required("Fund is required"),Agency:I().required("Agency is required"),PaymentMethodID:te().required("Payment method is required"),Total:te().required("Total amount is required"),CustomerID:te().required("Customer is required"),CustomerName:I().required("Customer name is required"),Remarks:I(),TransactionItemsAll:tn().of(oe().shape({ItemID:te().required("Item ID is required"),ChargeAccountID:te().required("Charges account is required"),Quantity:te().required("Quantity is required").min(1,"Quantity must be at least 1"),Price:te().required("Price is required").min(0,"Price cannot be negative"),Vatable:Ji()})).min(1,"At least one item is required")});function Jze({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n}){const[a,s]=v.useState("Individual"),[i,l]=v.useState(!1),{customers:c}=V(N=>N.customers),{vendorDetails:u}=V(N=>N.vendorDetails),{funds:d}=V(N=>N.funds),{items:f}=V(N=>N.items),{budgets:m}=V(N=>N.budget),h=ie();v.useEffect(()=>{h(zn()),h(ps()),h(sr()),h(gs()),h(Co())},[h]);const p=u==null?void 0:u.map(N=>({value:N.ID,label:N.Name})),g=c==null?void 0:c.map(N=>({value:N.ID,label:N.Name})),y=d==null?void 0:d.map(N=>({value:N.ID,label:N.Name})),x=f==null?void 0:f.map(N=>({value:N.ID,label:N.Name})),b=m==null?void 0:m.map(N=>({value:N.ID,label:N.Name})),w={Status:(r==null?void 0:r.Status)||"Requested",InvoiceNumber:(r==null?void 0:r.InvoiceNumber)||"",InvoiceDate:(r==null?void 0:r.InvoiceDate)||new Date().toISOString().split("T")[0],FundsID:(r==null?void 0:r.FundsID)||"",Agency:(r==null?void 0:r.Agency)||"",CustomerName:(r==null?void 0:r.CustomerName)||"",CustomerID:(r==null?void 0:r.CustomerID)||"",Total:(r==null?void 0:r.Total)||0,Remarks:(r==null?void 0:r.Remarks)||"",CheckNumber:(r==null?void 0:r.CheckNumber)||"",MoneyOrder:(r==null?void 0:r.MoneyOrder)||"",PayeeBank:(r==null?void 0:r.PayeeBank)||"",CheckDate:(r==null?void 0:r.CheckDate)||"",MoneyOrderDate:(r==null?void 0:r.MoneyOrderDate)||"",Attachments:(r==null?void 0:r.Attachments)||[],PaymentMethodID:2,TransactionItemsAll:(r==null?void 0:r.TransactionItemsAll)||[]};console.log("initialValues",w);const S=(N,T,k)=>{const O=Array.from(N.target.files).map(P=>P);T("Attachments",[...k.Attachments,...O])},C=(N,T,k)=>{const E=[...k.Attachments];E.splice(N,1),T("Attachments",E)},j=async N=>{const T=new FormData;for(const k in N)if(k!=="Attachments"){const E=typeof N[k]=="object"?JSON.stringify(N[k]):N[k];k==="TransactionItemsAll"?T.append("Items",E):T.append(k,E)}N==null||N.Attachments.forEach((k,E)=>{k.ID?T.append(`Attachments[${E}].ID`,k.ID):T.append(`Attachments[${E}].File`,k)}),r?(T.append("IsNew","false"),T.append("LinkID",r.LinkID),T.append("ID",r.ID)):T.append("IsNew","true"),console.log("Form Data:",N);try{await n(T),console.log("Form submitted with values:",T)}catch(k){console.error("Error submitting form:",k)}finally{e()}};return o.jsxs(ae,{isOpen:t,onClose:e,title:r?"Edit General Service Receipt":"New General Service Receipt",size:"xl",children:[o.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",onClick:()=>l(!0),children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:w,validationSchema:Xze,onSubmit:j,enableReinitialize:!0,children:({values:N,setFieldValue:T,handleChange:k,handleBlur:E,isSubmitting:O,errors:P,touched:L})=>(console.log(P),o.jsxs(Be,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Attachments"}),N.Attachments.length>0?o.jsx("div",{className:"space-y-2",children:N.Attachments.map(($,D)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(O0,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:$.ID?o.jsx("a",{href:`${Kze}/uploads/${$.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:$.name||$.DataName}):$.name||$.DataName})]}),o.jsx("button",{type:"button",onClick:()=>C(D,T,N),className:"text-red-500 hover:text-red-700",children:o.jsx(Mr,{className:"h-4 w-4"})})]},D))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:N==null?void 0:N.Status.toUpperCase()})]}),o.jsx(A,{label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,onChange:k,value:N.InvoiceNumber,error:P.InvoiceNumber,touched:L.InvoiceNumber})]}),o.jsx(A,{label:"Date",name:"InvoiceDate",type:"date",onChange:k,value:N.InvoiceDate,required:!0,error:P.InvoiceDate&&L.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Agency",name:"Agency",placeholder:"Enter Agency",type:"text",required:!0,onChange:k,value:N.Agency,error:P.Agency,touched:L.Agency}),o.jsx(A,{label:"Fund",name:"FundsID",type:"select",options:y,required:!0,onChange:k,value:N.FundsID,error:P.FundsID,touched:L.FundsID})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>{s("Individual"),T("PayorType","Individual"),T("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),o.jsx("button",{type:"button",onClick:()=>{s("Corporation"),T("PayorType","Corporation"),T("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),o.jsx(Rr,{label:"Payor",name:"CustomerName",type:"select",options:a==="Individual"?g:p,required:!0,placeholder:"Select Payor",onSelect:$=>{const D=a==="Individual"?g.find(B=>B.value===$):p.find(B=>B.value===$);T("CustomerName",(D==null?void 0:D.label)||""),T("CustomerID",(D==null?void 0:D.value)||"")},selectedValue:N.CustomerID,error:P.CustomerName,touched:L.CustomerName})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Items"}),o.jsx(Kr,{name:"TransactionItemsAll",children:({push:$,remove:D})=>o.jsxs("div",{className:"space-y-4",children:[N.TransactionItemsAll.map((B,U)=>{var _,R,F,G,W,Z,fe,Te,ne,K,le,J,ee,H,z,me;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[o.jsx(A,{label:"Item ID",name:`TransactionItemsAll.${U}.ItemID`,type:"select",options:x,required:!0,value:B.ItemID,onChange:k,error:(R=(_=P.TransactionItemsAll)==null?void 0:_[U])==null?void 0:R.ItemID,touched:(G=(F=L.TransactionItemsAll)==null?void 0:F[U])==null?void 0:G.ItemID}),o.jsx(A,{label:"Account",name:`TransactionItemsAll.${U}.ChargeAccountID`,type:"select",options:b,required:!0,value:B.ChargeAccountID,onChange:k,error:(Z=(W=P.TransactionItemsAll)==null?void 0:W[U])==null?void 0:Z.ChargeAccountID,touched:(Te=(fe=L.TransactionItemsAll)==null?void 0:fe[U])==null?void 0:Te.ChargeAccountID}),o.jsx(A,{label:"Qty",name:`TransactionItemsAll.${U}.Quantity`,type:"number",required:!0,min:"1",value:B.Quantity,onChange:k,error:(K=(ne=P.TransactionItemsAll)==null?void 0:ne[U])==null?void 0:K.Quantity,touched:(J=(le=L.TransactionItemsAll)==null?void 0:le[U])==null?void 0:J.Quantity}),o.jsx(A,{label:"Price",name:`TransactionItemsAll.${U}.Price`,type:"number",required:!0,min:"0",value:B.Price,onChange:k,error:(H=(ee=P.TransactionItemsAll)==null?void 0:ee[U])==null?void 0:H.Price,touched:(me=(z=L.TransactionItemsAll)==null?void 0:z[U])==null?void 0:me.Price}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`TransactionItemsAll.${U}.Vatable`,name:`TransactionItemsAll.${U}.Vatable`,checked:B.Vatable,onChange:()=>T(`TransactionItemsAll.${U}.Vatable`,!B.Vatable),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded"}),o.jsx("label",{htmlFor:`TransactionItemsAll.${U}.Vatable`,className:"ml-2 block text-sm text-neutral-700",children:"Vatable"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"text-sm font-medium",children:["Subtotal:"," ",(B.Quantity*B.Price).toFixed(2)]}),U>0&&o.jsx("button",{type:"button",onClick:()=>D(U),className:"text-red-500 hover:text-red-700",children:o.jsx(nfe,{})})]})]},U)}),o.jsx("button",{type:"button",onClick:()=>$({ItemID:"",ChargeAccountID:"",Quantity:1,Price:0}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Add Item"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:N.TransactionItemsAll.reduce(($,D)=>$+D.Quantity*D.Price,0).toFixed(2)})]}),o.jsx(A,{label:"Amount in Words",name:"amountInWords",type:"text",value:zV(N.TransactionItemsAll.reduce(($,D)=>$+D.Quantity*D.Price,0)),readOnly:!0})," "]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),o.jsx("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[{value:2,label:"Cash"},{value:3,label:"Check"},{value:8,label:"Money Order"},{value:9,label:"Treasury Warrant"}].map(($,D)=>o.jsx("button",{type:"button",onClick:()=>T("PaymentMethodID",$.value),className:`px-4 py-2 text-sm font-medium border ${N.PaymentMethodID===$.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${D===0?"rounded-l-md":D===3?"rounded-r-md":"border-l-0"}`,children:$.label},$.value))})]}),N.PaymentMethodID===3&&o.jsxs(o.Fragment,{children:[o.jsx(A,{label:"Check Number",name:"CheckNumber",type:"text",value:N.CheckNumber,onChange:k,error:P.CheckNumber&&L.CheckNumber}),o.jsx(A,{label:"Bank",name:"PayeeBank",type:"text",value:N.PayeeBank,onChange:k}),o.jsx(A,{label:"Check Date",name:"CheckDate",type:"date",value:N.CheckDate,onChange:k,error:P.CheckDate&&L.CheckDate})]}),N.PaymentMethodID===8&&o.jsxs(o.Fragment,{children:[o.jsx(A,{label:"Money Order Number",name:"MoneyOrder",type:"text",value:N.MoneyOrder,onChange:k,error:P.MoneyOrder&&L.MoneyOrder}),o.jsx(A,{label:"Money Order Date",name:"MoneyOrderDate",type:"date",value:N.MoneyOrderDate,onChange:k,error:P.MoneyOrderDate&&L.MoneyOrderDate})]}),o.jsx(A,{label:"Remarks",name:"Remarks",type:"textarea",value:N.Remarks,onChange:k,rows:2,error:P.Remarks&&L.Remarks})]}),i&&o.jsx(ae,{isOpen:i,onClose:()=>l(!1),title:"Attachments",size:"md",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:o.jsx("label",{className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(O0,{className:"h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to browse or drag and drop files"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:$=>{S($,T,N),l(!1)}})]})})})})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"save"})]})]}))})]})}function ZF(){const t=ie(),{receipts:e,isLoading:r}=V(C=>C.generalReceipts),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(pc())},[t]),console.log("generalReceipts",e);const f=()=>{d(null),c(!0)},m=C=>{d(C),i(!0)},h=C=>{d(C),c(!0)},p=()=>{i(!1),d(null)},g=()=>{c(!1),d(null)},y=C=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C),x=async C=>{try{await t($b(C.ID)).unwrap(),t(pc()),it.success("Receipt deleted successfully.")}catch(j){console.error("Error deleting receipt:",j),it.error("Failed to delete receipt.")}},b=[{key:"ID",header:"Invoice",sortable:!0,className:"font-medium text-neutral-900",render:C=>o.jsx("div",{className:"flex items-center gap-1",children:C})},{key:"Status",header:"Status",sortable:!0,render:C=>o.jsx("span",{className:`px-2 py-1 rounded ${C==="Posted"?"bg-green-100 text-green-800":C==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:C})},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"CustomerName",header:"Customer Name",sortable:!0,render:C=>(C==null?void 0:C.trim())||"N/A"},{key:"InvoiceNumber",header:"Order No.",sortable:!0},{key:"Total",header:"Amount",sortable:!0,render:C=>y(C),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:C=>C||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:C=>({1:"General Fund",2:"Special Education Fund"})[C]||""},{key:"CheckNumber",header:"Check",sortable:!0,render:C=>C||""},{key:"MoneyOrder",header:"Money Order",sortable:!0,render:C=>C||""},{key:"MoneyOrderDate",header:"Money Order Date",sortable:!0,render:C=>C||""}],w=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Yn,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],S=async C=>{if(C)try{const j=await t(_b(C)).unwrap();console.log("Operation successful:",j,C),t(pc()),it.success("Receipt saved successfully.")}catch(j){console.error("Submission failed:",j),it.error(j.message||"Failed to save receipt")}finally{g()}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Service Receipt"}),o.jsx("p",{children:"Manage official receipts and collections"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Service Receipt"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:b,data:e,actions:w,loading:r,onRowClick:m})}),o.jsx(Jze,{isOpen:l,onClose:g,selectedReceipt:u,onSubmit:S}),o.jsx(ae,{isOpen:s,onClose:p,title:"General Receipt Details",size:"lg",children:u&&o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.receiptNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:new Date(u.receiptDate).toLocaleDateString()})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.fund})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.modeOfPayment})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorAddress||"N/A"})]})]})]})]}),o.jsx("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-success-700",children:y(u.totalAmount)})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:p,className:"btn btn-outline",children:"Close"}),o.jsx("button",{type:"button",onClick:()=>h(u),className:"btn btn-primary",children:"Edit"})]})]})})]})}const e5=()=>{const[t,e]=v.useState({owner:"",municipality:"MAKATI",checkNumber:"0",previousPayment:"0",receivedFrom:"CEDRIC",taxDeclarationNumber:"",address:"",block:"",lot:"",amountReceived:"",remainingBalance:"0",receivedFrom2:"",advancePayment:!1,year:"2025",until:"2025",amountInWords:"",basicFund:!0,specialEducationFund:!1,previousLandValues:"0",previousImprovement:"0",previousTotalAssessed:"0",previousTotal:"0",presentLandValues:"0",presentImprovement:"0",presentTotalAssessed:"0",discountRate:"0",penaltyRate:"0",payment:"0",dueDateYear:"",installmentPayment:!1,fullPayment:!0}),[r,n]=v.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),[a,s]=v.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),i=(f,m)=>{e(h=>({...h,[f]:m}))},l=(f,m)=>{const h={id:Date.now().toString(),ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""};m([...f,h])},c=(f,m,h)=>{m.length>1&&h(m.filter(p=>p.id!==f))},u=(f,m,h,p,g)=>{g(p.map(y=>y.id===f?{...y,[m]:h}:y))},d=({entries:f,setEntries:m,title:h})=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[o.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:h}),o.jsx("div",{className:"flex gap-2",children:o.jsx(dt,{type:"button",onClick:()=>l(f,m),className:"bg-green-600 hover:bg-green-700 text-white p-2 h-8 w-8",children:o.jsx(Uv,{className:"h-4 w-4"})})})]}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner Address"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Lot Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Block Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"T.D No"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Land"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Improvement"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Total Assessed"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Tax Due"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Full Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Penalty"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:f.map((p,g)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g+1,readOnly:!0,className:"w-full p-1 text-sm bg-gray-50 border-none text-center"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.ownerAddress,onChange:y=>u(p.id,"ownerAddress",y.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.lotNumber,onChange:y=>u(p.id,"lotNumber",y.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.blockNumber,onChange:y=>u(p.id,"blockNumber",y.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.tdNo,onChange:y=>u(p.id,"tdNo",y.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.land,onChange:y=>u(p.id,"land",y.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.improvement,onChange:y=>u(p.id,"improvement",y.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.totalAssessed,onChange:y=>u(p.id,"totalAssessed",y.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.taxDue,onChange:y=>u(p.id,"taxDue",y.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:p.payment,onChange:y=>u(p.id,"payment",y.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx("button",{type:"button",onClick:()=>c(p.id,f,m),className:"btn btn-danger ",disabled:f.length===1,children:o.jsx(Mr,{className:"h-3 w-3"})})})]},p.id))})]})})})]});return o.jsx("div",{className:"min-h-screen bg-white md:p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(Ude,{className:"h-5 w-5"}),"Basic Information"]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(A,{label:"Owner",name:"owner",type:"select",options:[{value:"owner1",label:"Owner 1"},{value:"owner2",label:"Owner 2"}],value:t.owner,onChange:f=>i("owner",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Municipality",name:"municipality",value:t.municipality,onChange:f=>i("municipality",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Check Number",name:"checkNumber",value:t.checkNumber,onChange:f=>i("checkNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Previous Payment",name:"previousPayment",value:t.previousPayment,onChange:f=>i("previousPayment",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Received From",name:"receivedFrom",value:t.receivedFrom,onChange:f=>i("receivedFrom",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(A,{label:"Tax Declaration Number",name:"taxDeclarationNumber",type:"select",options:[{value:"taxDeclarationNumber1",label:"Tax Declaration Number 1"},{value:"taxDeclarationNumber2",label:"Tax Declaration Number 2"}],value:t.taxDeclarationNumber,onChange:f=>i("taxDeclarationNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Address",name:"address",value:t.address,onChange:f=>i("address",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Block",name:"block",value:t.block,onChange:f=>i("block",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Lot",name:"lot",value:t.lot,onChange:f=>i("lot",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(A,{label:"Land Values",name:"previousLandValues",value:t.previousLandValues,onChange:f=>i("previousLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Improvement",name:"previousImprovement",value:t.previousImprovement,onChange:f=>i("previousImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Total Assessed Value",name:"previousTotalAssessed",value:t.previousTotalAssessed,onChange:f=>i("previousTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"General Revision (Year)",name:"dueDateYear",type:"select",options:[{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary ",children:"Add"}),o.jsx("button",{className:"btn btn-outline",children:"Remove"})]})]})})]}),o.jsx(d,{entries:r,setEntries:n,title:"Previous Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(A,{label:"Land Values",name:"presentLandValues",value:t.presentLandValues,onChange:f=>i("presentLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Improvement",name:"presentImprovement",value:t.presentImprovement,onChange:f=>i("presentImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Total Assessed Value",name:"presentTotalAssessed",value:t.presentTotalAssessed,onChange:f=>i("presentTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Label10"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(A,{label:"Discount Rate",name:"discountRate",value:t.discountRate,onChange:f=>i("discountRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Penalty Rate",name:"penaltyRate",value:t.penaltyRate,onChange:f=>i("penaltyRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(A,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.installmentPayment,onChange:()=>{i("installmentPayment",!0),i("fullPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.fullPayment,onChange:()=>{i("fullPayment",!0),i("installmentPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]})]})]})]}),o.jsx(d,{entries:a,setEntries:s,title:"Present Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(wI,{className:"h-5 w-5"}),"Payment Summary"]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(A,{label:"Amount Received",name:"amountReceived",value:t.amountReceived,onChange:f=>i("amountReceived",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"}),o.jsx(A,{label:"Remaining Balance",name:"remainingBalance",value:t.remainingBalance,onChange:f=>i("remainingBalance",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(A,{label:"Received From",name:"receivedFrom2",value:t.receivedFrom2,onChange:f=>i("receivedFrom2",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:t.advancePayment,onChange:f=>i("advancePayment",f.target.checked),className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Advance Payment"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(A,{label:"Year",name:"year",value:t.year,onChange:f=>i("year",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Until"}),o.jsx(A,{label:"",name:"until",value:t.until,onChange:f=>i("until",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.basicFund,onChange:()=>{i("basicFund",!0),i("specialEducationFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.specialEducationFund,onChange:()=>{i("specialEducationFund",!0),i("basicFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),o.jsx(A,{label:"Amount In Words",name:"amountInWords",value:t.amountInWords,onChange:f=>i("amountInWords",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500",placeholder:"Enter amount in words..."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{variant:"outline",className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:"Save Draft"})]})]})})},Qze=[{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"Active"},{id:2,tdNo:"TD-002",owner:"Maria Santos",address:"456 Pine St",beneficialUser:"Carlos Santos",beneficialAddress:"456 Pine St",octTctCloaNo:"OCT-456",cct:"CCT-789",dated:"2024-02-15",propertyIdentificationNo:"67890",tin:"456-789-012",ownerTelephoneNo:"9876543210",beneficialTin:"456-789-012",beneficialTelephoneNo:"9876543210",surveyNo:"S-002",lotNo:"L-002",blockNo:"B-002",boundaries:{taxable:!0,north:"Street E",south:"Street F",east:"Street G",west:"Street H"},cancelledTdNo:"",cancelledOwner:"",effectivityOfAssessment:"2024-01-01",previousOwner:"",previousAssessedValue:"0",propertyDetails:{kind:"Land",numberOf:"1",description:"Commercial lot"},assessmentDetails:{kind:"Land",actualUse:"Commercial",classification:"Class 2",areaSize:"Large",assessmentLevel:"30%",marketValue:"2500000"},status:"Active"}];function Zze(){ie();const{realPropertyTaxes:t,isLoading:e}=V(b=>b.realPropertyTax),[r,n]=v.useState("list"),[a,s]=v.useState(null),[i,l]=v.useState(""),c=t&&t.length>0?t:Qze,u=()=>{s(null),n("form")},d=b=>{s(b),n("details")},f=b=>{s(b),n("form")},m=b=>{console.log("Print property:",b)},h=()=>{n("list"),s(null)},p=c==null?void 0:c.filter(b=>{const w=i.toLowerCase();return b.tdNo.toLowerCase().includes(w)||b.owner.toLowerCase().includes(w)||b.address.toLowerCase().includes(w)||b.propertyIdentificationNo.toLowerCase().includes(w)}),g=[{key:"tdNo",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"owner",header:"Owner",sortable:!0},{key:"address",header:"Address",sortable:!0},{key:"propertyIdentificationNo",header:"Property ID",sortable:!0},{key:"dated",header:"Date",sortable:!0,render:b=>new Date(b).toLocaleDateString()},{key:"status",header:"Status",sortable:!0,render:b=>y(b)}],y=b=>{let w="bg-neutral-100 text-neutral-800";switch(b){case"Active":w="bg-success-100 text-success-800";break;case"Inactive":w="bg-warning-100 text-warning-800";break;case"Cancelled":w="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w}`,children:b})},x=[{icon:nv,title:"View",onClick:d,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return o.jsxs("div",{className:"container mx-auto  md:px-4 md:py-8",children:[r==="list"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Records"}),o.jsx("p",{className:"text-gray-600",children:"Manage real property tax assessments"})]}),o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Property"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsx(ge,{columns:g,data:p,actions:x,loading:e,onRowClick:d})})]}),r==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:a?"Edit Real Property Tax Record":"Create New Real Property Tax Record"}),o.jsx("p",{className:"text-gray-600",children:a?"Update the property details":"Fill out the form to create a new property record"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(e5,{initialData:a,onCancel:h,onSubmitSuccess:h})})]}),r==="details"&&a&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(pa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage property tax details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>f(a),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>m(a),className:"btn btn-outline flex items-center",children:[o.jsx(al,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(e5,{initialData:a,readOnly:!0,onBack:h})})]})]})}function e8e({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=oe({endDate:I().required("Date End is required"),fundID:I().required("Fund is required"),approverID:I().required("Approver is required"),ledger:I().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:p,isSubmitting:g,setFieldValue:y})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[o.jsx(A,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:h,onBlur:p,error:f.endDate,touched:m.endDate,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"fundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.fundID,onChange:h,onBlur:p,error:f.fundID,touched:m.fundID,required:!0}),o.jsx(A,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:h,onBlur:p,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:f.ledger,touched:m.ledger,required:!0}),o.jsx(A,{label:"Approver",name:"approverID",type:"select",options:e.map(x=>{var b;return{value:x.ID,label:x.FirstName+" "+x.MiddleName+" "+x.LastName+" - "+((b=x==null?void 0:x.Department)==null?void 0:b.Name)}}),value:d.approverID,onChange:h,onBlur:p,error:f.approverID,touched:m.approverID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:"Generate Cashbook"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:g,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const t8e="https://staging-engine.testthelink.online",r8e={trialBalances:[],isLoading:!1,error:null},Rb=M("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${t8e}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),cN=M("trialBalance/exportTrialBalances",async t=>!0),Q7=ye({name:"trialBalance",initialState:r8e,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase(Rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rb.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase(Rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(cN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cN.fulfilled,e=>{e.isLoading=!1}).addCase(cN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:n8e}=Q7.actions,a8e=Q7.reducer;function s8e(){const t="https://staging-engine.testthelink.online",e=ie(),{trialBalances:r,isLoading:n,error:a}=V(f=>f.trialBalance),{funds:s}=V(f=>f.funds),{employees:i}=V(f=>f.employees),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e(n8e()),e(sr()),e(Un())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endDate:f.endDate,fundID:f.fundID,approverID:f.approverID,ledger:f.ledger})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),p=m.headers.get("Content-Disposition");let g="Trial_Balance.xlsx";p&&p.includes("filename=")&&(g=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(h),x=document.createElement("a");x.href=y,x.download=g,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(y)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export trial balance")}},d=f=>{e(Rb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Trial Balance"}),o.jsx("p",{children:"Generate trial balance reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(e8e,{funds:s,employees:i,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}const o8e=oe().shape({budgetName:I().required("Budget name is required"),fiscalYear:I().required("Fiscal year is required"),department:I().required("Department is required"),subDepartment:I().required("Sub department is required"),chartOfAccounts:I().required("Chart of accounts is required"),fund:I().required("Fund is required"),project:I().required("Project is required"),allotment:te().integer().required("Allotment is required"),remarks:I().required("Remarks is required"),appropriation:te().integer().required("Appropriation is required"),balance:te().integer().required("Balance is required"),releasedAllotments:te().integer().required("Released allotments is required"),releasedBalance:te().integer().required("Released balance is required")}),t5={budgetName:"",fiscalYear:1,department:1,subDepartment:1,chartOfAccounts:1,fund:1,project:1,appropriation:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",releasedAllotments:0,releasedBalance:0},i8e=[{value:1,label:"FY 202324"},{value:2,label:"FY 202425"},{value:3,label:"FY 202526"}],l8e=[{value:1,label:"Finance"},{value:2,label:"Human Resources"},{value:3,label:"Information Technology"}],c8e=[{value:1,label:"Accounts Payable"},{value:2,label:"Recruitment"},{value:3,label:"Infrastructure Support"}],u8e=[{value:1,label:"Cash and Cash Equivalents"},{value:2,label:"Accounts Receivable"},{value:3,label:"Office Supplies Expense"}],d8e=[{value:1,label:"ERP Implementation"},{value:2,label:"Employee Onboarding Automation"},{value:3,label:"Cloud Migration"}];function f8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...t5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance}):a(t5)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:o8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Budget Name",name:"budgetName",type:"text",onChange:u,onBlur:d,value:i.budgetName,error:l.budgetName,touched:c.budgetName,required:!0}),o.jsx(A,{label:"Fiscal Year",name:"fiscalYear",type:"select",onChange:u,onBlur:d,value:i.fiscalYear,error:l.fiscalYear,touched:c.fiscalYear,options:i8e,required:!0}),o.jsx(A,{label:"Department",name:"department",type:"select",onChange:u,onBlur:d,value:i.department,error:l.department,touched:c.department,options:l8e,required:!0}),o.jsx(A,{label:"Sub-Department",name:"subDepartment",type:"select",onChange:u,onBlur:d,value:i.subDepartment,error:l.subDepartment,touched:c.subDepartment,options:c8e,required:!0}),o.jsx(A,{label:"Chart of Accounts",name:"chartOfAccounts",type:"select",onChange:u,onBlur:d,value:i.chartOfAccounts,error:l.chartOfAccounts,touched:c.chartOfAccounts,options:u8e,required:!0}),o.jsx(A,{label:"Fund",name:"fund",type:"select",onChange:u,onBlur:d,value:i.fund,error:l.fund,touched:c.fund,options:[{value:"1",label:"General Fund"}],required:!0}),o.jsx(A,{label:"Project",name:"project",type:"select",onChange:u,onBlur:d,value:i.project,error:l.project,touched:c.project,options:d8e,required:!0}),o.jsx(A,{label:"Allotment",name:"allotment",onChange:u,onBlur:d,value:i.allotment,error:l.allotment,touched:c.allotment,type:"number",required:!0}),o.jsx(A,{label:"Appropriation",name:"appropriation",type:"number",onChange:u,onBlur:d,value:i.appropriation,error:l.appropriation,touched:c.appropriation,required:!0}),o.jsx(A,{label:"Balance",name:"balance",type:"number",onChange:u,onBlur:d,value:i.balance,error:l.balance,touched:c.balance,required:!0}),o.jsx(A,{label:"Released Allotments",name:"releasedAllotments",type:"number",onChange:u,onBlur:d,value:i.releasedAllotments,error:l.releasedAllotments,touched:c.releasedAllotments,required:!0}),o.jsx(A,{type:"number",label:"Released Balance",name:"releasedBalance",onChange:u,onBlur:d,value:i.releasedBalance,error:l.releasedBalance,touched:c.releasedBalance,required:!0}),o.jsx(A,{label:"Remarks",name:"remarks",type:"textarea",onChange:u,onBlur:d,value:i.remarks,error:l.remarks,touched:c.remarks,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const uN="https://staging-engine.testthelink.online",m8e=()=>{const t=ie(),{user:e}=V(j=>j.auth),{departments:r}=V(j=>j.departments),{subdepartments:n}=V(j=>j.subdepartments),a=V(j=>{var N;return((N=j.chartOfAccounts)==null?void 0:N.accounts)||[]}),[s,i]=v.useState([]),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState({department:"",subDepartment:"",chartOfAccounts:""});v.useEffect(()=>{t(Cr()),t(wo()),t(Nr()),h()},[]);const h=async()=>{try{const N=await(await fetch(`${uN}/budgetAllotment/getAll`)).json();i(N)}catch(j){pe.error("Failed to load data"),pe.error(j.message)}},p=j=>{const{name:N,value:T}=j.target;m(k=>({...k,[N]:T}))},g=j=>{u?x(j):y(j)},y=async j=>{try{await(await fetch(`${uN}/budget/createOrUpdateBudgetAllotment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...j,userId:e==null?void 0:e.ID,isNew:"true"})})).json()&&(h(),pe.success("Allotment added"),c(!1))}catch(N){pe.error(N.message)}},x=async j=>{try{await(await fetch(`${uN}/budget/${j==null?void 0:j.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...j,userId:e==null?void 0:e.ID})})).json()&&(h(),pe.success("Allotment updated"),c(!1))}catch(N){pe.error(N.message)}},b=j=>{d(j),c(!0)},w=[{key:"Name",header:"Name"},{key:"FiscalYear",header:"Fiscal Year"},{key:"Department",header:"Department"},{key:"SubDepartment",header:"Sub Department"},{key:"ChartOfAccounts",header:"Chart of Accounts"},{key:"Fund",header:"Fund"},{key:"Project",header:"Project"},{key:"Appropriation",header:"Appropriation"},{key:"AppropriationBalance",header:"Appropriation Balance"},{key:"TotalAmount",header:"Total Amount"},{key:"Allotment",header:"Allotment"},{key:"AllotmentBalance",header:"Allotment Balance"}],S=[{icon:Va,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],C=s==null?void 0:s.filter(j=>(!f.department||j.DepartmentID===f.department)&&(!f.subDepartment||j.SubDepartmentID===f.subDepartment)&&(!f.chartOfAccounts||j.ChartofAccountsID===f.chartOfAccounts));return console.log("filteredData",C,s),o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Allotment"}),o.jsx("p",{children:"Manage budget allotments here"})]}),o.jsxs("button",{onClick:()=>b(null),className:"btn btn-primary flex items-center",children:[o.jsx(Tue,{className:"h-5 w-5 mr-2"}),"Add Allotment"]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:f.department,onChange:p,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),r==null?void 0:r.map(j=>o.jsx("option",{value:j.Name,children:j.Name},j.ID))]}),o.jsxs("select",{name:"subDepartment",value:f.subDepartment,onChange:p,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),n==null?void 0:n.map(j=>o.jsx("option",{value:j.Name,children:j.Name},j.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:f.chartOfAccounts,onChange:p,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),a==null?void 0:a.map(j=>o.jsx("option",{value:j.Name,children:j.Name},j.ID))]})]}),o.jsx(ge,{columns:w,data:C,actions:S,loading:!1,pagination:!0}),o.jsx(ae,{size:"md",isOpen:l,onClose:()=>c(!1),title:u?"Edit Allotment":"Add Allotment",children:o.jsx(f8e,{onSubmit:g,initialData:u,onClose:()=>c(!1)})})]})},up="https://staging-engine.testthelink.online",h8e=()=>{const t=ie(),{user:e}=V(N=>N.auth),{departments:r}=V(N=>N.departments),{subdepartments:n}=V(N=>N.subdepartments),a=V(N=>{var T;return((T=N.chartOfAccounts)==null?void 0:T.accounts)||[]}),[s,i]=v.useState([]),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState({department:"",subDepartment:"",chartOfAccounts:""});v.useEffect(()=>{t(Cr()),t(wo()),t(Nr()),h()},[]);const h=async()=>{try{const T=await(await fetch(`${up}/budget`)).json();T!=null&&T.status?i((T==null?void 0:T.items)||[]):pe.error("Failed to fetch budget details")}catch(N){pe.error(N.message)}},p=N=>{const{name:T,value:k}=N.target;m(E=>({...E,[T]:k}))},g=N=>{u?x(N):y(N)},y=async N=>{try{await(await fetch(`${up}/budget`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...w(N),CreatedBy:e==null?void 0:e.UserName,CreatedDate:new Date().toISOString(),ModifyBy:e==null?void 0:e.UserName,ModifyDate:new Date().toISOString()})})).json()&&(h(),c(!1),pe.success("Budget added successfully"))}catch(T){pe.error(T.message)}},x=async N=>{try{await(await fetch(`${up}/budget/${N==null?void 0:N.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...w(N),ModifyBy:e==null?void 0:e.UserName,ModifyDate:new Date().toISOString()})})).json()&&(h(),c(!1),pe.success("Budget updated successfully"))}catch(T){pe.error(T.message)}},b=async N=>{try{await(await fetch(`${up}/budget/${N}`,{method:"DELETE"})).json()&&(h(),pe.success("Budget deleted"))}catch(T){pe.error(T.message)}},w=N=>({FiscalYearID:N==null?void 0:N.fiscalYear,FundID:N==null?void 0:N.fund,ProjectID:N==null?void 0:N.project,Name:N==null?void 0:N.budgetName,DepartmentID:N==null?void 0:N.department,SubDepartmentID:N==null?void 0:N.subDepartment,ChartofAccountsID:N==null?void 0:N.chartOfAccounts,Appropriation:N==null?void 0:N.appropriation,TotalAmount:N==null?void 0:N.totalAmount,AppropriationBalance:N==null?void 0:N.charges,Charges:N==null?void 0:N.charges,January:N==null?void 0:N.january,February:N==null?void 0:N.february,March:N==null?void 0:N.march,April:N==null?void 0:N.april,May:N==null?void 0:N.may,June:N==null?void 0:N.june,July:N==null?void 0:N.july,August:N==null?void 0:N.august,September:N==null?void 0:N.september,October:N==null?void 0:N.october,November:N==null?void 0:N.november,December:N==null?void 0:N.december}),S=[{key:"Name",header:"Name"},{key:"FiscalYear",header:"Fiscal Year"},{key:"Department.Name",header:"Department"},{key:"SubDepartment.Name",header:"Sub Department"},{key:"ChartofAccounts.Name",header:"Chart of Accounts"},{key:"FundId",header:"Fund"},{key:"ProjectID",header:"Project"},{key:"Appropriation",header:"Appropriation"},{key:"AppropriationBalance",header:"Appropriation Balance"},{key:"TotalAmount",header:"Total Amount"},{key:"Allotment",header:"Allotment"},{key:"AllotmentBalance",header:"Allotment Balance"},{key:"ChargedAllotment",header:"Charges"},{key:"PreEncumbrance",header:"Pre Encumbrance"},{key:"Encumbrance",header:"Encumbrance"},{key:"January",header:"January"},{key:"February",header:"February"},{key:"March",header:"March"},{key:"April",header:"April"},{key:"May",header:"May"},{key:"June",header:"June"},{key:"July",header:"July"},{key:"August",header:"August"},{key:"September",header:"September"},{key:"October",header:"October"},{key:"November",header:"November"},{key:"December",header:"December"}],C=[{icon:Va,title:"Edit",onClick:N=>{d(N),c(!0)},className:"text-primary-600 hover:text-primary-900 p-1"},{icon:Yn,title:"Delete",onClick:N=>b(N==null?void 0:N.ID),className:"text-red-600 hover:text-red-800 p-1"}],j=s.filter(N=>{var T,k,E;return(!f.department||((T=N.Department)==null?void 0:T.ID)==f.department)&&(!f.subDepartment||((k=N.SubDepartment)==null?void 0:k.ID)==f.subDepartment)&&(!f.chartOfAccounts||((E=N.ChartofAccounts)==null?void 0:E.ID)==f.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Details"}),o.jsx("p",{children:"View and manage detailed budget entries"})]}),o.jsxs("button",{onClick:()=>{d(null),c(!0)},className:"btn btn-primary flex items-center",children:[o.jsx(Uv,{className:"h-5 w-5 mr-2"}),"Add Budget"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 my-4",children:[o.jsxs("select",{name:"department",value:f.department,onChange:p,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),r==null?void 0:r.map(N=>o.jsx("option",{value:N.ID,children:N.Name},N.ID))]}),o.jsxs("select",{name:"subDepartment",value:f.subDepartment,onChange:p,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),n==null?void 0:n.map(N=>o.jsx("option",{value:N.ID,children:N.Name},N.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:f.chartOfAccounts,onChange:p,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),a==null?void 0:a.map(N=>o.jsx("option",{value:N.ID,children:N.Name},N.ID))]})]}),o.jsx(ge,{columns:S,data:j,actions:C,pagination:!0}),o.jsx(ae,{size:"lg",isOpen:l,onClose:()=>c(!1),title:u?"Edit Budget":"Add Budget",children:o.jsx(BI,{onSubmit:g,initialData:u,onClose:()=>c(!1)})})]})},p8e="https://staging-engine.testthelink.online",g8e=()=>{const t=ie(),{departments:e,isLoading:r}=V(y=>y.departments),{subdepartments:n,isLoading:a}=V(y=>y.subdepartments),s=V(y=>{var x;return((x=y.chartOfAccounts)==null?void 0:x.accounts)||[]}),[i,l]=v.useState([]),[c,u]=v.useState({department:"",subDepartment:"",chartOfAccounts:""}),[d,f]=v.useState(!0);v.useEffect(()=>{t(Cr()),t(wo()),t(Nr()),m()},[]);const m=async()=>{try{f(!0);const x=await(await fetch(`${p8e}/budgetSummary/`)).json();l(x||[])}catch(y){console.error("Error fetching budget summaries:",y)}finally{f(!1)}},h=y=>{const{name:x,value:b}=y.target;u(w=>({...w,[x]:b}))},p=i.filter(y=>{var x,b;return(!c.department||((x=y.Department)==null?void 0:x.Name)===c.department)&&(!c.subDepartment||((b=y.SubDepartment)==null?void 0:b.Name)===c.subDepartment)&&(!c.chartOfAccounts||y.ChartOfAccounts===c.chartOfAccounts)}),g=[{key:"Name",header:"Name",sortable:!0},{key:"FiscalYearID",header:"Fiscal Year",sortable:!0},{key:"Department",header:"Department",sortable:!0},{key:"SubDepartment",header:"Sub Department",sortable:!0},{key:"ChartOfAccounts",header:"Chart of Accounts",sortable:!0},{key:"Funds",header:"Fund",sortable:!0},{key:"Project",header:"Project",sortable:!0},{key:"Appropriation",header:"Appropriation",sortable:!0},{key:"AppropriationBalance",header:"Appropriation Balance",sortable:!0},{key:"TotalAmount",header:"Total Amount",sortable:!0},{key:"ChargedAllotment",header:"Allotment",sortable:!0},{key:"AllotmentBalance",header:"Allotment Balance",sortable:!0},{key:"Charges",header:"Charges",sortable:!0},{key:"PreEncumbrance",header:"Pre Encumbr.",sortable:!0},{key:"Encumbrance",header:"Encumbrance",sortable:!0},{key:"January",header:"January",sortable:!0},{key:"February",header:"February",sortable:!0},{key:"March",header:"March",sortable:!0},{key:"April",header:"April",sortable:!0},{key:"May",header:"May",sortable:!0},{key:"June",header:"June",sortable:!0},{key:"July",header:"July",sortable:!0},{key:"August",header:"August",sortable:!0},{key:"September",header:"September",sortable:!0},{key:"October",header:"October",sortable:!0},{key:"November",header:"November",sortable:!0},{key:"December",header:"December",sortable:!0}];return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Summary"}),o.jsx("p",{children:"Review the budget performance across months and categories."})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:c.department,onChange:h,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(y=>o.jsx("option",{value:y.Name,children:y.Name},y.ID))]}),o.jsxs("select",{name:"subDepartment",value:c.subDepartment,onChange:h,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),n==null?void 0:n.map(y=>o.jsx("option",{value:y.Name,children:y.Name},y.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:c.chartOfAccounts,onChange:h,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),s==null?void 0:s.map(y=>o.jsx("option",{value:y.Name,children:y.Name},y.ID))]})]}),o.jsx(ge,{columns:g,data:p,loading:d||r||a,pagination:!0})]})},y8e=oe().shape({budgetName:I().required("Budget name is required"),fiscalYear:I().required("Fiscal year is required"),department:I().required("Department is required"),subDepartment:I().required("Sub department is required"),chartOfAccounts:I().required("Chart of accounts is required"),fund:I().required("Fund is required"),project:I().required("Project is required"),supplemental:te().integer().required("Allotment is required"),remarks:I().required("Remarks is required"),appropriation:te().integer().required("Appropriation is required"),balance:te().integer().required("Balance is required"),releasedAllotments:te().integer().required("Released allotments is required"),releasedBalance:te().integer().required("Released balance is required")}),r5={budgetName:"",fiscalYear:1,department:1,subDepartment:1,chartOfAccounts:1,fund:1,project:1,supplemental:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0},b8e=[{value:1,label:"FY 202324"},{value:2,label:"FY 202425"},{value:3,label:"FY 202526"}],x8e=[{value:1,label:"Finance"},{value:2,label:"Human Resources"},{value:3,label:"Information Technology"}],v8e=[{value:1,label:"Accounts Payable"},{value:2,label:"Recruitment"},{value:3,label:"Infrastructure Support"}],j8e=[{value:1,label:"Cash and Cash Equivalents"},{value:2,label:"Accounts Receivable"},{value:3,label:"Office Supplies Expense"}],w8e=[{value:1,label:"ERP Implementation"},{value:2,label:"Employee Onboarding Automation"},{value:3,label:"Cloud Migration"}];function C8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...r5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance}):a(r5)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:y8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Budget Name",name:"budgetName",type:"text",onChange:u,onBlur:d,value:i.budgetName,error:l.budgetName,touched:c.budgetName,required:!0}),o.jsx(A,{label:"Fiscal Year",name:"fiscalYear",type:"select",onChange:u,onBlur:d,value:i.fiscalYear,error:l.fiscalYear,touched:c.fiscalYear,options:b8e,required:!0}),o.jsx(A,{label:"Department",name:"department",type:"select",onChange:u,onBlur:d,value:i.department,error:l.department,touched:c.department,options:x8e,required:!0}),o.jsx(A,{label:"Sub-Department",name:"subDepartment",type:"select",onChange:u,onBlur:d,value:i.subDepartment,error:l.subDepartment,touched:c.subDepartment,options:v8e,required:!0}),o.jsx(A,{label:"Chart of Accounts",name:"chartOfAccounts",type:"select",onChange:u,onBlur:d,value:i.chartOfAccounts,error:l.chartOfAccounts,touched:c.chartOfAccounts,options:j8e,required:!0}),o.jsx(A,{label:"Fund",name:"fund",type:"select",onChange:u,onBlur:d,value:i.fund,error:l.fund,touched:c.fund,options:[{value:"1",label:"General Fund"}],required:!0}),o.jsx(A,{label:"Project",name:"project",type:"select",onChange:u,onBlur:d,value:i.project,error:l.project,touched:c.project,options:w8e,required:!0}),o.jsx(A,{label:"Supplemental",name:"supplemental",onChange:u,onBlur:d,value:i.supplemental,error:l.supplemental,touched:c.supplemental,type:"number",required:!0}),o.jsx(A,{label:"Appropriation",name:"appropriation",type:"number",onChange:u,onBlur:d,value:i.appropriation,error:l.appropriation,touched:c.appropriation,required:!0}),o.jsx(A,{label:"Balance",name:"balance",type:"number",onChange:u,onBlur:d,value:i.balance,error:l.balance,touched:c.balance,required:!0}),o.jsx(A,{label:"Released Allotments",name:"releasedAllotments",type:"number",onChange:u,onBlur:d,value:i.releasedAllotments,error:l.releasedAllotments,touched:c.releasedAllotments,required:!0}),o.jsx(A,{type:"number",label:"Released Balance",name:"releasedBalance",onChange:u,onBlur:d,value:i.releasedBalance,error:l.releasedBalance,touched:c.releasedBalance,required:!0}),o.jsx(A,{label:"Remarks",name:"remarks",type:"textarea",onChange:u,onBlur:d,value:i.remarks,error:l.remarks,touched:c.remarks,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const N8e=()=>{const t=ie(),{departments:e,isLoading:r}=V(S=>S.departments),{subdepartments:n,isLoading:a}=V(S=>S.subdepartments),s=V(S=>{var C;return((C=S.chartOfAccounts)==null?void 0:C.accounts)||[]});v.useEffect(()=>{t(Cr()),t(wo()),t(Nr())},[]);const[i,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState({department:"",subDepartment:"",chartOfAccounts:""}),m=S=>{u(S),l(!0)},h=S=>{pe.success(`Deleted ${S.Name}`)},p=S=>{c?pe.success("Supplemental updated successfully"):pe.success("New supplemental added"),l(!1)},g=S=>{const{name:C,value:j}=S.target;f(N=>({...N,[C]:j}))},y=[{key:"Name",header:"Name",sortable:!0},{key:"FiscalYear",header:"Fiscal Year",sortable:!0},{key:"Department",header:"Department",sortable:!0},{key:"SubDepartment",header:"Sub Department",sortable:!0},{key:"ChartOfAccounts",header:"Chart of Accounts",sortable:!0},{key:"Fund",header:"Fund",sortable:!0},{key:"Project",header:"Project",sortable:!0},{key:"Appropriation",header:"Appropriation",sortable:!0},{key:"AppropriationBalance",header:"Appropriation Balance",sortable:!0},{key:"TotalAmount",header:"Total Amount",sortable:!0},{key:"Allotment",header:"Allotment",sortable:!0},{key:"AllotmentBalance",header:"Allotment Balance",sortable:!0}],x=[{icon:Va,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Yn,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],w=[{Name:"Travelling E...",FiscalYear:"january to d...",Department:"Municipal Di...",SubDepartment:"Network Op...",ChartOfAccounts:"Travelling E...",Fund:"General Fund",Project:"No Project",Appropriation:"1,00,000.00",AppropriationBalance:"-8,45,000.00",TotalAmount:"1,55,000.00",Allotment:"1,00,000.00",AllotmentBalance:"1,00,000.00"},{Name:"Investments",FiscalYear:"feb aug",Department:"Accounting",SubDepartment:"Payroll",ChartOfAccounts:"Investments",Fund:"General Fund",Project:"No Project",Appropriation:"60,000.00",AppropriationBalance:"60,000.00",TotalAmount:"60,000.00",Allotment:"0.00",AllotmentBalance:"0.00"}].filter(S=>(!d.department||S.Department===d.department)&&(!d.subDepartment||S.SubDepartment===d.subDepartment)&&(!d.chartOfAccounts||S.ChartOfAccounts===d.chartOfAccounts));return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Supplemental"}),o.jsx("p",{children:"Manage your supplemental budgets here"})]}),o.jsxs("button",{onClick:()=>m(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Supplemental"]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:d.department,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(S=>o.jsx("option",{value:S.Name,children:S.Name},S.ID))]}),o.jsxs("select",{name:"subDepartment",value:d.subDepartment,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),n==null?void 0:n.map(S=>o.jsx("option",{value:S.Name,children:S.Name},S.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:d.chartOfAccounts,onChange:g,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),s==null?void 0:s.map(S=>o.jsx("option",{value:S.Name,children:S.Name},S.ID))]})]}),o.jsx(ge,{columns:y,data:w,loading:r||a,actions:x,pagination:!0}),o.jsx(ae,{size:"md",isOpen:i,onClose:()=>l(!1),title:c?"Edit Supplemental":"Add New Supplemental",children:o.jsx(C8e,{onSubmit:p,initialData:c,onClose:()=>l(!1)})})]})},S8e=oe({sourceBudgetName:I().required("Code is required"),sourceFiscalYear:I().required("Code is required"),sourceDepartment:I().required("Code is required"),sourceSubDepartment:I().required("Code is required"),sourceAccounts:I().required("Code is required"),sourceFund:I().required("Code is required"),sourceProject:I().required("Code is required"),sourceTransfer:te().required("Amount is required").min(0,"Amount must be positive"),sourceRemarks:I().required("Year is required"),sourceAppropriation:te().required("Amount is required").min(0,"Amount must be positive"),sourceAppropriationBalance:te().required("Amount is required").min(0,"Amount must be positive"),sourceReleasedAllotments:te().required("Amount is required").min(0,"Amount must be positive"),sourceAllotmentBalance:te().required("Amount is required").min(0,"Amount must be positive"),targetBudgetName:I().required("Code is required"),targetFiscalYear:I().required("Code is required"),targetDepartment:I().required("Code is required"),targetSubDepartment:I().required("Code is required"),targetAccounts:I().required("Code is required"),targetFund:I().required("Code is required"),targetProject:I().required("Code is required"),targetTransfer:te().required("Amount is required").min(0,"Amount must be positive"),targetRemarks:I().required("Year is required"),targetAppropriation:te().required("Amount is required").min(0,"Amount must be positive"),targetAppropriationBalance:te().required("Amount is required").min(0,"Amount must be positive"),targetReleasedAllotments:te().required("Amount is required").min(0,"Amount must be positive"),targetAllotmentBalance:te().required("Amount is required").min(0,"Amount must be positive")}),n5={sourceBudgetName:"",sourceFiscalYear:"",sourceDepartment:"",sourceSubDepartment:"",sourceAccounts:"",sourceFund:"",sourceProject:"",sourceTransfer:0,sourceRemarks:"",sourceAppropriation:0,sourceAppropriationBalance:0,sourceReleasedAllotments:0,sourceAllotmentBalance:0,targetBudgetName:"",targetFiscalYear:"",targetDepartment:"",targetSubDepartment:"",targetAccounts:"",targetFund:"",targetProject:"",targetTransfer:0,targetRemarks:"",targetAppropriation:0,targetAppropriationBalance:0,targetReleasedAllotments:0,targetAllotmentBalance:0};function A8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...n5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(n5)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:S8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"font-medium",children:"Account Source"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(A,{label:"Budget Name",name:"sourceBudgetName",type:"text",onChange:u,onBlur:d,value:i.sourceBudgetName,error:l.sourceBudgetName,touched:c.sourceBudgetName,required:!0}),o.jsx(A,{label:"Fiscal Year",name:"sourceFiscalYear",type:"text",onChange:u,onBlur:d,value:i.sourceFiscalYear,error:l.sourceFiscalYear,touched:c.sourceFiscalYear,required:!0}),o.jsx(A,{label:"Department",name:"sourceDepartment",type:"text",onChange:u,onBlur:d,value:i.sourceDepartment,error:l.sourceDepartment,touched:c.sourceDepartment,required:!0}),o.jsx(A,{label:"Sub Department",name:"sourceSubDepartment",type:"text",onChange:u,onBlur:d,value:i.sourceSubDepartment,error:l.sourceSubDepartment,touched:c.sourceSubDepartment,required:!0}),o.jsx(A,{name:"sourceAccounts",type:"text",label:"Chat of Accounts",onChange:u,onBlur:d,value:i.sourceAccounts,error:l.sourceAccounts,touched:c.sourceAccounts,required:!0}),o.jsx(A,{name:"sourceFund",type:"text",label:"Fund",onChange:u,onBlur:d,value:i.sourceFund,error:l.sourceFund,touched:c.sourceFund,required:!0}),o.jsx(A,{name:"sourceProject",type:"text",label:"Project",onChange:u,onBlur:d,value:i.sourceProject,error:l.sourceProject,touched:c.sourceProject,required:!0}),o.jsx(A,{name:"sourceTransfer",type:"number",label:"Transfer",onChange:u,onBlur:d,value:i.sourceTransfer,error:l.sourceTransfer,touched:c.sourceTransfer,required:!0}),o.jsx(A,{name:"sourceAppropriation",type:"number",label:"Appropriation",onChange:u,onBlur:d,value:i.sourceAppropriation,error:l.sourceAppropriation,touched:c.sourceAppropriation,required:!0})," ",o.jsx(A,{name:"sourceAppropriationBalance",type:"number",label:"Appropriation Balance",onChange:u,onBlur:d,value:i.sourceAppropriationBalance,error:l.sourceAppropriationBalance,touched:c.sourceAppropriationBalance,required:!0}),o.jsx(A,{name:"Remarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.sourceRemarks,error:l.sourceRemarks,touched:c.sourceRemarks,required:!0})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"font-medium",children:"Account Target"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(A,{label:"Budget Name",name:"targetBudgetName",type:"text",onChange:u,onBlur:d,value:i.targetBudgetName,error:l.targetBudgetName,touched:c.targetBudgetName,required:!0}),o.jsx(A,{label:"Fiscal Year",name:"targetFiscalYear",type:"text",onChange:u,onBlur:d,value:i.targetFiscalYear,error:l.targetFiscalYear,touched:c.targetFiscalYear,required:!0}),o.jsx(A,{label:"Department",name:"targetDepartment",type:"text",onChange:u,onBlur:d,value:i.targetDepartment,error:l.targetDepartment,touched:c.targetDepartment,required:!0}),o.jsx(A,{label:"Sub Department",name:"targetSubDepartment",type:"text",onChange:u,onBlur:d,value:i.targetSubDepartment,error:l.targetSubDepartment,touched:c.targetSubDepartment,required:!0}),o.jsx(A,{name:"targetAccounts",type:"text",label:"Chat of Accounts",onChange:u,onBlur:d,value:i.targetAccounts,error:l.targetAccounts,touched:c.targetAccounts,required:!0}),o.jsx(A,{name:"targetFund",type:"text",label:"Fund",onChange:u,onBlur:d,value:i.targetFund,error:l.targetFund,touched:c.targetFund,required:!0}),o.jsx(A,{name:"targetProject",type:"text",label:"Project",onChange:u,onBlur:d,value:i.targetProject,error:l.targetProject,touched:c.targetProject,required:!0}),o.jsx(A,{name:"targetTransfer",type:"number",label:"Transfer",onChange:u,onBlur:d,value:i.targetTransfer,error:l.targetTransfer,touched:c.targetTransfer,required:!0}),o.jsx(A,{name:"targetAppropriation",type:"number",label:"Appropriation",onChange:u,onBlur:d,value:i.targetAppropriation,error:l.targetAppropriation,touched:c.targetAppropriation,required:!0})," ",o.jsx(A,{name:"targetAppropriationBalance",type:"number",label:"Appropriation Balance",onChange:u,onBlur:d,value:i.targetAppropriationBalance,error:l.targetAppropriationBalance,touched:c.targetAppropriationBalance,required:!0}),o.jsx(A,{name:"targetRemarks ",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.targetRemarks,error:l.targetRemarks,touched:c.targetRemarks,required:!0})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const T8e=()=>{ie();const[t,e]=v.useState(!1),[r,n]=v.useState(null),a=d=>{n(d),e(!0)},s=d=>{pe.success(`Deleted ${d.InvoiceNumber}`)},i=d=>{r?pe.success("Transfer updated successfully"):pe.success("New transfer added"),e(!1)},l=[{key:"InvoiceNumber",header:"Invoice #",sortable:!0},{key:"Budget",header:"Budget",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,numeric:!0},{key:"Remarks",header:"Remarks",sortable:!1}],c=[{icon:Va,title:"Edit",onClick:a,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Yn,title:"Delete",onClick:s,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],u=[{InvoiceNumber:"BT-18-2025",Budget:"Traveling Expenses",Status:"Posted",InvoiceDate:"03-03-2025",Total:"5,000.00",Remarks:""},{InvoiceNumber:"BT-17-2025",Budget:"Electricity Expenses",Status:"Posted",InvoiceDate:"25-02-2025",Total:"99,00,000.00",Remarks:"testing"}];return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Transfer"}),o.jsx("p",{children:"Manage your budget transfers here"})]}),o.jsxs("button",{onClick:()=>a(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Transfer"]})]}),o.jsx(ge,{columns:l,data:u,actions:c,pagination:!0}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Transfer":"Add New Transfer",children:o.jsx(A8e,{onSubmit:i,initialData:r,onClose:()=>e(!1)})})]})},k8e=oe({Code:I().required("Code is required"),Name:I().required("Name is required"),Description:I().required("Description is required"),Amount:te().required("Amount is required").min(0,"Amount must be positive")}),a5={Code:"",Name:"",Description:"",Amount:0};function I8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...a5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({ID:(t==null?void 0:t.ID)||"",Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",Description:(t==null?void 0:t.Description)||"",Amount:(t==null?void 0:t.OriginalAmount)||""}):a(a5)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:k8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",onChange:u,onBlur:d,value:i.Code,error:l.Code,touched:c.Code,placeholder:"e.g., 1-01-01-010",required:!0}),o.jsx(A,{label:"Name",name:"Name",type:"text",onChange:u,onBlur:d,value:i.Name,error:l.Name,touched:c.Name,placeholder:"Enter Name ",required:!0}),o.jsx(A,{label:"Amount",name:"Amount",type:"text",onChange:u,onBlur:d,value:i.Amount,error:l.Amount,touched:c.Amount,placeholder:"Enter Amount ",required:!0}),o.jsx(A,{name:"Description",type:"textarea",label:"Description",onChange:u,onBlur:d,value:i.Description,error:l.Description,touched:c.Description,placeholder:"Enter Description",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const O8e=()=>{const t=ie(),{funds:e,loading:r}=V(p=>p.funds),[n,a]=v.useState(!1),[s,i]=v.useState(null),l=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:p=>p||""},{key:"Name",header:"Name",sortable:!0,render:p=>o.jsx("span",{className:"font-medium",children:p||""})},{key:"Description",header:"Description",sortable:!0,render:p=>o.jsx("span",{className:"text-gray-600",children:p||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,className:"text-right",render:p=>o.jsx("span",{className:"font-medium",children:p?c(p):""})}],c=p=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(p),f=[{icon:Va,title:"Edit",onClick:p=>{i(p),a(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Yn,title:"Delete",onClick:async p=>{await t(Hy(p.ID)).unwrap(),t(sr())},className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],m=async p=>{s?await t(Wy(p)).unwrap():await t(zy(p)).unwrap(),t(sr()),a(!1),i(null)},h=p=>{console.log("View row:",p)};return v.useEffect(()=>{t(sr())},[t]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Funds"}),o.jsx("p",{children:"Manage budget funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:()=>{i(null),a(!0)},className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:l,data:e,actions:f,loading:r,onRowClick:h})}),o.jsx(ae,{size:"sm",isOpen:n,onClose:()=>{a(!1),i(null)},title:s?"Edit Budget Fund":"Add New Budget Fund",children:o.jsx(I8e,{onSubmit:m,initialData:s,onClose:()=>{a(!1),i(null)}})})]})},E8e=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(!1),a=["Type","SubID","Subtype","Category","ChartOfAccounts","AccountCode","Original","Final","Difference","Actual","Difference2","Period","Original_Sum","Final_Sum","Difference_Sum","Actual_Sum","Difference2_Sum","Municipality","Province"],s=[{Type:"Asset",SubID:"7",Subtype:"Cash",Category:"Cash on Hand",ChartOfAccounts:"Cash - Local Treasury",AccountCode:"10101010",Original:"1.00",Final:"1.00",Difference:"0.00",Actual:"0.00",Difference2:"1.00",Period:"31-08-2024",Original_Sum:"1.00",Final_Sum:"1.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"1.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"7",Subtype:"Cash",Category:"Cash on Hand",ChartOfAccounts:"Petty Cash",AccountCode:"10101020",Original:"10,40,000.00",Final:"10,90,000.00",Difference:"-50,000.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"10,40,000.00",Final_Sum:"10,90,000.00",Difference_Sum:"-50,000.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"8",Subtype:"Investments",Category:"Financial Assets - Bonds",ChartOfAccounts:"Investments in Bonds - Local",AccountCode:"10203020",Original:"60,000.00",Final:"60,000.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"60,000.00",Final_Sum:"60,000.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"8",Subtype:"Investments",Category:"Investments in Treasury Bills",ChartOfAccounts:"Treasury Bills",AccountCode:"10201030",Original:"28,20,001.00",Final:"28,20,001.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"28,20,001.00",Final_Sum:"28,20,001.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"8",Subtype:"Investments",Category:"Guaranty Deposits",ChartOfAccounts:"Guaranty Deposits",AccountCode:"10205020",Original:"40,000.00",Final:"40,000.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"40,000.00",Final_Sum:"40,000.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"9",Subtype:"Receivables",Category:"Loans and Accounts Receivable",ChartOfAccounts:"Notes Receivable",AccountCode:"10301040",Original:"4,80,000.00",Final:"4,80,000.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"4,80,000.00",Final_Sum:"4,80,000.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"9",Subtype:"Receivables",Category:"Loans and Accounts Receivable",ChartOfAccounts:"Real Property Tax Receivable",AccountCode:"10301020",Original:"30,000.00",Final:"30,000.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"30,000.00",Final_Sum:"30,000.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"10",Subtype:"Inventories",Category:"Inventory Held for Consumption",ChartOfAccounts:"Finished Goods Inventory",AccountCode:"10403030",Original:"8,00,000.00",Final:"8,00,000.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"8,00,000.00",Final_Sum:"8,00,000.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"12",Subtype:"Investment Property",Category:"Land and Buildings",ChartOfAccounts:"Investment Property, Land",AccountCode:"10601010",Original:"50.00",Final:"50.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"50.00",Final_Sum:"50.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Expenses",SubID:"34",Subtype:"Maintenance And Other Operating Expenses",Category:"Traveling Expenses",ChartOfAccounts:"Traveling Expenses",AccountCode:"50201010",Original:"10,000.00",Final:"5,000.00",Difference:"5,000.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"10,000.00",Final_Sum:"5,000.00",Difference_Sum:"5,000.00",Actual_Sum:"0.00",Difference2_Sum:"5,000.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Liability",SubID:"17",Subtype:"Inter-Agency Payables",Category:"Inter-Agency Payables",ChartOfAccounts:"Due to LGUs",AccountCode:"20201070",Original:"0.00",Final:"0.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"0.00",Final_Sum:"0.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"}],i=l=>{console.log(r?"Updated":"Created")};return o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Summary of Comparison of Budget and Actual Amount"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full flex flex-wrap items-end gap-3",children:[o.jsxs("div",{className:"w-52",children:[o.jsx("label",{htmlFor:"fiscalYear",children:"Fiscal Year"}),o.jsxs("select",{name:"fiscalYear",id:"fiscalYear",children:[o.jsx("option",{value:"",children:"-- Select --"}),o.jsx("option",{value:"feb-aug",children:"Feb Aug"}),o.jsx("option",{value:"mar-aug",children:"Mar Aug"})]})]}),o.jsxs("div",{className:"space-x-3",children:[o.jsx("button",{className:"btn",children:"View"}),o.jsx("button",{className:"btn",children:"Generate Journal"}),o.jsx("button",{className:"btn",children:"Export to Excel"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"py-2 align-middle inline-block min-w-full ",children:o.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:a==null?void 0:a.map((l,c)=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:l}))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((l,c)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.SubID}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Subtype}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Category}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.ChartOfAccounts}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.AccountCode}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Original}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Final}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Difference}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Actual}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Difference2}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Period}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Original_Sum}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Final_Sum}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Difference_Sum}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Actual_Sum}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Difference2_Sum}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Municipality}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Province})]},c))})]})})})})]})]}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(BI,{onSubmit:i,initialData:r,onClose:()=>e(!1)})})]})},HO=nt.create({baseURL:"https://staging-engine.testthelink.online",timeout:1e4,headers:{"Content-Type":"application/json"}});HO.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));HO.interceptors.response.use(t=>t,t=>(console.error("Axios error:",t.response||t.message),Promise.reject(t)));const P8e="https://staging-engine.testthelink.online",D8e=()=>{const t=ie(),{fiscalYears:e}=V(E=>E.fiscalYears),{funds:r}=V(E=>E.funds),{departments:n}=V(E=>E.departments),[a,s]=v.useState("appropriations"),[i,l]=v.useState([]),[c,u]=v.useState(!1),[d,f]=v.useState(""),[m,h]=v.useState(""),[p,g]=v.useState(""),[y,x]=v.useState(""),[b,w]=v.useState("");v.useEffect(()=>{t(ys()),t(sr()),t(Cr())},[t]);const S=()=>({startDate:d,endDate:m,fiscalYearID:p,fundsID:y,departmentID:b}),C=()=>d&&m&&p&&y&&b,j=async E=>{if(!C()){pe.error("Please select all filters");return}u(!0);try{s(E);const O=E==="appropriations"?"/statementOfAppropriations/view":"/statementOfAppropriations/viewSAO",P=await HO.post(O,S());l(P.data)}catch{pe.error("Failed to fetch data")}finally{u(!1)}},N=[{key:"Fund",header:"Fund"},{key:"Year",header:"Year"},{key:"Month End",header:"Month End"},{key:"Account Code",header:"Account Code"},{key:"ID",header:"ID"},{key:"Category",header:"Category"},{key:"Name",header:"Name"},{key:"Appropriation",header:"Appropriation",numeric:!0},{key:"Allotment",header:"Allotment",numeric:!0},{key:"Obligation",header:"Obligation",numeric:!0},{key:"Unobligated Appropriation",header:"Unobligated Appropriation",numeric:!0},{key:"Unobligated Allotment",header:"Unobligated Allotment",numeric:!0},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Requested By",header:"Requested By"},{key:"Position",header:"Position"}],T=[{key:"Date",header:"Date"},{key:"OBR No.",header:"OBR No."},{key:"Particulars",header:"Particulars"},{key:"Appropriation/ Allotment",header:"Appropriation/ Allotment",numeric:!0},{key:"Expenses",header:"Expenses",numeric:!0},{key:"Balance",header:"Balance",numeric:!0}],k=async()=>{if(!C()){pe.error("Please select all filters");return}try{const E=await fetch(`${P8e}/statementOfAppropriations/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S())});if(!E.ok)throw new Error("Server response was not ok");const O=await E.blob(),P=E.headers.get("Content-Disposition");let L="StatementOfAppropriations.xlsx";P&&P.includes("filename=")&&(L=P.split("filename=")[1].replace(/['"]/g,""));const $=window.URL.createObjectURL(O),D=document.createElement("a");D.href=$,D.download=L,document.body.appendChild(D),D.click(),document.body.removeChild(D),window.URL.revokeObjectURL($)}catch(E){console.error("Export failed:",E),pe.error(E.message||"Failed to export file")}};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header mb-4",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage budget allocations and balances"})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Start Date"}),o.jsx("input",{type:"date",className:"form-input",value:d,onChange:E=>f(E.target.value)})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"End Date"}),o.jsx("input",{type:"date",className:"form-input",value:m,onChange:E=>h(E.target.value)})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Fiscal Year"}),o.jsxs("select",{className:"form-select",value:p,onChange:E=>g(E.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),e.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Fund"}),o.jsxs("select",{className:"form-select",value:y,onChange:E=>x(E.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Department"}),o.jsxs("select",{className:"form-select",value:b,onChange:E=>w(E.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),n.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 w-max mb-4",children:[o.jsx("button",{onClick:()=>j("appropriations"),className:"btn btn-primary",children:"View"}),o.jsx("button",{onClick:()=>j("viewSAO"),className:"btn btn-primary",children:"View SAO"}),o.jsx("button",{className:"btn btn-primary",children:"Generate SAAOB"}),o.jsx("button",{className:"btn btn-primary",children:"Generate SAO"}),o.jsx("button",{className:"btn btn-primary",onClick:k,children:"Export to Excel"})]}),o.jsx(ge,{columns:a==="appropriations"?N:T,data:i,loading:c})]})},_8e=oe({fund:I().required("Fund is required"),code:I().required("Code is required"),name:I().required("Name is required"),desc:I().required("Description is required"),amount:te().required("Amount is required").min(0,"Amount must be positive")}),s5={code:"",name:"",fund:"",desc:"",amount:0};function $8e({initialData:t,onSubmit:e,onClose:r,funds:n}){const[a,s]=v.useState({...s5}),i=(l,{setSubmitting:c})=>{e(l),c(!1),console.log("Form submitted with values:",l)};return v.useEffect(()=>{t!=null&&t.ID?s({id:t==null?void 0:t.ID,code:t==null?void 0:t.Code,name:t==null?void 0:t.Name,desc:t==null?void 0:t.Description,amount:t==null?void 0:t.Amount,fund:t==null?void 0:t.FundsID}):s(s5)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:_8e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(A,{label:"Code",name:"code",type:"text",placeholder:"Enter code",onChange:d,onBlur:f,value:l.code,error:c.code,touched:u.code,required:!0}),o.jsx(A,{label:"Name",name:"name",type:"text",placeholder:"Enter name",onChange:d,onBlur:f,value:l.name,error:c.name,touched:u.name,required:!0}),o.jsx(A,{label:"Amount",name:"amount",type:"text",placeholder:"Enter amount",onChange:d,onBlur:f,value:l.amount,error:c.amount,touched:u.amount,required:!0}),o.jsx(A,{label:"Fund",name:"fund",type:"select",placeholder:"Select fund",onChange:d,onBlur:f,value:l.fund,error:c.fund,touched:u.fund,options:n,required:!0}),o.jsx(A,{name:"desc",type:"textarea",label:"Description",placeholder:"Enter description",onChange:d,onBlur:f,value:l.desc,error:c.desc,touched:u.desc,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const R8e=()=>{const t=ie(),{subFunds:e,isLoading:r}=V(x=>x.subFunds),{funds:n,loading:a}=V(x=>x.funds),[s,i]=v.useState(!1),[l,c]=v.useState(null),u=[{key:"FundsID",header:"Funds ID",sortable:!0,className:"font-medium text-neutral-900",render:x=>x||""},{key:"Code",header:"Code",sortable:!0,render:x=>o.jsx("span",{className:"font-medium",children:x||""})},{key:"Name",header:"Name",sortable:!0,render:x=>o.jsx("span",{className:"font-medium",children:x||""})},{key:"Description",header:"Description",sortable:!0,render:x=>o.jsx("span",{className:"text-gray-600",children:x||"No description"})},{key:"Amount",header:"Amount",sortable:!0,className:"text-right",render:x=>o.jsx("span",{className:"font-medium",children:x?f(x):""})}],d=[{icon:Va,title:"Edit",onClick:x=>p(x),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Yn,title:"Delete",onClick:x=>m(x),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],f=x=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(x),m=async x=>{try{await t(Ib(x.ID)).unwrap(),pe.success("Sub fund deleted successfully")}catch(b){pe.error(b.payload||"Failed to delete sub fund"),console.error(b)}},h=async x=>{try{if(l){const b={IsNew:!1,ID:l.ID,FundsID:x.fund,Code:x.code,Name:x.name,Description:x.desc,Amount:x.amount};await t(eT(b)).unwrap(),pe.success("Sub fund updated successfully")}else{const b={IsNew:!0,FundsID:x.fund,Code:x.code,Name:x.name,Description:x.desc,Amount:x.amount};await t(kb(b)).unwrap(),pe.success("Sub fund added successfully")}t(Gd()),i(!1),c(null)}catch(b){pe.error(b.payload||"Failed to save sub fund"),console.error(b)}},p=x=>{c(x),i(!0)},g=x=>{console.log("View row:",x)};v.useEffect(()=>{t(Gd()),t(sr())},[t]);const y=n==null?void 0:n.map(x=>({value:x.ID,label:x.Name}));return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Sub Funds"}),o.jsx("p",{children:"Manage budget sub funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:()=>p(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Sub Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:u,data:e,actions:d,loading:r||a,onRowClick:g})}),o.jsx(ae,{size:"sm",isOpen:s,onClose:()=>i(!1),title:l?"Edit Sub Fund":"Add New Sub Fund",children:o.jsx($8e,{onSubmit:h,initialData:l,funds:y,onClose:()=>i(!1)})})]})},M8e=oe({sourceCode:I().required("Code is required"),sourceFundName:I().required("Name is required"),sourceBalance:te().required("Balance is required").min(0,"Balance must be positive"),sourceTransfer:te().required("Amount is required").min(0,"Amount must be positive"),targetRemarks:I().required("Year is required"),targetCode:I().required("Code is required"),targetFundName:I().required("Name is required"),targetBalance:te().required("Balance is required").min(0,"Balance must be positive"),targetTransfer:te().required("Amount is required").min(0,"Amount must be positive")}),o5={sourceCode:"",sourceFundName:"",sourceBalance:0,sourceTransfer:0,sourceRemarks:"",targetCode:"",targetFundName:"",targetBalance:0,targetTransfer:0,targetRemarks:""};function L8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...o5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(o5)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:M8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"font-medium",children:"Fund Source"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(A,{label:"Code",name:"targeteCode",type:"text",onChange:u,onBlur:d,value:i.targeteCode,error:l.targetCode,touched:c.targetCode,required:!0}),o.jsx(A,{label:"Name",name:"targetFundName",type:"text",onChange:u,onBlur:d,value:i.targetFundName,error:l.targetFundName,touched:c.targetFundName,required:!0}),o.jsx(A,{label:"Balance",name:"targetBalance",type:"text",onChange:u,onBlur:d,value:i.targetBalance,error:l.targetBalance,touched:c.targetBalance,required:!0}),o.jsx(A,{label:"Transfer",name:"targetTransfer",type:"text",onChange:u,onBlur:d,value:i.targetTransfer,error:l.targetTransfer,touched:c.targetTransfer,required:!0}),o.jsx(A,{name:"targetRemarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.targetRemarks,error:l.targetRemarks,touched:c.targetRemarks,required:!0})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"font-medium",children:"Fund Target"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(A,{label:"Code",name:"code",type:"text",onChange:u,onBlur:d,value:i.sourceCode,error:l.sourceCode,touched:c.sourceCode,required:!0}),o.jsx(A,{label:"Name",name:"name",type:"text",onChange:u,onBlur:d,value:i.sourceFundName,error:l.sourceFundName,touched:c.sourceFundName,required:!0}),o.jsx(A,{label:"Balance",name:"sourceBalance",type:"text",onChange:u,onBlur:d,value:i.sourceBalance,error:l.sourceBalance,touched:c.sourceBalance,required:!0}),o.jsx(A,{label:"Transfer",name:"sourceTransfer",type:"text",onChange:u,onBlur:d,value:i.sourceTransfer,error:l.sourceTransfer,touched:c.sourceTransfer,required:!0}),o.jsx(A,{name:"sourceRemarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.sourceRemarks,error:l.sourceRemarks,touched:c.sourceRemarks,required:!0})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const F8e=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(null),[a]=v.useState([{id:1,Code:"100",Name:"General Fund",Description:"The general fund.",OriginalAmount:"50,10,00,00,050.00",Balance:"50,10,00,00,050.00",Total:"50,10,00,00,050.00"},{id:2,Code:"300",Name:"Trust Fund",Description:"The trust fund.",OriginalAmount:"1,99,950.00",Balance:"3,00,000.00",Total:"3,00,000.00"},{id:3,Code:"200",Name:"Special Education Fund",Description:"The special education fund.",OriginalAmount:"2,00,000.00",Balance:"2,00,000.00",Total:"2,00,000.00"},{id:4,Code:"000",Name:"Test Fund",Description:"This is just a test fund. This will also be deleted.",OriginalAmount:"1,00,000.00",Balance:"1,00,000.00",Total:"1,00,000.00"}]),s=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:f=>f||""},{key:"Name",header:"Name",sortable:!0,render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Description",header:"Description",sortable:!0,render:f=>o.jsx("span",{className:"text-gray-600",children:f||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Balance",header:"Balance",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Total",header:"Total",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})}],i=[{icon:Va,title:"Edit",onClick:f=>c(f),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Yn,title:"Delete",onClick:f=>u(f.id),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],l=f=>{r?(console.log("Updated:",f),toast.success("Transfer updated successfully")):(console.log("Created:",f),toast.success("Transfer created successfully")),e(!1)},c=f=>{n(f),e(!0)},u=f=>{window.confirm("Are you sure you want to delete this transfer?")&&(console.log("Deleted transfer with id:",f),toast.success("Transfer deleted successfully"))},d=f=>{console.log("View transfer:",f)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Transfer"}),o.jsx("p",{children:"Manage fund transfers between accounts"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:()=>c(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Transfer"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:s,data:a,actions:i,loading:!1,onRowClick:d})}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Fund Transfer":"Add Fund Transfer",children:o.jsx(L8e,{onSubmit:l,initialData:r,onClose:()=>e(!1)})})]})},B8e=oe().shape({reportType:I().required("Report type is required"),date:Re().when("reportType",{is:"daily",then:t=>t.required("Date is required")}),action:I().required("Action is required"),month:te().when("reportType",{is:"monthly",then:t=>t.required("Month is required").min(1).max(12)}),year:te().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:t=>t.required("Year is required").min(2e3).max(2100)}),quarter:te().when("reportType",{is:"quarterly",then:t=>t.required("Quarter is required").min(1).max(4)}),fromDate:Re().when("reportType",{is:"flexible",then:t=>t.required("From date is required")}),toDate:Re().when("reportType",{is:"flexible",then:t=>t.required("To date is required").min(Df("fromDate"),"To date must be after from date")}),notedBy:I().when("reportType",{is:"flexible",then:t=>t.required("Noted by is required")})});function q8e({onSubmitCollectionReport:t,activeReportType:e,setActiveReportType:r}){const n={reportType:"daily",action:"",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!1,marriageCert:!1,burialCert:!1,generalService:!1,propertyTax:!1,marketTicketing:!1}},a=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],s=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=(d,f,m,h)=>{switch(e){case"daily":return o.jsx(A,{label:"Date",name:"date",type:"date",required:!0,className:"w-full",onChange:h,value:m.date,error:d.date,touched:f.date});case"monthly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Month",name:"month",type:"select",options:s,value:m.month,onChange:h,required:!0,error:d.month,touched:f.month}),o.jsx(A,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100,value:m.year,onChange:h,error:d.year,touched:f.year})]});case"quarterly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Quarter",name:"quarter",type:"select",options:i,value:m.quarter,onChange:h,required:!0,error:d.quarter,touched:f.quarter}),o.jsx(A,{label:"Year",name:"year",type:"number",required:!0,value:m.year,onChange:h,min:2e3,max:2100,error:d.year,touched:f.year})]});case"flexible":return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"From Date",name:"fromDate",type:"date",required:!0,value:m.fromDate,onChange:h,error:d.fromDate,touched:f.fromDate}),o.jsx(A,{label:"To Date",name:"toDate",type:"date",required:!0,value:m.toDate,onChange:h,error:d.toDate,touched:f.toDate})]}),o.jsx(A,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0,value:m.notedBy,onChange:h,error:d.notedBy,touched:f.notedBy})]});default:return null}},u=(d,{setSubmitting:f,setErrors:m})=>{try{const h={ctc:d.documentTypes.communityTax?1:0,btc:d.documentTypes.burialCert?1:0,mrc:d.documentTypes.marriageCert?1:0,gsi:d.documentTypes.generalService?1:0,rpt:d.documentTypes.propertyTax?1:0,pmt:d.documentTypes.marketTicketing?1:0};let p={};switch(d.reportType){case"daily":p={date:d.date};break;case"monthly":p={month:d.month,year:d.year};break;case"quarterly":p={quarter:d.quarter,year:d.year};break;case"flexible":p={startdate:d.fromDate,enddate:d.toDate,note:d.notedBy};break;default:throw new Error("Invalid report type")}const g={...h,...p};t({...d,action:d.action,params:g})}catch(h){console.error("Error submitting form:",h),m({submit:h.message})}finally{f(!1)}};return o.jsx($e,{initialValues:n,validationSchema:B8e,onSubmit:u,children:({values:d,errors:f,touched:m,setFieldValue:h,handleSubmit:p,handleChange:g,setErrors:y,isSubmitting:x})=>o.jsxs(Be,{className:"space-y-4",children:[function(){console.log(e,d,f)}(),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.map(b=>o.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===b.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(b.value),h("reportType",b.value)},children:b.label},b.value))}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c(f,m,d,g)}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(b=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`document-${b.name}`,name:`documentTypes.${b.name}`,checked:d.documentTypes[b.name],onChange:w=>{h(`documentTypes.${b.name}`,w.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`document-${b.name}`,className:"ml-2 block text-sm text-gray-700",children:b.label})]},b.name))})]}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[o.jsx("button",{type:"button",onClick:()=>{h("action","view"),p(),y({})},className:"btn btn-primary sm:w-auto w-full",children:"View"}),o.jsx("button",{type:"button",onClick:()=>{h("action","generate"),p()},className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),o.jsx("button",{type:"button",onClick:()=>{h("action","export"),p()},className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const Z7="https://staging-engine.testthelink.online",V8e=async(t,e)=>{try{const r=localStorage.getItem("token");let n=`${Z7}/collectionreport/${t}?`;const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":a.append("date",e.date);break;case"monthly":a.append("month",e.month),a.append("year",e.year);break;case"quarterly":a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":a.append("startdate",e.startDate),a.append("enddate",e.endDate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}n+=a.toString();const s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),i=await s.json();if(!s.ok)throw new Error(i.message||"Failed to fetch report");return i}catch(r){throw console.error(`Error fetching ${t} report:`,r),r}},U8e=async(t,e)=>{try{const r=localStorage.getItem("token");let n="";const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":n="/collectionreport/dailyExcel",a.append("date",e.date);break;case"monthly":n="/collectionreport/monthlyExcel",a.append("month",e.month),a.append("year",e.year);break;case"quarterly":n="/collectionreport/quarterlyExcel",a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":n="/collectionreport/flexibleExcel",a.append("startdate",e.startdate),a.append("enddate",e.enddate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}const s=`${Z7}${n}?${a.toString()}`,i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok){const h=await i.json();throw new Error(h.message||"Failed to export report")}const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c;const d=new Date,f=`${d.getFullYear()}${(d.getMonth()+1).toString().padStart(2,"0")}${d.getDate().toString().padStart(2,"0")}_${d.getHours()}${d.getMinutes()}`;let m="";switch(t){case"daily":m=`Daily_Report_${e.date.replace(/-/g,"")}_${f}.xlsx`;break;case"monthly":m=`Monthly_Report_${e.year}${e.month.toString().padStart(2,"0")}_${f}.xlsx`;break;case"quarterly":m=`Quarterly_Report_Q${e.quarter}_${e.year}_${f}.xlsx`;break;case"flexible":m=`Custom_Report_${e.startdate.replace(/-/g,"")}_to_${e.enddate.replace(/-/g,"")}_${f}.xlsx`;break}u.setAttribute("download",m),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)}catch(r){throw console.error(`Error exporting ${t} report:`,r),r}};function z8e(){const[t,e]=v.useState({daily:[],monthly:[],quarterly:[],flexible:[]}),[r,n]=v.useState("daily"),[a,s]=v.useState(!1),i=async c=>{s(!0),console.log("Form data:",c);try{switch(c.action){case"view":const u=await V8e(c.reportType,c.params);e(d=>({...d,[c.reportType]:u})),n(c.reportType),console.log(u);break;case"generate":setCollectionData([]);case"export":await U8e(c.reportType,c.params);break;default:break}}catch(u){console.error("Error handling collection report action:",u),it.error("Failed to handle collection report action.")}finally{s(!1)}},l={daily:[{key:"ChargeAccountID",header:"Charge Account ID",render:c=>c||"-"},{key:"FundsID",header:"Funds ID",render:c=>c||"-"},{key:"Name",header:"Name",render:c=>c||"-"},{key:"Account",header:"Account",render:c=>c||"-"},{key:"SubTotal",header:"Sub-Total",render:c=>c.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"Date",header:"Date",render:c=>new Date(c).toLocaleDateString()},{key:"FullName",header:"Full Name",render:c=>c||"-"},{key:"Position",header:"Position",render:c=>c||"-"}],monthly:[{key:"Month",header:"Month"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"SubTotal",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.Date1} to ${u.Date2}`},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"},{key:"ChartOfAccounts",header:"Chart of Accounts"}],quarterly:[{key:"Quarter",header:"Quarter"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"FundName",header:"Fund Name"},{key:"QuarterlyBreakdown",header:"Quarterly Breakdown",render:(c,u)=>`Q1: ${u.First} | Q2: ${u.Second} | Q3: ${u.Third}`},{key:"Total",header:"Total",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"}],flexible:[{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.StartDate} to ${u.EndDate}`},{key:"InvoiceNumber",header:"Invoice #"},{key:"CustomerName",header:"Customer"},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Total",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"ProcessedBy",header:"Processed By",render:(c,u)=>`${u.Prepare} (${u.PreparePosition})`},{key:"NotedBy",header:"Noted By",render:(c,u)=>`${u.Poster} (${u.NotedPosition})`},{key:"Note",header:"Remarks"}]};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:o.jsx(q8e,{onSubmitCollectionReport:i,activeReportType:r,setActiveReportType:n})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:l[r],data:t[r],loading:a,emptyMessage:"No collection entries found for the selected date."})})]})}const W8e=oe().shape({StartDate:Re().required("From Date is required").max(Df("EndDate"),"From Date must be before or equal to To Date"),EndDate:Re().required("To Date is required").min(Df("StartDate"),"To Date must be after or equal to From Date"),fund:I().required("Fund is required")});function H8e({onSubmit:t}){const e={StartDate:"",EndDate:"",fund:""},{funds:r}=V(i=>i.funds),n=ie();v.useEffect(()=>{n(sr())},[n]);const a=r==null?void 0:r.map(i=>({value:i.ID,label:i.Name})),s=(i,{setSubmitting:l})=>{const c={...i,FundID:i.fund};delete c.fund,t(c),l(!1)};return o.jsx($e,{initialValues:e,validationSchema:W8e,onSubmit:s,children:({values:i,errors:l,touched:c,handleSubmit:u,setFieldValue:d,handleChange:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"From Date",name:"StartDate",type:"date",required:!0,value:i.StartDate,onChange:f,error:l.StartDate,touched:c.StartDate}),o.jsx(A,{label:"To Date",name:"EndDate",type:"date",required:!0,value:i.EndDate,onChange:f,error:l.EndDate,touched:c.EndDate})]}),o.jsx(A,{label:"Fund",name:"fund",type:"select",required:!0,value:i.fund,onChange:f,error:l.fund,touched:c.fund,options:a}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",onClick:()=>d("action","view"),className:"btn btn-primary",children:"View"}),o.jsx("button",{type:"submit",onClick:()=>d("action","generate"),className:"btn btn-secondary",children:"Generate Cashbook"}),o.jsx("button",{type:"submit",onClick:()=>d("action","export"),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const eW="https://staging-engine.testthelink.online",G8e=async t=>{try{const e=localStorage.getItem("token"),r=`${eW}/cashbook/view`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch cashbook data");return a}catch(e){throw console.error("Error fetching cashbook:",e),e}},Y8e=async t=>{try{const e=localStorage.getItem("token"),r=`${eW}/cashbook/exportExcel`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})});if(!n.ok){const m=await n.json();throw new Error(m.message||"Failed to export cashbook")}const a=await n.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s;const l=t.StartDate.replace(/-/g,""),c=t.EndDate.replace(/-/g,""),u=new Date,d=`${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}_${u.getHours()}${u.getMinutes()}`,f=`Cashbook_${l}_to_${c}_${d}.xlsx`;i.setAttribute("download",f),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}catch(e){throw console.error("Error exporting cashbook:",e),e}};function K8e(){const[t,e]=v.useState([]),[r,n]=v.useState(!1),a=async i=>{n(!0);const{action:l,...c}=i;try{switch(l){case"view":const u=await G8e(c);e(u);break;case"generate":break;case"export":await Y8e(c);break;default:break}}catch(u){console.error("Error handling cashbook action:",u)}finally{n(!1)}},s=[{key:"Year",header:"Year",render:i=>i||"-"},{key:"Officer",header:"Officer",render:i=>i||"-"},{key:"Fund",header:"Fund",render:i=>i||"-"},{key:"InvoiceDate",header:"Invoice Date",render:i=>i?new Date(i).toLocaleDateString():"-"},{key:"APAR",header:"AP AR",render:i=>i||"-"},{key:"InvoiceNumber",header:"Invoice Number",render:i=>i||"-"},{key:"Debit",header:"Debit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Credit",header:"Credit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Balance",header:"Balance",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:o.jsx(H8e,{onSubmit:a})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:s,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})})]})}function X8e(){const{isAuthenticated:t,isLoading:e}=V(a=>a.auth),r=ie(),n=Lo();return v.useEffect(()=>{const a=localStorage.getItem("token");a&&r(Sp(a))},[r]),v.useEffect(()=>{},[n.pathname]),e?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx(HK,{position:"top-right"}),o.jsxs(YG,{children:[o.jsxs(se,{element:o.jsx(DZ,{}),children:[o.jsx(se,{path:"/login",element:t?o.jsx(Tu,{to:"/",replace:!0}):o.jsx(_Z,{})}),o.jsx(se,{path:"/register",element:t?o.jsx(Tu,{to:"/",replace:!0}):o.jsx($Z,{})}),o.jsx(se,{path:"/forgot-password",element:t?o.jsx(Tu,{to:"/",replace:!0}):o.jsx(RZ,{})}),o.jsx(se,{path:"/reset-password",element:t?o.jsx(Tu,{to:"/",replace:!0}):o.jsx(MZ,{})})]}),o.jsxs(se,{element:o.jsx(PZ,{}),children:[o.jsx(se,{path:"/dashboard",element:o.jsx(Hae,{})}),o.jsx(se,{path:"/profile",element:o.jsx(K1e,{})}),o.jsx(se,{path:"/budget-dashboard",element:o.jsx(Uze,{})}),o.jsx(se,{path:"/disbursement-dashboard",element:o.jsx(Wze,{})}),o.jsx(se,{path:"/collection-dashboard",element:o.jsx(Hze,{})}),o.jsx(se,{path:"/settings/departments",element:o.jsx(Mue,{})}),o.jsx(se,{path:"/settings/customer",element:o.jsx(Cpe,{})}),o.jsx(se,{path:"/settings/lgu-maintenance",element:o.jsx(w1e,{})}),o.jsx(se,{path:"/settings/subdepartments",element:o.jsx(Hue,{})}),o.jsx(se,{path:"/settings/modules",element:o.jsx(eme,{})}),o.jsx(se,{path:"/settings/users",element:o.jsx(nde,{})}),o.jsx(se,{path:"/settings/user-roles",element:o.jsx(pme,{})}),o.jsx(se,{path:"/settings/user-access",element:o.jsx(W1e,{})}),o.jsx(se,{path:"/settings/chart-of-accounts",element:o.jsx(afe,{})}),o.jsx(se,{path:"/settings/account-group",element:o.jsx(ofe,{})}),o.jsx(se,{path:"/settings/major-account-group",element:o.jsx(lfe,{})}),o.jsx(se,{path:"/settings/sub-major-account-group",element:o.jsx(ufe,{})}),o.jsx(se,{path:"/settings/vendors",element:o.jsx(Vfe,{})}),o.jsx(se,{path:"/settings/vendor-customer-type",element:o.jsx(Gfe,{})}),o.jsx(se,{path:"/settings/vendor-type",element:o.jsx(Kfe,{})}),o.jsx(se,{path:"/settings/employees",element:o.jsx(cme,{})}),o.jsx(se,{path:"/settings/employmentStatus",element:o.jsx(dme,{})}),o.jsx(se,{path:"/settings/positions",element:o.jsx(mme,{})}),o.jsx(se,{path:"/settings/nationalities",element:o.jsx(vme,{})}),o.jsx(se,{path:"/settings/locations",element:o.jsx(Nme,{})}),o.jsx(se,{path:"/settings/ppe",element:o.jsx(Fme,{})}),o.jsx(se,{path:"/settings/ppe-categories",element:o.jsx(qme,{})}),o.jsx(se,{path:"/settings/ppe-suppliers",element:o.jsx(Ume,{})}),o.jsx(se,{path:"/settings/approval-matrix",element:o.jsx(Zme,{})}),o.jsx(se,{path:"/settings/bank",element:o.jsx(bhe,{})}),o.jsx(se,{path:"/settings/currency",element:o.jsx(Vue,{})}),o.jsx(se,{path:"/settings/document-details",element:o.jsx(Che,{})}),o.jsx(se,{path:"/settings/document-type-categories",element:o.jsx(She,{})}),o.jsx(se,{path:"/settings/items",element:o.jsx(Dhe,{})}),o.jsx(se,{path:"/settings/items/invoice-charge-accounts",element:o.jsx(qhe,{})}),o.jsx(se,{path:"/settings/items/units",element:o.jsx(Uhe,{})}),o.jsx(se,{path:"/settings/project-type",element:o.jsx(Yhe,{})}),o.jsx(se,{path:"/settings/financial-statement",element:o.jsx(ape,{})}),o.jsx(se,{path:"/settings/fiscal-year",element:o.jsx(cpe,{})}),o.jsx(se,{path:"/settings/tax-code",element:o.jsx(fpe,{})}),o.jsx(se,{path:"/settings/mode-of-payment",element:o.jsx(hpe,{})}),o.jsx(se,{path:"/settings/payment-terms",element:o.jsx(gpe,{})}),o.jsx(se,{path:"/settings/industry",element:o.jsx(bpe,{})}),o.jsx(se,{path:"/settings/project-details",element:o.jsx(Zhe,{})}),o.jsx(se,{path:"/settings/tax-declaration",element:o.jsx(Ope,{})}),o.jsx(se,{path:"/settings/base-unit-value",element:o.jsx(Bpe,{})}),o.jsx(se,{path:"/settings/general-revision",element:o.jsx($pe,{})}),o.jsx(se,{path:"/disbursement/obligation-requests",element:o.jsx(L0e,{})}),o.jsx(se,{path:"/disbursement/vouchers",element:o.jsx(U0e,{})}),o.jsx(se,{path:"/disbursement/travel-orders",element:o.jsx(K0e,{})}),o.jsx(se,{path:"/disbursement/journal-entry-vouchers",element:o.jsx(txe,{})}),o.jsx(se,{path:"/disbursement/disbursement-journals",element:o.jsx(ixe,{})}),o.jsx(se,{path:"/disbursement/general-journals",element:o.jsx(mxe,{})}),o.jsx(se,{path:"/disbursement/beginning-balance",element:o.jsx(vxe,{})}),o.jsx(se,{path:"/disbursement/purchase-requests",element:o.jsx(Txe,{})}),o.jsx(se,{path:"/disbursement/fund-utilization-requests",element:o.jsx(Dxe,{})}),o.jsx(se,{path:"/collections/receipts",element:o.jsx(ZF,{})}),o.jsx(se,{path:"/collections/community-tax",element:o.jsx(Mxe,{})}),o.jsx(se,{path:"/collections/community-tax-corporation",element:o.jsx(qxe,{})}),o.jsx(se,{path:"/collections/real-property-tax",element:o.jsx(Zze,{})}),o.jsx(se,{path:"/collections/market",element:o.jsx(Vxe,{})}),o.jsx(se,{path:"/collections/general-service-receipts",element:o.jsx(ZF,{})}),o.jsx(se,{path:"/collections/burial-service-receipts",element:o.jsx(Aje,{})}),o.jsx(se,{path:"/collections/marriage-service-receipts",element:o.jsx(Eje,{})}),o.jsx(se,{path:"/collections/cashbook",element:o.jsx(K8e,{})}),o.jsx(se,{path:"/collections/reports",element:o.jsx(z8e,{})}),o.jsx(se,{path:"/collections/public-market-tickets",element:o.jsx(a1e,{})}),o.jsx(se,{path:"/budget",element:o.jsx(j1e,{})}),o.jsx(se,{path:"/budget/allotment",element:o.jsx(m8e,{})}),o.jsx(se,{path:"/budget/details",element:o.jsx(h8e,{})}),o.jsx(se,{path:"/budget/new",element:o.jsx(y1e,{})}),o.jsx(se,{path:"/budget/summary",element:o.jsx(g8e,{})}),o.jsx(se,{path:"/budget/supplemental",element:o.jsx(N8e,{})}),o.jsx(se,{path:"/budget/transfer",element:o.jsx(T8e,{})}),o.jsx(se,{path:"/budget/report",element:o.jsx(sR,{})}),o.jsx(se,{path:"/budget/funds",element:o.jsx(O8e,{})}),o.jsx(se,{path:"/budget/sub-funds",element:o.jsx(R8e,{})}),o.jsx(se,{path:"/budget/fund-transfer",element:o.jsx(F8e,{})}),o.jsx(se,{path:"/budget/statement-comparison",element:o.jsx(E8e,{})}),o.jsx(se,{path:"/budget/statement-appropriation",element:o.jsx(D8e,{})}),o.jsx(se,{path:"/applications/business-permits",element:o.jsx(N1e,{})}),o.jsx(se,{path:"/applications/cheque-generator",element:o.jsx(S1e,{})}),o.jsx(se,{path:"/reports/general-ledger",element:o.jsx(E1e,{})}),o.jsx(se,{path:"/reports/subsidiary-ledger",element:o.jsx(M1e,{})}),o.jsx(se,{path:"/reports/financial-statements",element:o.jsx(U1e,{})}),o.jsx(se,{path:"/reports/budget",element:o.jsx(sR,{})}),o.jsx(se,{path:"/reports/bir",element:o.jsx(z1e,{})}),o.jsx(se,{path:"/reports/trial-balance",element:o.jsx(s8e,{})}),o.jsx(se,{path:"/change-password",element:o.jsx(H1e,{})})]}),o.jsx(se,{path:"/",element:o.jsx(Tu,{to:"/dashboard\\",replace:!0})}),o.jsx(se,{path:"*",element:o.jsx(Gae,{})})]})]})}const tW=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],J8e={vendors:tW,vendor:null,isLoading:!1,error:null},dN=M("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(tW)},500)})}catch(r){return e.rejectWithValue(r.message)}}),fN=M("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),mN=M("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),rW=ye({name:"vendors",initialState:J8e,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(dN.pending,e=>{e.isLoading=!0}).addCase(dN.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(dN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fN.pending,e=>{e.isLoading=!0}).addCase(fN.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(fN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mN.pending,e=>{e.isLoading=!0}).addCase(mN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(mN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:mWe,resetVendorState:hWe}=rW.actions,Q8e=rW.reducer,hN=M("realPropertyTax/fetchRealPropertyTaxes",async()=>new Promise(t=>{setTimeout(()=>{t([{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"active"}])},1e3)})),pN=M("realPropertyTax/createRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e({id:Date.now(),...t})},1e3)})),gN=M("realPropertyTax/updateRealPropertyTax",async({id:t,data:e})=>new Promise(r=>{setTimeout(()=>{r({id:t,...e})},1e3)})),yN=M("realPropertyTax/deleteRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e(t)},1e3)})),Z8e={realPropertyTaxes:[],isLoading:!1,error:null},e7e=ye({name:"realPropertyTax",initialState:Z8e,reducers:{},extraReducers:t=>{t.addCase(hN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(hN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(pN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes.push(r.payload)}).addCase(pN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(gN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.realPropertyTaxes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.realPropertyTaxes[n]=r.payload)}).addCase(gN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(yN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=e.realPropertyTaxes.filter(n=>n.id!==r.payload)}).addCase(yN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),t7e=e7e.reducer,r7e=OY({reducer:{auth:rK,departments:Rue,currencies:Bue,subdepartments:Wue,users:Kue,chartOfAccounts:ode,accountGroups:cde,majorAccountGroups:fde,subMajorAccountGroups:pde,vendors:Q8e,employees:Que,obligationRequests:k0e,fundUtilizations:Oxe,disbursementVouchers:B0e,travelOrders:Y0e,ppes:$me,ppeCategories:Tme,ppeSuppliers:Ome,approvalMatrix:Qme,banks:phe,documentDetails:Hme,documentTypeCategories:whe,items:khe,invoiceChargeAccounts:Bhe,itemUnits:Ehe,projectDetails:Qhe,projectTypes:Ghe,financialStatements:npe,fiscalYears:lpe,taxCodes:$fe,modeOfPayments:qfe,paymentTerms:Lfe,industries:Pfe,employmentStatuses:ome,positions:nme,userroles:tde,nationalities:xme,vendorCustomerTypes:Hfe,vendorTypes:Ife,journalEntries:exe,purchaseRequests:Axe,taxDeclarations:Ipe,baseUnits:Fpe,regions:yfe,provinces:vfe,municipalities:Cfe,barangays:Afe,generalRevisions:Dpe,modules:Zfe,generalServiceReceipts:vje,disbursementJournal:oxe,beginningBalance:gxe,generalJournal:fxe,generalLedger:O1e,trialBalance:a8e,subsidiaryLedger:R1e,financialStatementsReports:V1e,budget:M0e,subFunds:v1e,funds:D0e,budgetDashboard:Z1e,vendorDetails:hfe,burialRecords:Sje,marriageRecords:Oje,publicMarketTicketing:e1e,communityTax:Rxe,corporateCommunityTax:Bxe,generalReceipts:Yze,realPropertyTax:t7e,customers:wpe},middleware:t=>t({serializableCheck:!1})});xN.createRoot(document.getElementById("root")).render(o.jsx(q.StrictMode,{children:o.jsx(JH,{store:r7e,children:o.jsx(tY,{children:o.jsx(X8e,{})})})}))});export default n7e();
